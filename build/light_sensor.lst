ARM GAS  /tmp/cc7waldT.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"light_sensor.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.rodata.handleTurnedOff.str1.4,"aMS",%progbits,1
  18              		.align	2
  19              	.LC0:
  20 0000 4F505433 		.ascii	"OPT3001 milli Lux: %ld\012\000"
  20      30303120 
  20      6D696C6C 
  20      69204C75 
  20      783A2025 
  21              		.align	2
  22              	.LC1:
  23 0018 4C494748 		.ascii	"LIGHT_SENS_TURNED_OFF_STATE\000"
  23      545F5345 
  23      4E535F54 
  23      55524E45 
  23      445F4F46 
  24              		.align	2
  25              	.LC2:
  26 0034 256C753A 		.ascii	"%lu: %s\012\000"
  26      2025730A 
  26      00
  27 003d 000000   		.align	2
  28              	.LC3:
  29 0040 4C494748 		.ascii	"LIGHT_SENS_CONTINUOUS_MEASURE_STATE\000"
  29      545F5345 
  29      4E535F43 
  29      4F4E5449 
  29      4E554F55 
  30              		.section	.text.handleTurnedOff,"ax",%progbits
  31              		.align	1
  32              		.arch armv7e-m
  33              		.syntax unified
  34              		.thumb
  35              		.thumb_func
  36              		.fpu fpv4-sp-d16
  38              	handleTurnedOff:
  39              	.LVL0:
  40              	.LFB143:
  41              		.file 1 "app/tasks/light_sensor/light_sensor.c"
   1:app/tasks/light_sensor/light_sensor.c **** /*!
   2:app/tasks/light_sensor/light_sensor.c ****  * @file light_sensor.c
   3:app/tasks/light_sensor/light_sensor.c ****  * @brief implementation of light_sensor
ARM GAS  /tmp/cc7waldT.s 			page 2


   4:app/tasks/light_sensor/light_sensor.c ****  *
   5:app/tasks/light_sensor/light_sensor.c ****  * Detailed description of the implementation file.
   6:app/tasks/light_sensor/light_sensor.c ****  *
   7:app/tasks/light_sensor/light_sensor.c ****  * @date 28/07/2024
   8:app/tasks/light_sensor/light_sensor.c ****  * @author artempolisskyi
   9:app/tasks/light_sensor/light_sensor.c ****  */
  10:app/tasks/light_sensor/light_sensor.c **** 
  11:app/tasks/light_sensor/light_sensor.c **** #include "light_sensor.h"
  12:app/tasks/light_sensor/light_sensor.c **** 
  13:app/tasks/light_sensor/light_sensor.c **** static osStatus_t handleLightSensorFSM(LIGHT_SENS_Actor_t *this, message_t *message);
  14:app/tasks/light_sensor/light_sensor.c **** /** states handlers */
  15:app/tasks/light_sensor/light_sensor.c **** static osStatus_t handleInit(LIGHT_SENS_Actor_t *this, message_t *message);
  16:app/tasks/light_sensor/light_sensor.c **** static osStatus_t handleTurnedOff(LIGHT_SENS_Actor_t *this, message_t *message);
  17:app/tasks/light_sensor/light_sensor.c **** static osStatus_t handleContinuousMeasure(LIGHT_SENS_Actor_t *this, message_t *message);
  18:app/tasks/light_sensor/light_sensor.c **** static osStatus_t handleOutOfRange(LIGHT_SENS_Actor_t *this, message_t *message);
  19:app/tasks/light_sensor/light_sensor.c **** 
  20:app/tasks/light_sensor/light_sensor.c **** extern actor_t* ACTORS_LIST_SystemRegistry[MAX_ACTORS];
  21:app/tasks/light_sensor/light_sensor.c **** 
  22:app/tasks/light_sensor/light_sensor.c **** LIGHT_SENS_Actor_t LIGHT_SENS_Actor = {
  23:app/tasks/light_sensor/light_sensor.c ****         .super = {
  24:app/tasks/light_sensor/light_sensor.c ****                 .actorId = LIGHT_SENSOR_ACTOR_ID,
  25:app/tasks/light_sensor/light_sensor.c ****                 .messageHandler = (messageHandler_t) handleLightSensorFSM,
  26:app/tasks/light_sensor/light_sensor.c ****                 .osMessageQueueId = NULL,
  27:app/tasks/light_sensor/light_sensor.c ****                 .osThreadId = NULL,
  28:app/tasks/light_sensor/light_sensor.c ****         },
  29:app/tasks/light_sensor/light_sensor.c ****         .state = LIGHT_SENS_NO_STATE,
  30:app/tasks/light_sensor/light_sensor.c ****         .rawLux = 0x0000,
  31:app/tasks/light_sensor/light_sensor.c ****         .highLimit = OPT3001_CONFIG_LIMIT_MAX
  32:app/tasks/light_sensor/light_sensor.c **** };
  33:app/tasks/light_sensor/light_sensor.c **** 
  34:app/tasks/light_sensor/light_sensor.c **** uint32_t lightSensorTaskBuffer[DEFAULT_TASK_STACK_SIZE_WORDS];
  35:app/tasks/light_sensor/light_sensor.c **** StaticTask_t lightSensorTaskControlBlock;
  36:app/tasks/light_sensor/light_sensor.c **** const osThreadAttr_t lightSensorTaskDescription = {
  37:app/tasks/light_sensor/light_sensor.c ****         .name = "lightSensorTask",
  38:app/tasks/light_sensor/light_sensor.c ****         .cb_mem = &lightSensorTaskControlBlock,
  39:app/tasks/light_sensor/light_sensor.c ****         .cb_size = sizeof(lightSensorTaskControlBlock),
  40:app/tasks/light_sensor/light_sensor.c ****         .stack_mem = &lightSensorTaskBuffer[0],
  41:app/tasks/light_sensor/light_sensor.c ****         .stack_size = sizeof(lightSensorTaskBuffer),
  42:app/tasks/light_sensor/light_sensor.c ****         .priority = (osPriority_t) osPriorityNormal,
  43:app/tasks/light_sensor/light_sensor.c **** };
  44:app/tasks/light_sensor/light_sensor.c **** 
  45:app/tasks/light_sensor/light_sensor.c **** actor_t* LIGHT_SENS_TaskInit(void) {
  46:app/tasks/light_sensor/light_sensor.c ****   LIGHT_SENS_Actor.super.osMessageQueueId = osMessageQueueNew(DEFAULT_QUEUE_SIZE, DEFAULT_QUEUE_MES
  47:app/tasks/light_sensor/light_sensor.c ****           .name = "lightSensorQueue"
  48:app/tasks/light_sensor/light_sensor.c ****   });
  49:app/tasks/light_sensor/light_sensor.c ****   LIGHT_SENS_Actor.super.osThreadId = osThreadNew(LIGHT_SENS_Task, NULL, &lightSensorTaskDescriptio
  50:app/tasks/light_sensor/light_sensor.c **** 
  51:app/tasks/light_sensor/light_sensor.c ****   return &LIGHT_SENS_Actor.super;
  52:app/tasks/light_sensor/light_sensor.c **** }
  53:app/tasks/light_sensor/light_sensor.c **** 
  54:app/tasks/light_sensor/light_sensor.c **** void LIGHT_SENS_Task(void *argument) {
  55:app/tasks/light_sensor/light_sensor.c ****   (void) argument; // Avoid unused parameter warning
  56:app/tasks/light_sensor/light_sensor.c ****   message_t msg;
  57:app/tasks/light_sensor/light_sensor.c **** 
  58:app/tasks/light_sensor/light_sensor.c ****   fprintf(stdout, "Task %s started\n", lightSensorTaskDescription.name);
  59:app/tasks/light_sensor/light_sensor.c **** 
  60:app/tasks/light_sensor/light_sensor.c ****   for (;;) {
ARM GAS  /tmp/cc7waldT.s 			page 3


  61:app/tasks/light_sensor/light_sensor.c ****     // Wait for messages from the queue
  62:app/tasks/light_sensor/light_sensor.c ****     if (osMessageQueueGet(LIGHT_SENS_Actor.super.osMessageQueueId, &msg, NULL, osWaitForever) == os
  63:app/tasks/light_sensor/light_sensor.c ****       osStatus_t handleMessageStatus = LIGHT_SENS_Actor.super.messageHandler((actor_t *) &LIGHT_SEN
  64:app/tasks/light_sensor/light_sensor.c **** 
  65:app/tasks/light_sensor/light_sensor.c ****       if (handleMessageStatus != osOK) {
  66:app/tasks/light_sensor/light_sensor.c ****         fprintf(stderr, "%s: Error handling event %u in state %ul\n", lightSensorTaskDescription.na
  67:app/tasks/light_sensor/light_sensor.c ****         osMessageQueueId_t evManagerQueue = ACTORS_LIST_SystemRegistry[EV_MANAGER_ACTOR_ID]->osMess
  68:app/tasks/light_sensor/light_sensor.c ****         osMessageQueuePut(evManagerQueue, &(message_t){GLOBAL_ERROR, .payload.value = LIGHT_SENSOR_
  69:app/tasks/light_sensor/light_sensor.c ****         TO_STATE(&LIGHT_SENS_Actor, LIGHT_SENS_STATE_ERROR);
  70:app/tasks/light_sensor/light_sensor.c ****       }
  71:app/tasks/light_sensor/light_sensor.c ****     }
  72:app/tasks/light_sensor/light_sensor.c ****   }
  73:app/tasks/light_sensor/light_sensor.c **** }
  74:app/tasks/light_sensor/light_sensor.c **** 
  75:app/tasks/light_sensor/light_sensor.c **** static osStatus_t handleLightSensorFSM(LIGHT_SENS_Actor_t *this, message_t *message) {
  76:app/tasks/light_sensor/light_sensor.c ****   switch (this->state) {
  77:app/tasks/light_sensor/light_sensor.c ****     case LIGHT_SENS_NO_STATE:
  78:app/tasks/light_sensor/light_sensor.c ****       return osOK;
  79:app/tasks/light_sensor/light_sensor.c **** //      return handleInit(this, message);
  80:app/tasks/light_sensor/light_sensor.c ****     case LIGHT_SENS_TURNED_OFF_STATE:
  81:app/tasks/light_sensor/light_sensor.c ****       return handleTurnedOff(this, message);
  82:app/tasks/light_sensor/light_sensor.c ****     case LIGHT_SENS_CONTINUOUS_MEASURE_STATE:
  83:app/tasks/light_sensor/light_sensor.c ****       return handleContinuousMeasure(this, message);
  84:app/tasks/light_sensor/light_sensor.c ****     case LIGHT_SENS_OUT_OF_RANGE_STATE:
  85:app/tasks/light_sensor/light_sensor.c ****       return handleOutOfRange(this, message);
  86:app/tasks/light_sensor/light_sensor.c ****   }
  87:app/tasks/light_sensor/light_sensor.c **** 
  88:app/tasks/light_sensor/light_sensor.c ****   return osOK;
  89:app/tasks/light_sensor/light_sensor.c **** }
  90:app/tasks/light_sensor/light_sensor.c **** /**
  91:app/tasks/light_sensor/light_sensor.c ****  * @brief Initializes the sensor, configures I2C, writes default settings, and transitions to the T
  92:app/tasks/light_sensor/light_sensor.c ****  */
  93:app/tasks/light_sensor/light_sensor.c **** static osStatus_t handleInit(LIGHT_SENS_Actor_t *this, message_t *message) {
  94:app/tasks/light_sensor/light_sensor.c ****   if (GLOBAL_CMD_INITIALIZE == message->event) {
  95:app/tasks/light_sensor/light_sensor.c ****     // init the driver (io)
  96:app/tasks/light_sensor/light_sensor.c ****     osStatus_t ioStatus = OPT3001_InitIO(LIGHT_SENS_I2C_ADDRESS, BSP_I2C1_WriteReg, BSP_I2C1_ReadRe
  97:app/tasks/light_sensor/light_sensor.c **** 
  98:app/tasks/light_sensor/light_sensor.c ****     if (ioStatus != osOK) return osError;
  99:app/tasks/light_sensor/light_sensor.c **** 
 100:app/tasks/light_sensor/light_sensor.c ****     // test read device id
 101:app/tasks/light_sensor/light_sensor.c ****     uint16_t opt3001Id = 0x0000;
 102:app/tasks/light_sensor/light_sensor.c ****     ioStatus = OPT3001_ReadDeviceID(&opt3001Id);
 103:app/tasks/light_sensor/light_sensor.c **** 
 104:app/tasks/light_sensor/light_sensor.c ****     if (ioStatus != osOK) return osError;
 105:app/tasks/light_sensor/light_sensor.c ****     fprintf(stdout, "OPT3001 ID: %x\n", opt3001Id);
 106:app/tasks/light_sensor/light_sensor.c **** 
 107:app/tasks/light_sensor/light_sensor.c ****     // write default config (OPT3001 remains in turned off state)
 108:app/tasks/light_sensor/light_sensor.c ****     uint16_t opt3001Config = OPT3001_CONFIG_DEFAULT;
 109:app/tasks/light_sensor/light_sensor.c **** 
 110:app/tasks/light_sensor/light_sensor.c ****     ioStatus = OPT3001_WriteConfig(opt3001Config);
 111:app/tasks/light_sensor/light_sensor.c **** 
 112:app/tasks/light_sensor/light_sensor.c ****     if (ioStatus != osOK) return osError;
 113:app/tasks/light_sensor/light_sensor.c ****     fprintf(stdout, "Write OPT3001 Config: %x\n", opt3001Config);
 114:app/tasks/light_sensor/light_sensor.c **** 
 115:app/tasks/light_sensor/light_sensor.c ****     // read existing config to verify equality
 116:app/tasks/light_sensor/light_sensor.c ****     uint16_t opt3001ConfigFromSensor = 0x0000;
 117:app/tasks/light_sensor/light_sensor.c ****     ioStatus = OPT3001_ReadConfig(&opt3001ConfigFromSensor);
ARM GAS  /tmp/cc7waldT.s 			page 4


 118:app/tasks/light_sensor/light_sensor.c **** 
 119:app/tasks/light_sensor/light_sensor.c ****     if (ioStatus != osOK) return osError;
 120:app/tasks/light_sensor/light_sensor.c ****     fprintf(stdout, "OPT3001 Config: %x\n", opt3001ConfigFromSensor);
 121:app/tasks/light_sensor/light_sensor.c **** 
 122:app/tasks/light_sensor/light_sensor.c ****     if (opt3001Config != opt3001ConfigFromSensor) {
 123:app/tasks/light_sensor/light_sensor.c ****       fprintf(stderr, "OPT3001 Config mismatch\n");
 124:app/tasks/light_sensor/light_sensor.c ****       return osError;
 125:app/tasks/light_sensor/light_sensor.c ****     }
 126:app/tasks/light_sensor/light_sensor.c **** 
 127:app/tasks/light_sensor/light_sensor.c ****     // TODO read it from NOR flash (implement settings manager)
 128:app/tasks/light_sensor/light_sensor.c ****     // set high limit and minimal low limit so that the sensor never triggers the interrupt on low 
 129:app/tasks/light_sensor/light_sensor.c ****     ioStatus = OPT3001_WriteHighLimit(this->highLimit);
 130:app/tasks/light_sensor/light_sensor.c ****     if (ioStatus != osOK) return osError;
 131:app/tasks/light_sensor/light_sensor.c **** 
 132:app/tasks/light_sensor/light_sensor.c ****     ioStatus = OPT3001_WriteLowLimit(OPT3001_CONFIG_LIMIT_MIN);
 133:app/tasks/light_sensor/light_sensor.c ****     if (ioStatus != osOK) return osError;
 134:app/tasks/light_sensor/light_sensor.c **** 
 135:app/tasks/light_sensor/light_sensor.c ****     // publish to event manager that the sensor is initialized
 136:app/tasks/light_sensor/light_sensor.c ****     osMessageQueueId_t evManagerQueue = ACTORS_LIST_SystemRegistry[EV_MANAGER_ACTOR_ID]->osMessageQ
 137:app/tasks/light_sensor/light_sensor.c ****     osMessageQueuePut(evManagerQueue, &(message_t){GLOBAL_INITIALIZE_SUCCESS, .payload.value = LIGH
 138:app/tasks/light_sensor/light_sensor.c **** 
 139:app/tasks/light_sensor/light_sensor.c ****     fprintf(stdout, "Light sensor %ul initialized\n", LIGHT_SENSOR_ACTOR_ID);
 140:app/tasks/light_sensor/light_sensor.c ****     TO_STATE(this, LIGHT_SENS_TURNED_OFF_STATE);
 141:app/tasks/light_sensor/light_sensor.c ****   }
 142:app/tasks/light_sensor/light_sensor.c **** 
 143:app/tasks/light_sensor/light_sensor.c ****   return osOK;
 144:app/tasks/light_sensor/light_sensor.c **** }
 145:app/tasks/light_sensor/light_sensor.c **** 
 146:app/tasks/light_sensor/light_sensor.c **** /**
 147:app/tasks/light_sensor/light_sensor.c ****  * @brief Perform single-shot measurements, set limits, or switch to continuous measurement mode.
 148:app/tasks/light_sensor/light_sensor.c ****  */
 149:app/tasks/light_sensor/light_sensor.c **** static osStatus_t handleTurnedOff(LIGHT_SENS_Actor_t *this, message_t *message) {
  42              		.loc 1 149 81 view -0
  43              		.cfi_startproc
  44              		@ args = 0, pretend = 0, frame = 0
  45              		@ frame_needed = 0, uses_anonymous_args = 0
  46              		.loc 1 149 81 is_stmt 0 view .LVU1
  47 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
  48              	.LCFI0:
  49              		.cfi_def_cfa_offset 24
  50              		.cfi_offset 3, -24
  51              		.cfi_offset 4, -20
  52              		.cfi_offset 5, -16
  53              		.cfi_offset 6, -12
  54              		.cfi_offset 7, -8
  55              		.cfi_offset 14, -4
  56 0002 0446     		mov	r4, r0
 150:app/tasks/light_sensor/light_sensor.c ****   osStatus_t ioStatus;
  57              		.loc 1 150 3 is_stmt 1 view .LVU2
 151:app/tasks/light_sensor/light_sensor.c **** 
 152:app/tasks/light_sensor/light_sensor.c ****   switch (message->event) {
  58              		.loc 1 152 3 view .LVU3
  59              		.loc 1 152 18 is_stmt 0 view .LVU4
  60 0004 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
  61              		.loc 1 152 3 view .LVU5
  62 0006 152B     		cmp	r3, #21
  63 0008 2CD0     		beq	.L2
ARM GAS  /tmp/cc7waldT.s 			page 5


  64 000a 162B     		cmp	r3, #22
  65 000c 3BD0     		beq	.L3
  66 000e 142B     		cmp	r3, #20
  67 0010 02D0     		beq	.L11
  68 0012 0025     		movs	r5, #0
  69              	.LVL1:
  70              	.L1:
 153:app/tasks/light_sensor/light_sensor.c ****     case LIGHT_SENS_SINGLE_SHOT_READ:
 154:app/tasks/light_sensor/light_sensor.c ****       // set single shot mode
 155:app/tasks/light_sensor/light_sensor.c ****       ioStatus = OPT3001_WriteConfig(OPT3001_CONFIG_RANGE_NUMBER_AUTO_SCALE | \
 156:app/tasks/light_sensor/light_sensor.c ****                                     OPT3001_CONFIG_CONVERSION_TIME_800_MS | \
 157:app/tasks/light_sensor/light_sensor.c ****                                     OPT3001_CONFIG_MODE_SINGLE_SHOT | \
 158:app/tasks/light_sensor/light_sensor.c ****                                     OPT3001_CONFIG_LATCH_ENABLED);
 159:app/tasks/light_sensor/light_sensor.c **** 
 160:app/tasks/light_sensor/light_sensor.c ****       if (ioStatus != osOK) return osError;
 161:app/tasks/light_sensor/light_sensor.c **** 
 162:app/tasks/light_sensor/light_sensor.c ****       // wait for the sensor to finish the measurement
 163:app/tasks/light_sensor/light_sensor.c ****       osDelay(1000); // TODO replace with 800ms
 164:app/tasks/light_sensor/light_sensor.c **** 
 165:app/tasks/light_sensor/light_sensor.c ****       // read the measured rawLux
 166:app/tasks/light_sensor/light_sensor.c ****       ioStatus = OPT3001_ReadResultRawLux(&this->rawLux);
 167:app/tasks/light_sensor/light_sensor.c **** 
 168:app/tasks/light_sensor/light_sensor.c ****       if (ioStatus != osOK) return osError;
 169:app/tasks/light_sensor/light_sensor.c **** 
 170:app/tasks/light_sensor/light_sensor.c ****       // convert rawLux to lux for debug
 171:app/tasks/light_sensor/light_sensor.c ****       fprintf(stdout, "OPT3001 milli Lux: %ld\n", OPT3001_RawToMilliLux(this->rawLux));
 172:app/tasks/light_sensor/light_sensor.c **** 
 173:app/tasks/light_sensor/light_sensor.c ****       // remains in turned off state after successful read, opt3001 turns off automatically after s
 174:app/tasks/light_sensor/light_sensor.c ****       TO_STATE(this, LIGHT_SENS_TURNED_OFF_STATE);
 175:app/tasks/light_sensor/light_sensor.c ****       return osOK;
 176:app/tasks/light_sensor/light_sensor.c ****     case LIGHT_SENS_MEASURE_CONTINUOUSLY:
 177:app/tasks/light_sensor/light_sensor.c ****       // set continuous measurements mode
 178:app/tasks/light_sensor/light_sensor.c ****       ioStatus = OPT3001_WriteConfig(OPT3001_CONFIG_RANGE_NUMBER_AUTO_SCALE | \
 179:app/tasks/light_sensor/light_sensor.c ****                                     OPT3001_CONFIG_CONVERSION_TIME_800_MS | \
 180:app/tasks/light_sensor/light_sensor.c ****                                     OPT3001_CONFIG_MODE_CONTINUOUS | \
 181:app/tasks/light_sensor/light_sensor.c ****                                     OPT3001_CONFIG_FAULT_COUNT_4 | \
 182:app/tasks/light_sensor/light_sensor.c ****                                     OPT3001_CONFIG_LATCH_ENABLED);
 183:app/tasks/light_sensor/light_sensor.c **** 
 184:app/tasks/light_sensor/light_sensor.c ****       if (ioStatus != osOK) return osError;
 185:app/tasks/light_sensor/light_sensor.c **** 
 186:app/tasks/light_sensor/light_sensor.c ****       TO_STATE(this, LIGHT_SENS_CONTINUOUS_MEASURE_STATE);
 187:app/tasks/light_sensor/light_sensor.c ****       return osOK;
 188:app/tasks/light_sensor/light_sensor.c ****     case LIGHT_SENS_SET_LIMIT:
 189:app/tasks/light_sensor/light_sensor.c ****       // set high limit from message payload
 190:app/tasks/light_sensor/light_sensor.c ****       this->highLimit = message->payload.value;
 191:app/tasks/light_sensor/light_sensor.c ****       ioStatus = OPT3001_WriteHighLimit(this->highLimit);
 192:app/tasks/light_sensor/light_sensor.c **** 
 193:app/tasks/light_sensor/light_sensor.c ****       if (ioStatus != osOK) return osError;
 194:app/tasks/light_sensor/light_sensor.c **** 
 195:app/tasks/light_sensor/light_sensor.c ****       TO_STATE(this, LIGHT_SENS_TURNED_OFF_STATE);
 196:app/tasks/light_sensor/light_sensor.c ****       return osOK;
 197:app/tasks/light_sensor/light_sensor.c ****   }
 198:app/tasks/light_sensor/light_sensor.c **** 
 199:app/tasks/light_sensor/light_sensor.c ****   return osOK;
 200:app/tasks/light_sensor/light_sensor.c **** };
  71              		.loc 1 200 1 view .LVU6
  72 0014 2846     		mov	r0, r5
ARM GAS  /tmp/cc7waldT.s 			page 6


  73 0016 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
  74              	.LVL2:
  75              	.L11:
 155:app/tasks/light_sensor/light_sensor.c ****                                     OPT3001_CONFIG_CONVERSION_TIME_800_MS | \
  76              		.loc 1 155 7 is_stmt 1 view .LVU7
 155:app/tasks/light_sensor/light_sensor.c ****                                     OPT3001_CONFIG_CONVERSION_TIME_800_MS | \
  77              		.loc 1 155 18 is_stmt 0 view .LVU8
  78 0018 4CF61020 		movw	r0, #51728
  79              	.LVL3:
 155:app/tasks/light_sensor/light_sensor.c ****                                     OPT3001_CONFIG_CONVERSION_TIME_800_MS | \
  80              		.loc 1 155 18 view .LVU9
  81 001c FFF7FEFF 		bl	OPT3001_WriteConfig
  82              	.LVL4:
 160:app/tasks/light_sensor/light_sensor.c **** 
  83              		.loc 1 160 7 is_stmt 1 view .LVU10
 160:app/tasks/light_sensor/light_sensor.c **** 
  84              		.loc 1 160 10 is_stmt 0 view .LVU11
  85 0020 0028     		cmp	r0, #0
  86 0022 41D1     		bne	.L6
 163:app/tasks/light_sensor/light_sensor.c **** 
  87              		.loc 1 163 7 is_stmt 1 view .LVU12
  88 0024 4FF47A70 		mov	r0, #1000
  89              	.LVL5:
 163:app/tasks/light_sensor/light_sensor.c **** 
  90              		.loc 1 163 7 is_stmt 0 view .LVU13
  91 0028 FFF7FEFF 		bl	osDelay
  92              	.LVL6:
 166:app/tasks/light_sensor/light_sensor.c **** 
  93              		.loc 1 166 7 is_stmt 1 view .LVU14
 166:app/tasks/light_sensor/light_sensor.c **** 
  94              		.loc 1 166 18 is_stmt 0 view .LVU15
  95 002c 04F11200 		add	r0, r4, #18
  96 0030 FFF7FEFF 		bl	OPT3001_ReadResultRawLux
  97              	.LVL7:
 168:app/tasks/light_sensor/light_sensor.c **** 
  98              		.loc 1 168 7 is_stmt 1 view .LVU16
 168:app/tasks/light_sensor/light_sensor.c **** 
  99              		.loc 1 168 10 is_stmt 0 view .LVU17
 100 0034 0546     		mov	r5, r0
 101 0036 0028     		cmp	r0, #0
 102 0038 39D1     		bne	.L7
 171:app/tasks/light_sensor/light_sensor.c **** 
 103              		.loc 1 171 7 is_stmt 1 view .LVU18
 171:app/tasks/light_sensor/light_sensor.c **** 
 104              		.loc 1 171 15 is_stmt 0 view .LVU19
 105 003a 214E     		ldr	r6, .L12
 106 003c 3368     		ldr	r3, [r6]
 107 003e 9F68     		ldr	r7, [r3, #8]
 171:app/tasks/light_sensor/light_sensor.c **** 
 108              		.loc 1 171 7 view .LVU20
 109 0040 608A     		ldrh	r0, [r4, #18]
 110              	.LVL8:
 171:app/tasks/light_sensor/light_sensor.c **** 
 111              		.loc 1 171 7 view .LVU21
 112 0042 FFF7FEFF 		bl	OPT3001_RawToMilliLux
 113              	.LVL9:
 114 0046 0246     		mov	r2, r0
ARM GAS  /tmp/cc7waldT.s 			page 7


 115 0048 1E49     		ldr	r1, .L12+4
 116 004a 3846     		mov	r0, r7
 117 004c FFF7FEFF 		bl	fprintf
 118              	.LVL10:
 174:app/tasks/light_sensor/light_sensor.c ****       return osOK;
 119              		.loc 1 174 7 is_stmt 1 view .LVU22
 174:app/tasks/light_sensor/light_sensor.c ****       return osOK;
 120              		.loc 1 174 7 view .LVU23
 121 0050 0123     		movs	r3, #1
 122 0052 2374     		strb	r3, [r4, #16]
 174:app/tasks/light_sensor/light_sensor.c ****       return osOK;
 123              		.loc 1 174 7 view .LVU24
 124 0054 3068     		ldr	r0, [r6]
 125 0056 1C4B     		ldr	r3, .L12+8
 126 0058 2268     		ldr	r2, [r4]
 127 005a 1C49     		ldr	r1, .L12+12
 128 005c 8068     		ldr	r0, [r0, #8]
 129 005e FFF7FEFF 		bl	fprintf
 130              	.LVL11:
 174:app/tasks/light_sensor/light_sensor.c ****       return osOK;
 131              		.loc 1 174 7 view .LVU25
 174:app/tasks/light_sensor/light_sensor.c ****       return osOK;
 132              		.loc 1 174 50 view .LVU26
 175:app/tasks/light_sensor/light_sensor.c ****     case LIGHT_SENS_MEASURE_CONTINUOUSLY:
 133              		.loc 1 175 7 view .LVU27
 175:app/tasks/light_sensor/light_sensor.c ****     case LIGHT_SENS_MEASURE_CONTINUOUSLY:
 134              		.loc 1 175 14 is_stmt 0 view .LVU28
 135 0062 D7E7     		b	.L1
 136              	.LVL12:
 137              	.L2:
 178:app/tasks/light_sensor/light_sensor.c ****                                     OPT3001_CONFIG_CONVERSION_TIME_800_MS | \
 138              		.loc 1 178 7 is_stmt 1 view .LVU29
 178:app/tasks/light_sensor/light_sensor.c ****                                     OPT3001_CONFIG_CONVERSION_TIME_800_MS | \
 139              		.loc 1 178 18 is_stmt 0 view .LVU30
 140 0064 4CF61260 		movw	r0, #52754
 141              	.LVL13:
 178:app/tasks/light_sensor/light_sensor.c ****                                     OPT3001_CONFIG_CONVERSION_TIME_800_MS | \
 142              		.loc 1 178 18 view .LVU31
 143 0068 FFF7FEFF 		bl	OPT3001_WriteConfig
 144              	.LVL14:
 184:app/tasks/light_sensor/light_sensor.c **** 
 145              		.loc 1 184 7 is_stmt 1 view .LVU32
 184:app/tasks/light_sensor/light_sensor.c **** 
 146              		.loc 1 184 10 is_stmt 0 view .LVU33
 147 006c 0546     		mov	r5, r0
 148 006e 08BB     		cbnz	r0, .L8
 186:app/tasks/light_sensor/light_sensor.c ****       return osOK;
 149              		.loc 1 186 7 is_stmt 1 view .LVU34
 186:app/tasks/light_sensor/light_sensor.c ****       return osOK;
 150              		.loc 1 186 7 view .LVU35
 151 0070 0223     		movs	r3, #2
 152 0072 2374     		strb	r3, [r4, #16]
 186:app/tasks/light_sensor/light_sensor.c ****       return osOK;
 153              		.loc 1 186 7 view .LVU36
 154 0074 124B     		ldr	r3, .L12
 155 0076 1868     		ldr	r0, [r3]
 156              	.LVL15:
ARM GAS  /tmp/cc7waldT.s 			page 8


 186:app/tasks/light_sensor/light_sensor.c ****       return osOK;
 157              		.loc 1 186 7 is_stmt 0 view .LVU37
 158 0078 154B     		ldr	r3, .L12+16
 159 007a 2268     		ldr	r2, [r4]
 160 007c 1349     		ldr	r1, .L12+12
 161 007e 8068     		ldr	r0, [r0, #8]
 162 0080 FFF7FEFF 		bl	fprintf
 163              	.LVL16:
 186:app/tasks/light_sensor/light_sensor.c ****       return osOK;
 164              		.loc 1 186 7 is_stmt 1 view .LVU38
 186:app/tasks/light_sensor/light_sensor.c ****       return osOK;
 165              		.loc 1 186 58 view .LVU39
 187:app/tasks/light_sensor/light_sensor.c ****     case LIGHT_SENS_SET_LIMIT:
 166              		.loc 1 187 7 view .LVU40
 187:app/tasks/light_sensor/light_sensor.c ****     case LIGHT_SENS_SET_LIMIT:
 167              		.loc 1 187 14 is_stmt 0 view .LVU41
 168 0084 C6E7     		b	.L1
 169              	.LVL17:
 170              	.L3:
 190:app/tasks/light_sensor/light_sensor.c ****       ioStatus = OPT3001_WriteHighLimit(this->highLimit);
 171              		.loc 1 190 7 is_stmt 1 view .LVU42
 190:app/tasks/light_sensor/light_sensor.c ****       ioStatus = OPT3001_WriteHighLimit(this->highLimit);
 172              		.loc 1 190 23 is_stmt 0 view .LVU43
 173 0086 8888     		ldrh	r0, [r1, #4]
 174              	.LVL18:
 190:app/tasks/light_sensor/light_sensor.c ****       ioStatus = OPT3001_WriteHighLimit(this->highLimit);
 175              		.loc 1 190 23 view .LVU44
 176 0088 A082     		strh	r0, [r4, #20]	@ movhi
 191:app/tasks/light_sensor/light_sensor.c **** 
 177              		.loc 1 191 7 is_stmt 1 view .LVU45
 191:app/tasks/light_sensor/light_sensor.c **** 
 178              		.loc 1 191 18 is_stmt 0 view .LVU46
 179 008a FFF7FEFF 		bl	OPT3001_WriteHighLimit
 180              	.LVL19:
 193:app/tasks/light_sensor/light_sensor.c **** 
 181              		.loc 1 193 7 is_stmt 1 view .LVU47
 193:app/tasks/light_sensor/light_sensor.c **** 
 182              		.loc 1 193 10 is_stmt 0 view .LVU48
 183 008e 0546     		mov	r5, r0
 184 0090 98B9     		cbnz	r0, .L9
 195:app/tasks/light_sensor/light_sensor.c ****       return osOK;
 185              		.loc 1 195 7 is_stmt 1 view .LVU49
 195:app/tasks/light_sensor/light_sensor.c ****       return osOK;
 186              		.loc 1 195 7 view .LVU50
 187 0092 0123     		movs	r3, #1
 188 0094 2374     		strb	r3, [r4, #16]
 195:app/tasks/light_sensor/light_sensor.c ****       return osOK;
 189              		.loc 1 195 7 view .LVU51
 190 0096 0A4B     		ldr	r3, .L12
 191 0098 1868     		ldr	r0, [r3]
 192              	.LVL20:
 195:app/tasks/light_sensor/light_sensor.c ****       return osOK;
 193              		.loc 1 195 7 is_stmt 0 view .LVU52
 194 009a 0B4B     		ldr	r3, .L12+8
 195 009c 2268     		ldr	r2, [r4]
 196 009e 0B49     		ldr	r1, .L12+12
 197 00a0 8068     		ldr	r0, [r0, #8]
ARM GAS  /tmp/cc7waldT.s 			page 9


 198 00a2 FFF7FEFF 		bl	fprintf
 199              	.LVL21:
 195:app/tasks/light_sensor/light_sensor.c ****       return osOK;
 200              		.loc 1 195 7 is_stmt 1 view .LVU53
 195:app/tasks/light_sensor/light_sensor.c ****       return osOK;
 201              		.loc 1 195 50 view .LVU54
 196:app/tasks/light_sensor/light_sensor.c ****   }
 202              		.loc 1 196 7 view .LVU55
 196:app/tasks/light_sensor/light_sensor.c ****   }
 203              		.loc 1 196 14 is_stmt 0 view .LVU56
 204 00a6 B5E7     		b	.L1
 205              	.LVL22:
 206              	.L6:
 160:app/tasks/light_sensor/light_sensor.c **** 
 207              		.loc 1 160 36 view .LVU57
 208 00a8 4FF0FF35 		mov	r5, #-1
 209 00ac B2E7     		b	.L1
 210              	.L7:
 168:app/tasks/light_sensor/light_sensor.c **** 
 211              		.loc 1 168 36 view .LVU58
 212 00ae 4FF0FF35 		mov	r5, #-1
 213 00b2 AFE7     		b	.L1
 214              	.L8:
 184:app/tasks/light_sensor/light_sensor.c **** 
 215              		.loc 1 184 36 view .LVU59
 216 00b4 4FF0FF35 		mov	r5, #-1
 217 00b8 ACE7     		b	.L1
 218              	.L9:
 193:app/tasks/light_sensor/light_sensor.c **** 
 219              		.loc 1 193 36 view .LVU60
 220 00ba 4FF0FF35 		mov	r5, #-1
 221 00be A9E7     		b	.L1
 222              	.L13:
 223              		.align	2
 224              	.L12:
 225 00c0 00000000 		.word	_impure_ptr
 226 00c4 00000000 		.word	.LC0
 227 00c8 18000000 		.word	.LC1
 228 00cc 34000000 		.word	.LC2
 229 00d0 40000000 		.word	.LC3
 230              		.cfi_endproc
 231              	.LFE143:
 233              		.section	.rodata.handleContinuousMeasure.str1.4,"aMS",%progbits,1
 234              		.align	2
 235              	.LC4:
 236 0000 4C494748 		.ascii	"LIGHT_SENS_OUT_OF_RANGE_STATE\000"
 236      545F5345 
 236      4E535F4F 
 236      55545F4F 
 236      465F5241 
 237              		.section	.text.handleContinuousMeasure,"ax",%progbits
 238              		.align	1
 239              		.syntax unified
 240              		.thumb
 241              		.thumb_func
 242              		.fpu fpv4-sp-d16
 244              	handleContinuousMeasure:
ARM GAS  /tmp/cc7waldT.s 			page 10


 245              	.LVL23:
 246              	.LFB144:
 201:app/tasks/light_sensor/light_sensor.c **** 
 202:app/tasks/light_sensor/light_sensor.c **** /**
 203:app/tasks/light_sensor/light_sensor.c ****  * @brief Cron read sensor data periodically, handle limit interrupts, or turn off the sensor.
 204:app/tasks/light_sensor/light_sensor.c ****  */
 205:app/tasks/light_sensor/light_sensor.c **** static osStatus_t handleContinuousMeasure(LIGHT_SENS_Actor_t *this, message_t *message) {
 247              		.loc 1 205 89 is_stmt 1 view -0
 248              		.cfi_startproc
 249              		@ args = 0, pretend = 0, frame = 0
 250              		@ frame_needed = 0, uses_anonymous_args = 0
 251              		.loc 1 205 89 is_stmt 0 view .LVU62
 252 0000 38B5     		push	{r3, r4, r5, lr}
 253              	.LCFI1:
 254              		.cfi_def_cfa_offset 16
 255              		.cfi_offset 3, -16
 256              		.cfi_offset 4, -12
 257              		.cfi_offset 5, -8
 258              		.cfi_offset 14, -4
 259 0002 0446     		mov	r4, r0
 206:app/tasks/light_sensor/light_sensor.c ****   osStatus_t ioStatus;
 260              		.loc 1 206 3 is_stmt 1 view .LVU63
 207:app/tasks/light_sensor/light_sensor.c **** 
 208:app/tasks/light_sensor/light_sensor.c ****   switch (message->event) {
 261              		.loc 1 208 3 view .LVU64
 262              		.loc 1 208 18 is_stmt 0 view .LVU65
 263 0004 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
 264              		.loc 1 208 3 view .LVU66
 265 0006 172B     		cmp	r3, #23
 266 0008 17D0     		beq	.L15
 267 000a 182B     		cmp	r3, #24
 268 000c 26D0     		beq	.L16
 269 000e 032B     		cmp	r3, #3
 270 0010 02D0     		beq	.L24
 271 0012 0025     		movs	r5, #0
 272              	.LVL24:
 273              	.L14:
 209:app/tasks/light_sensor/light_sensor.c ****     case GLOBAL_WAKE_N_READ:
 210:app/tasks/light_sensor/light_sensor.c ****       // read the measured rawLux on RTC cron
 211:app/tasks/light_sensor/light_sensor.c ****       ioStatus = OPT3001_ReadResultRawLux(&this->rawLux);
 212:app/tasks/light_sensor/light_sensor.c ****       if (ioStatus != osOK) return osError;
 213:app/tasks/light_sensor/light_sensor.c **** 
 214:app/tasks/light_sensor/light_sensor.c ****       TO_STATE(this, LIGHT_SENS_CONTINUOUS_MEASURE_STATE);
 215:app/tasks/light_sensor/light_sensor.c ****       return osOK;
 216:app/tasks/light_sensor/light_sensor.c ****     case LIGHT_SENS_TURN_OFF:
 217:app/tasks/light_sensor/light_sensor.c ****       // turn off the sensor
 218:app/tasks/light_sensor/light_sensor.c ****       ioStatus = OPT3001_WriteConfig(OPT3001_CONFIG_DEFAULT | OPT3001_CONFIG_MODE_SHUTDOWN);
 219:app/tasks/light_sensor/light_sensor.c **** 
 220:app/tasks/light_sensor/light_sensor.c ****       if (ioStatus != osOK) return osError;
 221:app/tasks/light_sensor/light_sensor.c **** 
 222:app/tasks/light_sensor/light_sensor.c ****       TO_STATE(this, LIGHT_SENS_TURNED_OFF_STATE);
 223:app/tasks/light_sensor/light_sensor.c ****       return osOK;
 224:app/tasks/light_sensor/light_sensor.c ****     case LIGHT_SENS_LIMIT_INT:
 225:app/tasks/light_sensor/light_sensor.c ****       // read the measured rawLux overvalue
 226:app/tasks/light_sensor/light_sensor.c ****       ioStatus = OPT3001_ReadResultRawLux(&this->rawLux);
 227:app/tasks/light_sensor/light_sensor.c ****       if (ioStatus != osOK) return osError;
 228:app/tasks/light_sensor/light_sensor.c **** 
ARM GAS  /tmp/cc7waldT.s 			page 11


 229:app/tasks/light_sensor/light_sensor.c ****       // TODO emit to event manager LIGHT_SENS_LIMIT_INT with this->rawLux payload
 230:app/tasks/light_sensor/light_sensor.c **** 
 231:app/tasks/light_sensor/light_sensor.c ****       // swap limits to wait for lux returning below the high limit
 232:app/tasks/light_sensor/light_sensor.c ****       ioStatus = OPT3001_WriteHighLimit(OPT3001_CONFIG_LIMIT_MAX)
 233:app/tasks/light_sensor/light_sensor.c ****       | OPT3001_WriteLowLimit(this->highLimit);
 234:app/tasks/light_sensor/light_sensor.c ****       if (ioStatus != osOK) return osError;
 235:app/tasks/light_sensor/light_sensor.c **** 
 236:app/tasks/light_sensor/light_sensor.c ****       TO_STATE(this, LIGHT_SENS_OUT_OF_RANGE_STATE);
 237:app/tasks/light_sensor/light_sensor.c ****       return osOK;
 238:app/tasks/light_sensor/light_sensor.c ****   }
 239:app/tasks/light_sensor/light_sensor.c **** 
 240:app/tasks/light_sensor/light_sensor.c ****   return osOK;
 241:app/tasks/light_sensor/light_sensor.c **** }
 274              		.loc 1 241 1 view .LVU67
 275 0014 2846     		mov	r0, r5
 276 0016 38BD     		pop	{r3, r4, r5, pc}
 277              	.LVL25:
 278              	.L24:
 211:app/tasks/light_sensor/light_sensor.c ****       if (ioStatus != osOK) return osError;
 279              		.loc 1 211 7 is_stmt 1 view .LVU68
 211:app/tasks/light_sensor/light_sensor.c ****       if (ioStatus != osOK) return osError;
 280              		.loc 1 211 18 is_stmt 0 view .LVU69
 281 0018 1230     		adds	r0, r0, #18
 282              	.LVL26:
 211:app/tasks/light_sensor/light_sensor.c ****       if (ioStatus != osOK) return osError;
 283              		.loc 1 211 18 view .LVU70
 284 001a FFF7FEFF 		bl	OPT3001_ReadResultRawLux
 285              	.LVL27:
 212:app/tasks/light_sensor/light_sensor.c **** 
 286              		.loc 1 212 7 is_stmt 1 view .LVU71
 212:app/tasks/light_sensor/light_sensor.c **** 
 287              		.loc 1 212 10 is_stmt 0 view .LVU72
 288 001e 0546     		mov	r5, r0
 289 0020 0028     		cmp	r0, #0
 290 0022 34D1     		bne	.L19
 214:app/tasks/light_sensor/light_sensor.c ****       return osOK;
 291              		.loc 1 214 7 is_stmt 1 view .LVU73
 214:app/tasks/light_sensor/light_sensor.c ****       return osOK;
 292              		.loc 1 214 7 view .LVU74
 293 0024 0223     		movs	r3, #2
 294 0026 2374     		strb	r3, [r4, #16]
 214:app/tasks/light_sensor/light_sensor.c ****       return osOK;
 295              		.loc 1 214 7 view .LVU75
 296 0028 1F4B     		ldr	r3, .L25
 297 002a 1868     		ldr	r0, [r3]
 298              	.LVL28:
 214:app/tasks/light_sensor/light_sensor.c ****       return osOK;
 299              		.loc 1 214 7 is_stmt 0 view .LVU76
 300 002c 1F4B     		ldr	r3, .L25+4
 301 002e 2268     		ldr	r2, [r4]
 302 0030 1F49     		ldr	r1, .L25+8
 303 0032 8068     		ldr	r0, [r0, #8]
 304 0034 FFF7FEFF 		bl	fprintf
 305              	.LVL29:
 214:app/tasks/light_sensor/light_sensor.c ****       return osOK;
 306              		.loc 1 214 7 is_stmt 1 view .LVU77
 214:app/tasks/light_sensor/light_sensor.c ****       return osOK;
ARM GAS  /tmp/cc7waldT.s 			page 12


 307              		.loc 1 214 58 view .LVU78
 215:app/tasks/light_sensor/light_sensor.c ****     case LIGHT_SENS_TURN_OFF:
 308              		.loc 1 215 7 view .LVU79
 215:app/tasks/light_sensor/light_sensor.c ****     case LIGHT_SENS_TURN_OFF:
 309              		.loc 1 215 14 is_stmt 0 view .LVU80
 310 0038 ECE7     		b	.L14
 311              	.LVL30:
 312              	.L15:
 218:app/tasks/light_sensor/light_sensor.c **** 
 313              		.loc 1 218 7 is_stmt 1 view .LVU81
 218:app/tasks/light_sensor/light_sensor.c **** 
 314              		.loc 1 218 18 is_stmt 0 view .LVU82
 315 003a 4CF61000 		movw	r0, #51216
 316              	.LVL31:
 218:app/tasks/light_sensor/light_sensor.c **** 
 317              		.loc 1 218 18 view .LVU83
 318 003e FFF7FEFF 		bl	OPT3001_WriteConfig
 319              	.LVL32:
 220:app/tasks/light_sensor/light_sensor.c **** 
 320              		.loc 1 220 7 is_stmt 1 view .LVU84
 220:app/tasks/light_sensor/light_sensor.c **** 
 321              		.loc 1 220 10 is_stmt 0 view .LVU85
 322 0042 0546     		mov	r5, r0
 323 0044 30BB     		cbnz	r0, .L20
 222:app/tasks/light_sensor/light_sensor.c ****       return osOK;
 324              		.loc 1 222 7 is_stmt 1 view .LVU86
 222:app/tasks/light_sensor/light_sensor.c ****       return osOK;
 325              		.loc 1 222 7 view .LVU87
 326 0046 0123     		movs	r3, #1
 327 0048 2374     		strb	r3, [r4, #16]
 222:app/tasks/light_sensor/light_sensor.c ****       return osOK;
 328              		.loc 1 222 7 view .LVU88
 329 004a 174B     		ldr	r3, .L25
 330 004c 1868     		ldr	r0, [r3]
 331              	.LVL33:
 222:app/tasks/light_sensor/light_sensor.c ****       return osOK;
 332              		.loc 1 222 7 is_stmt 0 view .LVU89
 333 004e 194B     		ldr	r3, .L25+12
 334 0050 2268     		ldr	r2, [r4]
 335 0052 1749     		ldr	r1, .L25+8
 336 0054 8068     		ldr	r0, [r0, #8]
 337 0056 FFF7FEFF 		bl	fprintf
 338              	.LVL34:
 222:app/tasks/light_sensor/light_sensor.c ****       return osOK;
 339              		.loc 1 222 7 is_stmt 1 view .LVU90
 222:app/tasks/light_sensor/light_sensor.c ****       return osOK;
 340              		.loc 1 222 50 view .LVU91
 223:app/tasks/light_sensor/light_sensor.c ****     case LIGHT_SENS_LIMIT_INT:
 341              		.loc 1 223 7 view .LVU92
 223:app/tasks/light_sensor/light_sensor.c ****     case LIGHT_SENS_LIMIT_INT:
 342              		.loc 1 223 14 is_stmt 0 view .LVU93
 343 005a DBE7     		b	.L14
 344              	.LVL35:
 345              	.L16:
 226:app/tasks/light_sensor/light_sensor.c ****       if (ioStatus != osOK) return osError;
 346              		.loc 1 226 7 is_stmt 1 view .LVU94
 226:app/tasks/light_sensor/light_sensor.c ****       if (ioStatus != osOK) return osError;
ARM GAS  /tmp/cc7waldT.s 			page 13


 347              		.loc 1 226 18 is_stmt 0 view .LVU95
 348 005c 1230     		adds	r0, r0, #18
 349              	.LVL36:
 226:app/tasks/light_sensor/light_sensor.c ****       if (ioStatus != osOK) return osError;
 350              		.loc 1 226 18 view .LVU96
 351 005e FFF7FEFF 		bl	OPT3001_ReadResultRawLux
 352              	.LVL37:
 227:app/tasks/light_sensor/light_sensor.c **** 
 353              		.loc 1 227 7 is_stmt 1 view .LVU97
 227:app/tasks/light_sensor/light_sensor.c **** 
 354              		.loc 1 227 10 is_stmt 0 view .LVU98
 355 0062 D0B9     		cbnz	r0, .L21
 232:app/tasks/light_sensor/light_sensor.c ****       | OPT3001_WriteLowLimit(this->highLimit);
 356              		.loc 1 232 7 is_stmt 1 view .LVU99
 232:app/tasks/light_sensor/light_sensor.c ****       | OPT3001_WriteLowLimit(this->highLimit);
 357              		.loc 1 232 18 is_stmt 0 view .LVU100
 358 0064 4FF6FF70 		movw	r0, #65535
 359              	.LVL38:
 232:app/tasks/light_sensor/light_sensor.c ****       | OPT3001_WriteLowLimit(this->highLimit);
 360              		.loc 1 232 18 view .LVU101
 361 0068 FFF7FEFF 		bl	OPT3001_WriteHighLimit
 362              	.LVL39:
 363 006c 0546     		mov	r5, r0
 233:app/tasks/light_sensor/light_sensor.c ****       if (ioStatus != osOK) return osError;
 364              		.loc 1 233 9 view .LVU102
 365 006e A08A     		ldrh	r0, [r4, #20]
 366 0070 FFF7FEFF 		bl	OPT3001_WriteLowLimit
 367              	.LVL40:
 234:app/tasks/light_sensor/light_sensor.c **** 
 368              		.loc 1 234 7 is_stmt 1 view .LVU103
 234:app/tasks/light_sensor/light_sensor.c **** 
 369              		.loc 1 234 10 is_stmt 0 view .LVU104
 370 0074 0543     		orrs	r5, r5, r0
 371              	.LVL41:
 234:app/tasks/light_sensor/light_sensor.c **** 
 372              		.loc 1 234 10 view .LVU105
 373 0076 13D1     		bne	.L22
 236:app/tasks/light_sensor/light_sensor.c ****       return osOK;
 374              		.loc 1 236 7 is_stmt 1 view .LVU106
 236:app/tasks/light_sensor/light_sensor.c ****       return osOK;
 375              		.loc 1 236 7 view .LVU107
 376 0078 0323     		movs	r3, #3
 377 007a 2374     		strb	r3, [r4, #16]
 236:app/tasks/light_sensor/light_sensor.c ****       return osOK;
 378              		.loc 1 236 7 view .LVU108
 379 007c 0A4B     		ldr	r3, .L25
 380 007e 1868     		ldr	r0, [r3]
 381 0080 0D4B     		ldr	r3, .L25+16
 382 0082 2268     		ldr	r2, [r4]
 383 0084 0A49     		ldr	r1, .L25+8
 384 0086 8068     		ldr	r0, [r0, #8]
 385 0088 FFF7FEFF 		bl	fprintf
 386              	.LVL42:
 236:app/tasks/light_sensor/light_sensor.c ****       return osOK;
 387              		.loc 1 236 7 view .LVU109
 236:app/tasks/light_sensor/light_sensor.c ****       return osOK;
 388              		.loc 1 236 52 view .LVU110
ARM GAS  /tmp/cc7waldT.s 			page 14


 237:app/tasks/light_sensor/light_sensor.c ****   }
 389              		.loc 1 237 7 view .LVU111
 237:app/tasks/light_sensor/light_sensor.c ****   }
 390              		.loc 1 237 14 is_stmt 0 view .LVU112
 391 008c C2E7     		b	.L14
 392              	.LVL43:
 393              	.L19:
 212:app/tasks/light_sensor/light_sensor.c **** 
 394              		.loc 1 212 36 view .LVU113
 395 008e 4FF0FF35 		mov	r5, #-1
 396 0092 BFE7     		b	.L14
 397              	.L20:
 220:app/tasks/light_sensor/light_sensor.c **** 
 398              		.loc 1 220 36 view .LVU114
 399 0094 4FF0FF35 		mov	r5, #-1
 400 0098 BCE7     		b	.L14
 401              	.L21:
 227:app/tasks/light_sensor/light_sensor.c **** 
 402              		.loc 1 227 36 view .LVU115
 403 009a 4FF0FF35 		mov	r5, #-1
 404 009e B9E7     		b	.L14
 405              	.LVL44:
 406              	.L22:
 234:app/tasks/light_sensor/light_sensor.c **** 
 407              		.loc 1 234 36 view .LVU116
 408 00a0 4FF0FF35 		mov	r5, #-1
 409              	.LVL45:
 234:app/tasks/light_sensor/light_sensor.c **** 
 410              		.loc 1 234 36 view .LVU117
 411 00a4 B6E7     		b	.L14
 412              	.L26:
 413 00a6 00BF     		.align	2
 414              	.L25:
 415 00a8 00000000 		.word	_impure_ptr
 416 00ac 40000000 		.word	.LC3
 417 00b0 34000000 		.word	.LC2
 418 00b4 18000000 		.word	.LC1
 419 00b8 00000000 		.word	.LC4
 420              		.cfi_endproc
 421              	.LFE144:
 423              		.section	.text.handleOutOfRange,"ax",%progbits
 424              		.align	1
 425              		.syntax unified
 426              		.thumb
 427              		.thumb_func
 428              		.fpu fpv4-sp-d16
 430              	handleOutOfRange:
 431              	.LVL46:
 432              	.LFB145:
 242:app/tasks/light_sensor/light_sensor.c **** 
 243:app/tasks/light_sensor/light_sensor.c **** /**
 244:app/tasks/light_sensor/light_sensor.c ****  * @brief Cron read sensor data, handle limit interrupts, or turn off the sensor.
 245:app/tasks/light_sensor/light_sensor.c ****  */
 246:app/tasks/light_sensor/light_sensor.c **** static osStatus_t handleOutOfRange(LIGHT_SENS_Actor_t *this, message_t *message) {
 433              		.loc 1 246 82 is_stmt 1 view -0
 434              		.cfi_startproc
 435              		@ args = 0, pretend = 0, frame = 0
ARM GAS  /tmp/cc7waldT.s 			page 15


 436              		@ frame_needed = 0, uses_anonymous_args = 0
 437              		.loc 1 246 82 is_stmt 0 view .LVU119
 438 0000 38B5     		push	{r3, r4, r5, lr}
 439              	.LCFI2:
 440              		.cfi_def_cfa_offset 16
 441              		.cfi_offset 3, -16
 442              		.cfi_offset 4, -12
 443              		.cfi_offset 5, -8
 444              		.cfi_offset 14, -4
 445 0002 0446     		mov	r4, r0
 247:app/tasks/light_sensor/light_sensor.c ****   osStatus_t ioStatus;
 446              		.loc 1 247 3 is_stmt 1 view .LVU120
 248:app/tasks/light_sensor/light_sensor.c **** 
 249:app/tasks/light_sensor/light_sensor.c ****   switch (message->event) {
 447              		.loc 1 249 3 view .LVU121
 448              		.loc 1 249 18 is_stmt 0 view .LVU122
 449 0004 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
 450              		.loc 1 249 3 view .LVU123
 451 0006 172B     		cmp	r3, #23
 452 0008 17D0     		beq	.L28
 453 000a 182B     		cmp	r3, #24
 454 000c 26D0     		beq	.L29
 455 000e 032B     		cmp	r3, #3
 456 0010 02D0     		beq	.L37
 457 0012 0025     		movs	r5, #0
 458              	.LVL47:
 459              	.L27:
 250:app/tasks/light_sensor/light_sensor.c ****     case GLOBAL_WAKE_N_READ:
 251:app/tasks/light_sensor/light_sensor.c ****       // still read the measured rawLux on RTC cron
 252:app/tasks/light_sensor/light_sensor.c ****       ioStatus = OPT3001_ReadResultRawLux(&this->rawLux);
 253:app/tasks/light_sensor/light_sensor.c ****       if (ioStatus != osOK) return osError;
 254:app/tasks/light_sensor/light_sensor.c **** 
 255:app/tasks/light_sensor/light_sensor.c ****       TO_STATE(this, LIGHT_SENS_OUT_OF_RANGE_STATE);
 256:app/tasks/light_sensor/light_sensor.c ****       return osOK;
 257:app/tasks/light_sensor/light_sensor.c ****     case LIGHT_SENS_TURN_OFF:
 258:app/tasks/light_sensor/light_sensor.c ****       // turn off the sensor
 259:app/tasks/light_sensor/light_sensor.c ****       ioStatus = OPT3001_WriteConfig(OPT3001_CONFIG_DEFAULT | OPT3001_CONFIG_MODE_SHUTDOWN);
 260:app/tasks/light_sensor/light_sensor.c **** 
 261:app/tasks/light_sensor/light_sensor.c ****       if (ioStatus != osOK) return osError;
 262:app/tasks/light_sensor/light_sensor.c **** 
 263:app/tasks/light_sensor/light_sensor.c ****       TO_STATE(this, LIGHT_SENS_TURNED_OFF_STATE);
 264:app/tasks/light_sensor/light_sensor.c ****       return osOK;
 265:app/tasks/light_sensor/light_sensor.c ****     case LIGHT_SENS_LIMIT_INT:
 266:app/tasks/light_sensor/light_sensor.c ****       // read the measured rawLux OK overvalue
 267:app/tasks/light_sensor/light_sensor.c ****       ioStatus = OPT3001_ReadResultRawLux(&this->rawLux);
 268:app/tasks/light_sensor/light_sensor.c ****       if (ioStatus != osOK) return osError;
 269:app/tasks/light_sensor/light_sensor.c ****       // TODO emit to event manager LIGHT_SENS_LIMIT_INT with this->rawLux payload, handle that thi
 270:app/tasks/light_sensor/light_sensor.c **** 
 271:app/tasks/light_sensor/light_sensor.c ****       // swap limits back to normal
 272:app/tasks/light_sensor/light_sensor.c ****       ioStatus = OPT3001_WriteHighLimit(this->highLimit)
 273:app/tasks/light_sensor/light_sensor.c ****                | OPT3001_WriteLowLimit(OPT3001_CONFIG_LIMIT_MIN);
 274:app/tasks/light_sensor/light_sensor.c ****       if (ioStatus != osOK) return osError;
 275:app/tasks/light_sensor/light_sensor.c **** 
 276:app/tasks/light_sensor/light_sensor.c ****       // back to continuous measure state
 277:app/tasks/light_sensor/light_sensor.c ****       TO_STATE(this, LIGHT_SENS_CONTINUOUS_MEASURE_STATE);
 278:app/tasks/light_sensor/light_sensor.c ****       return osOK;
 279:app/tasks/light_sensor/light_sensor.c ****   }
ARM GAS  /tmp/cc7waldT.s 			page 16


 280:app/tasks/light_sensor/light_sensor.c **** 
 281:app/tasks/light_sensor/light_sensor.c ****   return osOK;
 282:app/tasks/light_sensor/light_sensor.c **** }
 460              		.loc 1 282 1 view .LVU124
 461 0014 2846     		mov	r0, r5
 462 0016 38BD     		pop	{r3, r4, r5, pc}
 463              	.LVL48:
 464              	.L37:
 252:app/tasks/light_sensor/light_sensor.c ****       if (ioStatus != osOK) return osError;
 465              		.loc 1 252 7 is_stmt 1 view .LVU125
 252:app/tasks/light_sensor/light_sensor.c ****       if (ioStatus != osOK) return osError;
 466              		.loc 1 252 18 is_stmt 0 view .LVU126
 467 0018 1230     		adds	r0, r0, #18
 468              	.LVL49:
 252:app/tasks/light_sensor/light_sensor.c ****       if (ioStatus != osOK) return osError;
 469              		.loc 1 252 18 view .LVU127
 470 001a FFF7FEFF 		bl	OPT3001_ReadResultRawLux
 471              	.LVL50:
 253:app/tasks/light_sensor/light_sensor.c **** 
 472              		.loc 1 253 7 is_stmt 1 view .LVU128
 253:app/tasks/light_sensor/light_sensor.c **** 
 473              		.loc 1 253 10 is_stmt 0 view .LVU129
 474 001e 0546     		mov	r5, r0
 475 0020 0028     		cmp	r0, #0
 476 0022 33D1     		bne	.L32
 255:app/tasks/light_sensor/light_sensor.c ****       return osOK;
 477              		.loc 1 255 7 is_stmt 1 view .LVU130
 255:app/tasks/light_sensor/light_sensor.c ****       return osOK;
 478              		.loc 1 255 7 view .LVU131
 479 0024 0323     		movs	r3, #3
 480 0026 2374     		strb	r3, [r4, #16]
 255:app/tasks/light_sensor/light_sensor.c ****       return osOK;
 481              		.loc 1 255 7 view .LVU132
 482 0028 1E4B     		ldr	r3, .L38
 483 002a 1868     		ldr	r0, [r3]
 484              	.LVL51:
 255:app/tasks/light_sensor/light_sensor.c ****       return osOK;
 485              		.loc 1 255 7 is_stmt 0 view .LVU133
 486 002c 1E4B     		ldr	r3, .L38+4
 487 002e 2268     		ldr	r2, [r4]
 488 0030 1E49     		ldr	r1, .L38+8
 489 0032 8068     		ldr	r0, [r0, #8]
 490 0034 FFF7FEFF 		bl	fprintf
 491              	.LVL52:
 255:app/tasks/light_sensor/light_sensor.c ****       return osOK;
 492              		.loc 1 255 7 is_stmt 1 view .LVU134
 255:app/tasks/light_sensor/light_sensor.c ****       return osOK;
 493              		.loc 1 255 52 view .LVU135
 256:app/tasks/light_sensor/light_sensor.c ****     case LIGHT_SENS_TURN_OFF:
 494              		.loc 1 256 7 view .LVU136
 256:app/tasks/light_sensor/light_sensor.c ****     case LIGHT_SENS_TURN_OFF:
 495              		.loc 1 256 14 is_stmt 0 view .LVU137
 496 0038 ECE7     		b	.L27
 497              	.LVL53:
 498              	.L28:
 259:app/tasks/light_sensor/light_sensor.c **** 
 499              		.loc 1 259 7 is_stmt 1 view .LVU138
ARM GAS  /tmp/cc7waldT.s 			page 17


 259:app/tasks/light_sensor/light_sensor.c **** 
 500              		.loc 1 259 18 is_stmt 0 view .LVU139
 501 003a 4CF61000 		movw	r0, #51216
 502              	.LVL54:
 259:app/tasks/light_sensor/light_sensor.c **** 
 503              		.loc 1 259 18 view .LVU140
 504 003e FFF7FEFF 		bl	OPT3001_WriteConfig
 505              	.LVL55:
 261:app/tasks/light_sensor/light_sensor.c **** 
 506              		.loc 1 261 7 is_stmt 1 view .LVU141
 261:app/tasks/light_sensor/light_sensor.c **** 
 507              		.loc 1 261 10 is_stmt 0 view .LVU142
 508 0042 0546     		mov	r5, r0
 509 0044 28BB     		cbnz	r0, .L33
 263:app/tasks/light_sensor/light_sensor.c ****       return osOK;
 510              		.loc 1 263 7 is_stmt 1 view .LVU143
 263:app/tasks/light_sensor/light_sensor.c ****       return osOK;
 511              		.loc 1 263 7 view .LVU144
 512 0046 0123     		movs	r3, #1
 513 0048 2374     		strb	r3, [r4, #16]
 263:app/tasks/light_sensor/light_sensor.c ****       return osOK;
 514              		.loc 1 263 7 view .LVU145
 515 004a 164B     		ldr	r3, .L38
 516 004c 1868     		ldr	r0, [r3]
 517              	.LVL56:
 263:app/tasks/light_sensor/light_sensor.c ****       return osOK;
 518              		.loc 1 263 7 is_stmt 0 view .LVU146
 519 004e 184B     		ldr	r3, .L38+12
 520 0050 2268     		ldr	r2, [r4]
 521 0052 1649     		ldr	r1, .L38+8
 522 0054 8068     		ldr	r0, [r0, #8]
 523 0056 FFF7FEFF 		bl	fprintf
 524              	.LVL57:
 263:app/tasks/light_sensor/light_sensor.c ****       return osOK;
 525              		.loc 1 263 7 is_stmt 1 view .LVU147
 263:app/tasks/light_sensor/light_sensor.c ****       return osOK;
 526              		.loc 1 263 50 view .LVU148
 264:app/tasks/light_sensor/light_sensor.c ****     case LIGHT_SENS_LIMIT_INT:
 527              		.loc 1 264 7 view .LVU149
 264:app/tasks/light_sensor/light_sensor.c ****     case LIGHT_SENS_LIMIT_INT:
 528              		.loc 1 264 14 is_stmt 0 view .LVU150
 529 005a DBE7     		b	.L27
 530              	.LVL58:
 531              	.L29:
 267:app/tasks/light_sensor/light_sensor.c ****       if (ioStatus != osOK) return osError;
 532              		.loc 1 267 7 is_stmt 1 view .LVU151
 267:app/tasks/light_sensor/light_sensor.c ****       if (ioStatus != osOK) return osError;
 533              		.loc 1 267 18 is_stmt 0 view .LVU152
 534 005c 1230     		adds	r0, r0, #18
 535              	.LVL59:
 267:app/tasks/light_sensor/light_sensor.c ****       if (ioStatus != osOK) return osError;
 536              		.loc 1 267 18 view .LVU153
 537 005e FFF7FEFF 		bl	OPT3001_ReadResultRawLux
 538              	.LVL60:
 268:app/tasks/light_sensor/light_sensor.c ****       // TODO emit to event manager LIGHT_SENS_LIMIT_INT with this->rawLux payload, handle that thi
 539              		.loc 1 268 7 is_stmt 1 view .LVU154
 268:app/tasks/light_sensor/light_sensor.c ****       // TODO emit to event manager LIGHT_SENS_LIMIT_INT with this->rawLux payload, handle that thi
ARM GAS  /tmp/cc7waldT.s 			page 18


 540              		.loc 1 268 10 is_stmt 0 view .LVU155
 541 0062 C8B9     		cbnz	r0, .L34
 272:app/tasks/light_sensor/light_sensor.c ****                | OPT3001_WriteLowLimit(OPT3001_CONFIG_LIMIT_MIN);
 542              		.loc 1 272 7 is_stmt 1 view .LVU156
 272:app/tasks/light_sensor/light_sensor.c ****                | OPT3001_WriteLowLimit(OPT3001_CONFIG_LIMIT_MIN);
 543              		.loc 1 272 18 is_stmt 0 view .LVU157
 544 0064 A08A     		ldrh	r0, [r4, #20]
 545              	.LVL61:
 272:app/tasks/light_sensor/light_sensor.c ****                | OPT3001_WriteLowLimit(OPT3001_CONFIG_LIMIT_MIN);
 546              		.loc 1 272 18 view .LVU158
 547 0066 FFF7FEFF 		bl	OPT3001_WriteHighLimit
 548              	.LVL62:
 549 006a 0546     		mov	r5, r0
 273:app/tasks/light_sensor/light_sensor.c ****       if (ioStatus != osOK) return osError;
 550              		.loc 1 273 18 view .LVU159
 551 006c 0020     		movs	r0, #0
 552 006e FFF7FEFF 		bl	OPT3001_WriteLowLimit
 553              	.LVL63:
 274:app/tasks/light_sensor/light_sensor.c **** 
 554              		.loc 1 274 7 is_stmt 1 view .LVU160
 274:app/tasks/light_sensor/light_sensor.c **** 
 555              		.loc 1 274 10 is_stmt 0 view .LVU161
 556 0072 0543     		orrs	r5, r5, r0
 557              	.LVL64:
 274:app/tasks/light_sensor/light_sensor.c **** 
 558              		.loc 1 274 10 view .LVU162
 559 0074 13D1     		bne	.L35
 277:app/tasks/light_sensor/light_sensor.c ****       return osOK;
 560              		.loc 1 277 7 is_stmt 1 view .LVU163
 277:app/tasks/light_sensor/light_sensor.c ****       return osOK;
 561              		.loc 1 277 7 view .LVU164
 562 0076 0223     		movs	r3, #2
 563 0078 2374     		strb	r3, [r4, #16]
 277:app/tasks/light_sensor/light_sensor.c ****       return osOK;
 564              		.loc 1 277 7 view .LVU165
 565 007a 0A4B     		ldr	r3, .L38
 566 007c 1868     		ldr	r0, [r3]
 567 007e 0D4B     		ldr	r3, .L38+16
 568 0080 2268     		ldr	r2, [r4]
 569 0082 0A49     		ldr	r1, .L38+8
 570 0084 8068     		ldr	r0, [r0, #8]
 571 0086 FFF7FEFF 		bl	fprintf
 572              	.LVL65:
 277:app/tasks/light_sensor/light_sensor.c ****       return osOK;
 573              		.loc 1 277 7 view .LVU166
 277:app/tasks/light_sensor/light_sensor.c ****       return osOK;
 574              		.loc 1 277 58 view .LVU167
 278:app/tasks/light_sensor/light_sensor.c ****   }
 575              		.loc 1 278 7 view .LVU168
 278:app/tasks/light_sensor/light_sensor.c ****   }
 576              		.loc 1 278 14 is_stmt 0 view .LVU169
 577 008a C3E7     		b	.L27
 578              	.LVL66:
 579              	.L32:
 253:app/tasks/light_sensor/light_sensor.c **** 
 580              		.loc 1 253 36 view .LVU170
 581 008c 4FF0FF35 		mov	r5, #-1
ARM GAS  /tmp/cc7waldT.s 			page 19


 582 0090 C0E7     		b	.L27
 583              	.L33:
 261:app/tasks/light_sensor/light_sensor.c **** 
 584              		.loc 1 261 36 view .LVU171
 585 0092 4FF0FF35 		mov	r5, #-1
 586 0096 BDE7     		b	.L27
 587              	.L34:
 268:app/tasks/light_sensor/light_sensor.c ****       // TODO emit to event manager LIGHT_SENS_LIMIT_INT with this->rawLux payload, handle that thi
 588              		.loc 1 268 36 view .LVU172
 589 0098 4FF0FF35 		mov	r5, #-1
 590 009c BAE7     		b	.L27
 591              	.LVL67:
 592              	.L35:
 274:app/tasks/light_sensor/light_sensor.c **** 
 593              		.loc 1 274 36 view .LVU173
 594 009e 4FF0FF35 		mov	r5, #-1
 595              	.LVL68:
 274:app/tasks/light_sensor/light_sensor.c **** 
 596              		.loc 1 274 36 view .LVU174
 597 00a2 B7E7     		b	.L27
 598              	.L39:
 599              		.align	2
 600              	.L38:
 601 00a4 00000000 		.word	_impure_ptr
 602 00a8 00000000 		.word	.LC4
 603 00ac 34000000 		.word	.LC2
 604 00b0 18000000 		.word	.LC1
 605 00b4 40000000 		.word	.LC3
 606              		.cfi_endproc
 607              	.LFE145:
 609              		.section	.text.handleLightSensorFSM,"ax",%progbits
 610              		.align	1
 611              		.syntax unified
 612              		.thumb
 613              		.thumb_func
 614              		.fpu fpv4-sp-d16
 616              	handleLightSensorFSM:
 617              	.LVL69:
 618              	.LFB141:
  75:app/tasks/light_sensor/light_sensor.c ****   switch (this->state) {
 619              		.loc 1 75 86 is_stmt 1 view -0
 620              		.cfi_startproc
 621              		@ args = 0, pretend = 0, frame = 0
 622              		@ frame_needed = 0, uses_anonymous_args = 0
  75:app/tasks/light_sensor/light_sensor.c ****   switch (this->state) {
 623              		.loc 1 75 86 is_stmt 0 view .LVU176
 624 0000 08B5     		push	{r3, lr}
 625              	.LCFI3:
 626              		.cfi_def_cfa_offset 8
 627              		.cfi_offset 3, -8
 628              		.cfi_offset 14, -4
  76:app/tasks/light_sensor/light_sensor.c ****     case LIGHT_SENS_NO_STATE:
 629              		.loc 1 76 3 is_stmt 1 view .LVU177
  76:app/tasks/light_sensor/light_sensor.c ****     case LIGHT_SENS_NO_STATE:
 630              		.loc 1 76 15 is_stmt 0 view .LVU178
 631 0002 037C     		ldrb	r3, [r0, #16]	@ zero_extendqisi2
  76:app/tasks/light_sensor/light_sensor.c ****     case LIGHT_SENS_NO_STATE:
ARM GAS  /tmp/cc7waldT.s 			page 20


 632              		.loc 1 76 3 view .LVU179
 633 0004 022B     		cmp	r3, #2
 634 0006 08D0     		beq	.L41
 635 0008 032B     		cmp	r3, #3
 636 000a 09D0     		beq	.L42
 637 000c 012B     		cmp	r3, #1
 638 000e 01D0     		beq	.L46
 639 0010 0020     		movs	r0, #0
 640              	.LVL70:
 641              	.L40:
  89:app/tasks/light_sensor/light_sensor.c **** /**
 642              		.loc 1 89 1 view .LVU180
 643 0012 08BD     		pop	{r3, pc}
 644              	.LVL71:
 645              	.L46:
  81:app/tasks/light_sensor/light_sensor.c ****     case LIGHT_SENS_CONTINUOUS_MEASURE_STATE:
 646              		.loc 1 81 7 is_stmt 1 view .LVU181
  81:app/tasks/light_sensor/light_sensor.c ****     case LIGHT_SENS_CONTINUOUS_MEASURE_STATE:
 647              		.loc 1 81 14 is_stmt 0 view .LVU182
 648 0014 FFF7FEFF 		bl	handleTurnedOff
 649              	.LVL72:
  81:app/tasks/light_sensor/light_sensor.c ****     case LIGHT_SENS_CONTINUOUS_MEASURE_STATE:
 650              		.loc 1 81 14 view .LVU183
 651 0018 FBE7     		b	.L40
 652              	.LVL73:
 653              	.L41:
  83:app/tasks/light_sensor/light_sensor.c ****     case LIGHT_SENS_OUT_OF_RANGE_STATE:
 654              		.loc 1 83 7 is_stmt 1 view .LVU184
  83:app/tasks/light_sensor/light_sensor.c ****     case LIGHT_SENS_OUT_OF_RANGE_STATE:
 655              		.loc 1 83 14 is_stmt 0 view .LVU185
 656 001a FFF7FEFF 		bl	handleContinuousMeasure
 657              	.LVL74:
  83:app/tasks/light_sensor/light_sensor.c ****     case LIGHT_SENS_OUT_OF_RANGE_STATE:
 658              		.loc 1 83 14 view .LVU186
 659 001e F8E7     		b	.L40
 660              	.LVL75:
 661              	.L42:
  85:app/tasks/light_sensor/light_sensor.c ****   }
 662              		.loc 1 85 7 is_stmt 1 view .LVU187
  85:app/tasks/light_sensor/light_sensor.c ****   }
 663              		.loc 1 85 14 is_stmt 0 view .LVU188
 664 0020 FFF7FEFF 		bl	handleOutOfRange
 665              	.LVL76:
  85:app/tasks/light_sensor/light_sensor.c ****   }
 666              		.loc 1 85 14 view .LVU189
 667 0024 F5E7     		b	.L40
 668              		.cfi_endproc
 669              	.LFE141:
 671              		.section	.rodata.LIGHT_SENS_Task.str1.4,"aMS",%progbits,1
 672              		.align	2
 673              	.LC5:
 674 0000 6C696768 		.ascii	"lightSensorTask\000"
 674      7453656E 
 674      736F7254 
 674      61736B00 
 675              		.align	2
 676              	.LC6:
ARM GAS  /tmp/cc7waldT.s 			page 21


 677 0010 5461736B 		.ascii	"Task %s started\012\000"
 677      20257320 
 677      73746172 
 677      7465640A 
 677      00
 678 0021 000000   		.align	2
 679              	.LC7:
 680 0024 25733A20 		.ascii	"%s: Error handling event %u in state %ul\012\000"
 680      4572726F 
 680      72206861 
 680      6E646C69 
 680      6E672065 
 681 004e 0000     		.align	2
 682              	.LC8:
 683 0050 4C494748 		.ascii	"LIGHT_SENS_STATE_ERROR\000"
 683      545F5345 
 683      4E535F53 
 683      54415445 
 683      5F455252 
 684              		.section	.text.LIGHT_SENS_Task,"ax",%progbits
 685              		.align	1
 686              		.global	LIGHT_SENS_Task
 687              		.syntax unified
 688              		.thumb
 689              		.thumb_func
 690              		.fpu fpv4-sp-d16
 692              	LIGHT_SENS_Task:
 693              	.LVL77:
 694              	.LFB140:
  54:app/tasks/light_sensor/light_sensor.c ****   (void) argument; // Avoid unused parameter warning
 695              		.loc 1 54 38 is_stmt 1 view -0
 696              		.cfi_startproc
 697              		@ args = 0, pretend = 0, frame = 24
 698              		@ frame_needed = 0, uses_anonymous_args = 0
  54:app/tasks/light_sensor/light_sensor.c ****   (void) argument; // Avoid unused parameter warning
 699              		.loc 1 54 38 is_stmt 0 view .LVU191
 700 0000 30B5     		push	{r4, r5, lr}
 701              	.LCFI4:
 702              		.cfi_def_cfa_offset 12
 703              		.cfi_offset 4, -12
 704              		.cfi_offset 5, -8
 705              		.cfi_offset 14, -4
 706 0002 89B0     		sub	sp, sp, #36
 707              	.LCFI5:
 708              		.cfi_def_cfa_offset 48
  55:app/tasks/light_sensor/light_sensor.c ****   message_t msg;
 709              		.loc 1 55 3 is_stmt 1 view .LVU192
  56:app/tasks/light_sensor/light_sensor.c **** 
 710              		.loc 1 56 3 view .LVU193
  58:app/tasks/light_sensor/light_sensor.c **** 
 711              		.loc 1 58 3 view .LVU194
  58:app/tasks/light_sensor/light_sensor.c **** 
 712              		.loc 1 58 11 is_stmt 0 view .LVU195
 713 0004 1E4B     		ldr	r3, .L52
 714 0006 1B68     		ldr	r3, [r3]
  58:app/tasks/light_sensor/light_sensor.c **** 
 715              		.loc 1 58 3 view .LVU196
ARM GAS  /tmp/cc7waldT.s 			page 22


 716 0008 1E4A     		ldr	r2, .L52+4
 717 000a 1F49     		ldr	r1, .L52+8
 718 000c 9868     		ldr	r0, [r3, #8]
 719              	.LVL78:
  58:app/tasks/light_sensor/light_sensor.c **** 
 720              		.loc 1 58 3 view .LVU197
 721 000e FFF7FEFF 		bl	fprintf
 722              	.LVL79:
 723              	.L48:
  60:app/tasks/light_sensor/light_sensor.c ****     // Wait for messages from the queue
 724              		.loc 1 60 3 is_stmt 1 view .LVU198
  62:app/tasks/light_sensor/light_sensor.c ****       osStatus_t handleMessageStatus = LIGHT_SENS_Actor.super.messageHandler((actor_t *) &LIGHT_SEN
 725              		.loc 1 62 5 view .LVU199
  62:app/tasks/light_sensor/light_sensor.c ****       osStatus_t handleMessageStatus = LIGHT_SENS_Actor.super.messageHandler((actor_t *) &LIGHT_SEN
 726              		.loc 1 62 9 is_stmt 0 view .LVU200
 727 0012 4FF0FF33 		mov	r3, #-1
 728 0016 0022     		movs	r2, #0
 729 0018 02A9     		add	r1, sp, #8
 730 001a 1C48     		ldr	r0, .L52+12
 731 001c 8068     		ldr	r0, [r0, #8]
 732 001e FFF7FEFF 		bl	osMessageQueueGet
 733              	.LVL80:
  62:app/tasks/light_sensor/light_sensor.c ****       osStatus_t handleMessageStatus = LIGHT_SENS_Actor.super.messageHandler((actor_t *) &LIGHT_SEN
 734              		.loc 1 62 8 view .LVU201
 735 0022 0028     		cmp	r0, #0
 736 0024 F5D1     		bne	.L48
 737              	.LBB2:
  63:app/tasks/light_sensor/light_sensor.c **** 
 738              		.loc 1 63 7 is_stmt 1 view .LVU202
  63:app/tasks/light_sensor/light_sensor.c **** 
 739              		.loc 1 63 62 is_stmt 0 view .LVU203
 740 0026 1948     		ldr	r0, .L52+12
 741 0028 C368     		ldr	r3, [r0, #12]
  63:app/tasks/light_sensor/light_sensor.c **** 
 742              		.loc 1 63 40 view .LVU204
 743 002a 02A9     		add	r1, sp, #8
 744 002c 9847     		blx	r3
 745              	.LVL81:
  65:app/tasks/light_sensor/light_sensor.c ****         fprintf(stderr, "%s: Error handling event %u in state %ul\n", lightSensorTaskDescription.na
 746              		.loc 1 65 7 is_stmt 1 view .LVU205
  65:app/tasks/light_sensor/light_sensor.c ****         fprintf(stderr, "%s: Error handling event %u in state %ul\n", lightSensorTaskDescription.na
 747              		.loc 1 65 10 is_stmt 0 view .LVU206
 748 002e 0028     		cmp	r0, #0
 749 0030 EFD0     		beq	.L48
 750              	.LBB3:
  66:app/tasks/light_sensor/light_sensor.c ****         osMessageQueueId_t evManagerQueue = ACTORS_LIST_SystemRegistry[EV_MANAGER_ACTOR_ID]->osMess
 751              		.loc 1 66 9 is_stmt 1 view .LVU207
  66:app/tasks/light_sensor/light_sensor.c ****         osMessageQueueId_t evManagerQueue = ACTORS_LIST_SystemRegistry[EV_MANAGER_ACTOR_ID]->osMess
 752              		.loc 1 66 17 is_stmt 0 view .LVU208
 753 0032 134D     		ldr	r5, .L52
 754 0034 2B68     		ldr	r3, [r5]
 755 0036 D868     		ldr	r0, [r3, #12]
 756              	.LVL82:
  66:app/tasks/light_sensor/light_sensor.c ****         osMessageQueueId_t evManagerQueue = ACTORS_LIST_SystemRegistry[EV_MANAGER_ACTOR_ID]->osMess
 757              		.loc 1 66 131 view .LVU209
 758 0038 144C     		ldr	r4, .L52+12
 759 003a 237C     		ldrb	r3, [r4, #16]	@ zero_extendqisi2
ARM GAS  /tmp/cc7waldT.s 			page 23


  66:app/tasks/light_sensor/light_sensor.c ****         osMessageQueueId_t evManagerQueue = ACTORS_LIST_SystemRegistry[EV_MANAGER_ACTOR_ID]->osMess
 760              		.loc 1 66 9 view .LVU210
 761 003c 0093     		str	r3, [sp]
 762 003e 9DF80830 		ldrb	r3, [sp, #8]	@ zero_extendqisi2
 763 0042 104A     		ldr	r2, .L52+4
 764 0044 1249     		ldr	r1, .L52+16
 765 0046 FFF7FEFF 		bl	fprintf
 766              	.LVL83:
  67:app/tasks/light_sensor/light_sensor.c ****         osMessageQueuePut(evManagerQueue, &(message_t){GLOBAL_ERROR, .payload.value = LIGHT_SENSOR_
 767              		.loc 1 67 9 is_stmt 1 view .LVU211
  67:app/tasks/light_sensor/light_sensor.c ****         osMessageQueuePut(evManagerQueue, &(message_t){GLOBAL_ERROR, .payload.value = LIGHT_SENSOR_
 768              		.loc 1 67 71 is_stmt 0 view .LVU212
 769 004a 124B     		ldr	r3, .L52+20
 770 004c 5B68     		ldr	r3, [r3, #4]
  67:app/tasks/light_sensor/light_sensor.c ****         osMessageQueuePut(evManagerQueue, &(message_t){GLOBAL_ERROR, .payload.value = LIGHT_SENSOR_
 771              		.loc 1 67 28 view .LVU213
 772 004e 9868     		ldr	r0, [r3, #8]
 773              	.LVL84:
  68:app/tasks/light_sensor/light_sensor.c ****         TO_STATE(&LIGHT_SENS_Actor, LIGHT_SENS_STATE_ERROR);
 774              		.loc 1 68 9 is_stmt 1 view .LVU214
  68:app/tasks/light_sensor/light_sensor.c ****         TO_STATE(&LIGHT_SENS_Actor, LIGHT_SENS_STATE_ERROR);
 775              		.loc 1 68 55 is_stmt 0 view .LVU215
 776 0050 0022     		movs	r2, #0
 777 0052 0592     		str	r2, [sp, #20]
 778 0054 0692     		str	r2, [sp, #24]
 779 0056 0792     		str	r2, [sp, #28]
 780 0058 0C23     		movs	r3, #12
 781 005a 8DF81430 		strb	r3, [sp, #20]
 782 005e 0723     		movs	r3, #7
 783 0060 0693     		str	r3, [sp, #24]
  68:app/tasks/light_sensor/light_sensor.c ****         TO_STATE(&LIGHT_SENS_Actor, LIGHT_SENS_STATE_ERROR);
 784              		.loc 1 68 9 view .LVU216
 785 0062 1346     		mov	r3, r2
 786 0064 05A9     		add	r1, sp, #20
 787 0066 FFF7FEFF 		bl	osMessageQueuePut
 788              	.LVL85:
  69:app/tasks/light_sensor/light_sensor.c ****       }
 789              		.loc 1 69 9 is_stmt 1 view .LVU217
  69:app/tasks/light_sensor/light_sensor.c ****       }
 790              		.loc 1 69 9 view .LVU218
 791 006a 0423     		movs	r3, #4
 792 006c 2374     		strb	r3, [r4, #16]
  69:app/tasks/light_sensor/light_sensor.c ****       }
 793              		.loc 1 69 9 view .LVU219
 794 006e 2868     		ldr	r0, [r5]
 795 0070 094B     		ldr	r3, .L52+24
 796 0072 2268     		ldr	r2, [r4]
 797 0074 0949     		ldr	r1, .L52+28
 798 0076 8068     		ldr	r0, [r0, #8]
 799 0078 FFF7FEFF 		bl	fprintf
 800              	.LVL86:
  69:app/tasks/light_sensor/light_sensor.c ****       }
 801              		.loc 1 69 9 view .LVU220
  69:app/tasks/light_sensor/light_sensor.c ****       }
 802              		.loc 1 69 60 view .LVU221
 803 007c C9E7     		b	.L48
 804              	.L53:
ARM GAS  /tmp/cc7waldT.s 			page 24


 805 007e 00BF     		.align	2
 806              	.L52:
 807 0080 00000000 		.word	_impure_ptr
 808 0084 00000000 		.word	.LC5
 809 0088 10000000 		.word	.LC6
 810 008c 00000000 		.word	.LANCHOR0
 811 0090 24000000 		.word	.LC7
 812 0094 00000000 		.word	ACTORS_LIST_SystemRegistry
 813 0098 50000000 		.word	.LC8
 814 009c 34000000 		.word	.LC2
 815              	.LBE3:
 816              	.LBE2:
 817              		.cfi_endproc
 818              	.LFE140:
 820              		.section	.rodata.LIGHT_SENS_TaskInit.str1.4,"aMS",%progbits,1
 821              		.align	2
 822              	.LC9:
 823 0000 6C696768 		.ascii	"lightSensorQueue\000"
 823      7453656E 
 823      736F7251 
 823      75657565 
 823      00
 824              		.section	.text.LIGHT_SENS_TaskInit,"ax",%progbits
 825              		.align	1
 826              		.global	LIGHT_SENS_TaskInit
 827              		.syntax unified
 828              		.thumb
 829              		.thumb_func
 830              		.fpu fpv4-sp-d16
 832              	LIGHT_SENS_TaskInit:
 833              	.LFB139:
  45:app/tasks/light_sensor/light_sensor.c ****   LIGHT_SENS_Actor.super.osMessageQueueId = osMessageQueueNew(DEFAULT_QUEUE_SIZE, DEFAULT_QUEUE_MES
 834              		.loc 1 45 36 view -0
 835              		.cfi_startproc
 836              		@ args = 0, pretend = 0, frame = 24
 837              		@ frame_needed = 0, uses_anonymous_args = 0
 838 0000 30B5     		push	{r4, r5, lr}
 839              	.LCFI6:
 840              		.cfi_def_cfa_offset 12
 841              		.cfi_offset 4, -12
 842              		.cfi_offset 5, -8
 843              		.cfi_offset 14, -4
 844 0002 87B0     		sub	sp, sp, #28
 845              	.LCFI7:
 846              		.cfi_def_cfa_offset 40
  46:app/tasks/light_sensor/light_sensor.c ****           .name = "lightSensorQueue"
 847              		.loc 1 46 3 view .LVU223
  46:app/tasks/light_sensor/light_sensor.c ****           .name = "lightSensorQueue"
 848              		.loc 1 46 134 is_stmt 0 view .LVU224
 849 0004 0024     		movs	r4, #0
 850 0006 0094     		str	r4, [sp]
 851 0008 0194     		str	r4, [sp, #4]
 852 000a 0294     		str	r4, [sp, #8]
 853 000c 0394     		str	r4, [sp, #12]
 854 000e 0494     		str	r4, [sp, #16]
 855 0010 0594     		str	r4, [sp, #20]
 856 0012 094B     		ldr	r3, .L56
ARM GAS  /tmp/cc7waldT.s 			page 25


 857 0014 0093     		str	r3, [sp]
  46:app/tasks/light_sensor/light_sensor.c ****           .name = "lightSensorQueue"
 858              		.loc 1 46 45 view .LVU225
 859 0016 6A46     		mov	r2, sp
 860 0018 0C21     		movs	r1, #12
 861 001a 0820     		movs	r0, #8
 862 001c FFF7FEFF 		bl	osMessageQueueNew
 863              	.LVL87:
  46:app/tasks/light_sensor/light_sensor.c ****           .name = "lightSensorQueue"
 864              		.loc 1 46 43 view .LVU226
 865 0020 064D     		ldr	r5, .L56+4
 866 0022 A860     		str	r0, [r5, #8]
  49:app/tasks/light_sensor/light_sensor.c **** 
 867              		.loc 1 49 3 is_stmt 1 view .LVU227
  49:app/tasks/light_sensor/light_sensor.c **** 
 868              		.loc 1 49 39 is_stmt 0 view .LVU228
 869 0024 064A     		ldr	r2, .L56+8
 870 0026 2146     		mov	r1, r4
 871 0028 0648     		ldr	r0, .L56+12
 872 002a FFF7FEFF 		bl	osThreadNew
 873              	.LVL88:
  49:app/tasks/light_sensor/light_sensor.c **** 
 874              		.loc 1 49 37 view .LVU229
 875 002e 6860     		str	r0, [r5, #4]
  51:app/tasks/light_sensor/light_sensor.c **** }
 876              		.loc 1 51 3 is_stmt 1 view .LVU230
  52:app/tasks/light_sensor/light_sensor.c **** 
 877              		.loc 1 52 1 is_stmt 0 view .LVU231
 878 0030 2846     		mov	r0, r5
 879 0032 07B0     		add	sp, sp, #28
 880              	.LCFI8:
 881              		.cfi_def_cfa_offset 12
 882              		@ sp needed
 883 0034 30BD     		pop	{r4, r5, pc}
 884              	.L57:
 885 0036 00BF     		.align	2
 886              	.L56:
 887 0038 00000000 		.word	.LC9
 888 003c 00000000 		.word	.LANCHOR0
 889 0040 00000000 		.word	.LANCHOR1
 890 0044 00000000 		.word	LIGHT_SENS_Task
 891              		.cfi_endproc
 892              	.LFE139:
 894              		.global	lightSensorTaskDescription
 895              		.global	lightSensorTaskControlBlock
 896              		.global	lightSensorTaskBuffer
 897              		.global	LIGHT_SENS_Actor
 898              		.section	.bss.lightSensorTaskBuffer,"aw",%nobits
 899              		.align	2
 902              	lightSensorTaskBuffer:
 903 0000 00000000 		.space	512
 903      00000000 
 903      00000000 
 903      00000000 
 903      00000000 
 904              		.section	.bss.lightSensorTaskControlBlock,"aw",%nobits
 905              		.align	2
ARM GAS  /tmp/cc7waldT.s 			page 26


 908              	lightSensorTaskControlBlock:
 909 0000 00000000 		.space	92
 909      00000000 
 909      00000000 
 909      00000000 
 909      00000000 
 910              		.section	.data.LIGHT_SENS_Actor,"aw"
 911              		.align	2
 912              		.set	.LANCHOR0,. + 0
 915              	LIGHT_SENS_Actor:
 916 0000 07000000 		.word	7
 917 0004 00000000 		.word	0
 918 0008 00000000 		.word	0
 919 000c 00000000 		.word	handleLightSensorFSM
 920 0010 00       		.byte	0
 921 0011 00       		.space	1
 922 0012 0000     		.short	0
 923 0014 FFFF     		.short	-1
 924 0016 0000     		.space	2
 925              		.section	.rodata.lightSensorTaskDescription,"a"
 926              		.align	2
 927              		.set	.LANCHOR1,. + 0
 930              	lightSensorTaskDescription:
 931 0000 00000000 		.word	.LC5
 932 0004 00000000 		.space	4
 933 0008 00000000 		.word	lightSensorTaskControlBlock
 934 000c 5C000000 		.word	92
 935 0010 00000000 		.word	lightSensorTaskBuffer
 936 0014 00020000 		.word	512
 937 0018 18000000 		.word	24
 938 001c 00000000 		.space	8
 938      00000000 
 939              		.text
 940              	.Letext0:
 941              		.file 2 "/usr/include/newlib/machine/_default_types.h"
 942              		.file 3 "/usr/lib/gcc/arm-none-eabi/10.3.1/include/stddef.h"
 943              		.file 4 "/usr/include/newlib/sys/_types.h"
 944              		.file 5 "/usr/include/newlib/sys/reent.h"
 945              		.file 6 "/usr/include/newlib/sys/lock.h"
 946              		.file 7 "/usr/include/newlib/sys/_stdint.h"
 947              		.file 8 "/usr/include/newlib/sys/types.h"
 948              		.file 9 "Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS_V2/cmsis_os2.h"
 949              		.file 10 "app/core/actor/../config/events_list/events_list.h"
 950              		.file 11 "app/core/actor/../config/actors_list/actors_list.h"
 951              		.file 12 "app/core/actor/actor.h"
 952              		.file 13 "Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h"
 953              		.file 14 "Middlewares/Third_Party/FreeRTOS/Source/include/FreeRTOS.h"
 954              		.file 15 "app/tasks/light_sensor/light_sensor.h"
 955              		.file 16 "app/drivers/opt3001/opt3001.h"
 956              		.file 17 "/usr/include/newlib/stdio.h"
ARM GAS  /tmp/cc7waldT.s 			page 27


DEFINED SYMBOLS
                            *ABS*:0000000000000000 light_sensor.c
     /tmp/cc7waldT.s:18     .rodata.handleTurnedOff.str1.4:0000000000000000 $d
     /tmp/cc7waldT.s:31     .text.handleTurnedOff:0000000000000000 $t
     /tmp/cc7waldT.s:38     .text.handleTurnedOff:0000000000000000 handleTurnedOff
     /tmp/cc7waldT.s:225    .text.handleTurnedOff:00000000000000c0 $d
     /tmp/cc7waldT.s:234    .rodata.handleContinuousMeasure.str1.4:0000000000000000 $d
     /tmp/cc7waldT.s:238    .text.handleContinuousMeasure:0000000000000000 $t
     /tmp/cc7waldT.s:244    .text.handleContinuousMeasure:0000000000000000 handleContinuousMeasure
     /tmp/cc7waldT.s:415    .text.handleContinuousMeasure:00000000000000a8 $d
     /tmp/cc7waldT.s:424    .text.handleOutOfRange:0000000000000000 $t
     /tmp/cc7waldT.s:430    .text.handleOutOfRange:0000000000000000 handleOutOfRange
     /tmp/cc7waldT.s:601    .text.handleOutOfRange:00000000000000a4 $d
     /tmp/cc7waldT.s:610    .text.handleLightSensorFSM:0000000000000000 $t
     /tmp/cc7waldT.s:616    .text.handleLightSensorFSM:0000000000000000 handleLightSensorFSM
     /tmp/cc7waldT.s:672    .rodata.LIGHT_SENS_Task.str1.4:0000000000000000 $d
     /tmp/cc7waldT.s:685    .text.LIGHT_SENS_Task:0000000000000000 $t
     /tmp/cc7waldT.s:692    .text.LIGHT_SENS_Task:0000000000000000 LIGHT_SENS_Task
     /tmp/cc7waldT.s:807    .text.LIGHT_SENS_Task:0000000000000080 $d
     /tmp/cc7waldT.s:821    .rodata.LIGHT_SENS_TaskInit.str1.4:0000000000000000 $d
     /tmp/cc7waldT.s:825    .text.LIGHT_SENS_TaskInit:0000000000000000 $t
     /tmp/cc7waldT.s:832    .text.LIGHT_SENS_TaskInit:0000000000000000 LIGHT_SENS_TaskInit
     /tmp/cc7waldT.s:887    .text.LIGHT_SENS_TaskInit:0000000000000038 $d
     /tmp/cc7waldT.s:930    .rodata.lightSensorTaskDescription:0000000000000000 lightSensorTaskDescription
     /tmp/cc7waldT.s:908    .bss.lightSensorTaskControlBlock:0000000000000000 lightSensorTaskControlBlock
     /tmp/cc7waldT.s:902    .bss.lightSensorTaskBuffer:0000000000000000 lightSensorTaskBuffer
     /tmp/cc7waldT.s:915    .data.LIGHT_SENS_Actor:0000000000000000 LIGHT_SENS_Actor
     /tmp/cc7waldT.s:899    .bss.lightSensorTaskBuffer:0000000000000000 $d
     /tmp/cc7waldT.s:905    .bss.lightSensorTaskControlBlock:0000000000000000 $d
     /tmp/cc7waldT.s:911    .data.LIGHT_SENS_Actor:0000000000000000 $d
     /tmp/cc7waldT.s:926    .rodata.lightSensorTaskDescription:0000000000000000 $d

UNDEFINED SYMBOLS
OPT3001_WriteConfig
osDelay
OPT3001_ReadResultRawLux
OPT3001_RawToMilliLux
fprintf
OPT3001_WriteHighLimit
_impure_ptr
OPT3001_WriteLowLimit
osMessageQueueGet
osMessageQueuePut
ACTORS_LIST_SystemRegistry
osMessageQueueNew
osThreadNew
