ARM GAS  /tmp/ccOYh7Oz.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"light_sensor.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.rodata.handleInit.str1.4,"aMS",%progbits,1
  18              		.align	2
  19              	.LC0:
  20 0000 4F505433 		.ascii	"OPT3001 ID: %x\012\000"
  20      30303120 
  20      49443A20 
  20      25780A00 
  21              		.align	2
  22              	.LC1:
  23 0010 4C696768 		.ascii	"Light sensor %ul initialized\012\000"
  23      74207365 
  23      6E736F72 
  23      2025756C 
  23      20696E69 
  24 002e 0000     		.align	2
  25              	.LC2:
  26 0030 4C494748 		.ascii	"LIGHT_SENS_TURNED_OFF_STATE\000"
  26      545F5345 
  26      4E535F54 
  26      55524E45 
  26      445F4F46 
  27              		.align	2
  28              	.LC3:
  29 004c 256C753A 		.ascii	"%lu: %s\012\000"
  29      2025730A 
  29      00
  30              		.section	.text.handleInit,"ax",%progbits
  31              		.align	1
  32              		.arch armv7e-m
  33              		.syntax unified
  34              		.thumb
  35              		.thumb_func
  36              		.fpu fpv4-sp-d16
  38              	handleInit:
  39              	.LVL0:
  40              	.LFB142:
  41              		.file 1 "app/tasks/light_sensor/light_sensor.c"
   1:app/tasks/light_sensor/light_sensor.c **** /*!
   2:app/tasks/light_sensor/light_sensor.c ****  * @file light_sensor.c
   3:app/tasks/light_sensor/light_sensor.c ****  * @brief implementation of light_sensor
   4:app/tasks/light_sensor/light_sensor.c ****  *
ARM GAS  /tmp/ccOYh7Oz.s 			page 2


   5:app/tasks/light_sensor/light_sensor.c ****  * Detailed description of the implementation file.
   6:app/tasks/light_sensor/light_sensor.c ****  *
   7:app/tasks/light_sensor/light_sensor.c ****  * @date 28/07/2024
   8:app/tasks/light_sensor/light_sensor.c ****  * @author artempolisskyi
   9:app/tasks/light_sensor/light_sensor.c ****  */
  10:app/tasks/light_sensor/light_sensor.c **** 
  11:app/tasks/light_sensor/light_sensor.c **** #include "light_sensor.h"
  12:app/tasks/light_sensor/light_sensor.c **** 
  13:app/tasks/light_sensor/light_sensor.c **** static osStatus_t handleLightSensorFSM(LIGHT_SENS_Actor_t *this, message_t *message);
  14:app/tasks/light_sensor/light_sensor.c **** /** states handlers */
  15:app/tasks/light_sensor/light_sensor.c **** static osStatus_t handleInit(LIGHT_SENS_Actor_t *this, message_t *message);
  16:app/tasks/light_sensor/light_sensor.c **** static osStatus_t handleTurnedOff(LIGHT_SENS_Actor_t *this, message_t *message);
  17:app/tasks/light_sensor/light_sensor.c **** static osStatus_t handleContinuousMeasure(LIGHT_SENS_Actor_t *this, message_t *message);
  18:app/tasks/light_sensor/light_sensor.c **** static osStatus_t handleOutOfRange(LIGHT_SENS_Actor_t *this, message_t *message);
  19:app/tasks/light_sensor/light_sensor.c **** 
  20:app/tasks/light_sensor/light_sensor.c **** extern actor_t* ACTORS_LIST_SystemRegistry[MAX_ACTORS];
  21:app/tasks/light_sensor/light_sensor.c **** 
  22:app/tasks/light_sensor/light_sensor.c **** /**
  23:app/tasks/light_sensor/light_sensor.c ****  * @brief Light Sensor actor struct
  24:app/tasks/light_sensor/light_sensor.c ****  * @extends actor_t
  25:app/tasks/light_sensor/light_sensor.c ****  */
  26:app/tasks/light_sensor/light_sensor.c **** LIGHT_SENS_Actor_t LIGHT_SENS_Actor = {
  27:app/tasks/light_sensor/light_sensor.c ****         .super = {
  28:app/tasks/light_sensor/light_sensor.c ****                 .actorId = LIGHT_SENSOR_ACTOR_ID,
  29:app/tasks/light_sensor/light_sensor.c ****                 .messageHandler = (messageHandler_t) handleLightSensorFSM,
  30:app/tasks/light_sensor/light_sensor.c ****                 .osMessageQueueId = NULL,
  31:app/tasks/light_sensor/light_sensor.c ****                 .osThreadId = NULL,
  32:app/tasks/light_sensor/light_sensor.c ****         },
  33:app/tasks/light_sensor/light_sensor.c ****         .state = LIGHT_SENS_NO_STATE,
  34:app/tasks/light_sensor/light_sensor.c ****         .rawLux = 0x0000,                       ///< raw light value
  35:app/tasks/light_sensor/light_sensor.c ****         .highLimit = OPT3001_CONFIG_LIMIT_MAX   ///< high threshold limit for light sensor
  36:app/tasks/light_sensor/light_sensor.c **** };
  37:app/tasks/light_sensor/light_sensor.c **** 
  38:app/tasks/light_sensor/light_sensor.c **** // task description required for static task creation
  39:app/tasks/light_sensor/light_sensor.c **** uint32_t lightSensorTaskBuffer[DEFAULT_TASK_STACK_SIZE_WORDS];
  40:app/tasks/light_sensor/light_sensor.c **** StaticTask_t lightSensorTaskControlBlock;
  41:app/tasks/light_sensor/light_sensor.c **** const osThreadAttr_t lightSensorTaskDescription = {
  42:app/tasks/light_sensor/light_sensor.c ****         .name = "lightSensorTask",
  43:app/tasks/light_sensor/light_sensor.c ****         .cb_mem = &lightSensorTaskControlBlock,
  44:app/tasks/light_sensor/light_sensor.c ****         .cb_size = sizeof(lightSensorTaskControlBlock),
  45:app/tasks/light_sensor/light_sensor.c ****         .stack_mem = &lightSensorTaskBuffer[0],
  46:app/tasks/light_sensor/light_sensor.c ****         .stack_size = sizeof(lightSensorTaskBuffer),
  47:app/tasks/light_sensor/light_sensor.c ****         .priority = (osPriority_t) osPriorityNormal,
  48:app/tasks/light_sensor/light_sensor.c **** };
  49:app/tasks/light_sensor/light_sensor.c **** 
  50:app/tasks/light_sensor/light_sensor.c **** /**
  51:app/tasks/light_sensor/light_sensor.c ****  * @brief Initializes the Light Sensor task.
  52:app/tasks/light_sensor/light_sensor.c ****  * @return {actor_t*} - pointer to the actor base struct
  53:app/tasks/light_sensor/light_sensor.c ****  */
  54:app/tasks/light_sensor/light_sensor.c **** actor_t* LIGHT_SENS_TaskInit(void) {
  55:app/tasks/light_sensor/light_sensor.c ****   LIGHT_SENS_Actor.super.osMessageQueueId = osMessageQueueNew(DEFAULT_QUEUE_SIZE, DEFAULT_QUEUE_MES
  56:app/tasks/light_sensor/light_sensor.c ****           .name = "lightSensorQueue"
  57:app/tasks/light_sensor/light_sensor.c ****   });
  58:app/tasks/light_sensor/light_sensor.c ****   LIGHT_SENS_Actor.super.osThreadId = osThreadNew(LIGHT_SENS_Task, NULL, &lightSensorTaskDescriptio
  59:app/tasks/light_sensor/light_sensor.c **** 
  60:app/tasks/light_sensor/light_sensor.c ****   return &LIGHT_SENS_Actor.super;
  61:app/tasks/light_sensor/light_sensor.c **** }
ARM GAS  /tmp/ccOYh7Oz.s 			page 3


  62:app/tasks/light_sensor/light_sensor.c **** 
  63:app/tasks/light_sensor/light_sensor.c **** /**
  64:app/tasks/light_sensor/light_sensor.c ****  * @brief Light Sensor task
  65:app/tasks/light_sensor/light_sensor.c ****  * Waits for message from the queue and proceed it in FSM
  66:app/tasks/light_sensor/light_sensor.c ****  * Enters ERROR state if message handling failed
  67:app/tasks/light_sensor/light_sensor.c ****  */
  68:app/tasks/light_sensor/light_sensor.c **** void LIGHT_SENS_Task(void *argument) {
  69:app/tasks/light_sensor/light_sensor.c ****   (void) argument; // Avoid unused parameter warning
  70:app/tasks/light_sensor/light_sensor.c ****   message_t msg;
  71:app/tasks/light_sensor/light_sensor.c **** 
  72:app/tasks/light_sensor/light_sensor.c ****   fprintf(stdout, "Task %s started\n", lightSensorTaskDescription.name);
  73:app/tasks/light_sensor/light_sensor.c **** 
  74:app/tasks/light_sensor/light_sensor.c ****   for (;;) {
  75:app/tasks/light_sensor/light_sensor.c ****     // Wait for messages from the queue
  76:app/tasks/light_sensor/light_sensor.c ****     if (osMessageQueueGet(LIGHT_SENS_Actor.super.osMessageQueueId, &msg, NULL, osWaitForever) == os
  77:app/tasks/light_sensor/light_sensor.c ****       osStatus_t handleMessageStatus = LIGHT_SENS_Actor.super.messageHandler((actor_t *) &LIGHT_SEN
  78:app/tasks/light_sensor/light_sensor.c **** 
  79:app/tasks/light_sensor/light_sensor.c ****       if (handleMessageStatus != osOK) {
  80:app/tasks/light_sensor/light_sensor.c ****         fprintf(stderr,  "%s: Error handling event %u in state %ul\n", lightSensorTaskDescription.n
  81:app/tasks/light_sensor/light_sensor.c ****         osMessageQueueId_t evManagerQueue = ACTORS_LIST_SystemRegistry[EV_MANAGER_ACTOR_ID]->osMess
  82:app/tasks/light_sensor/light_sensor.c ****         osMessageQueuePut(evManagerQueue, &(message_t){GLOBAL_ERROR, .payload.value = LIGHT_SENSOR_
  83:app/tasks/light_sensor/light_sensor.c ****         TO_STATE(&LIGHT_SENS_Actor, LIGHT_SENS_STATE_ERROR);
  84:app/tasks/light_sensor/light_sensor.c ****       }
  85:app/tasks/light_sensor/light_sensor.c ****     }
  86:app/tasks/light_sensor/light_sensor.c ****   }
  87:app/tasks/light_sensor/light_sensor.c **** }
  88:app/tasks/light_sensor/light_sensor.c **** 
  89:app/tasks/light_sensor/light_sensor.c **** static osStatus_t handleLightSensorFSM(LIGHT_SENS_Actor_t *this, message_t *message) {
  90:app/tasks/light_sensor/light_sensor.c ****   switch (this->state) {
  91:app/tasks/light_sensor/light_sensor.c ****     case LIGHT_SENS_NO_STATE:
  92:app/tasks/light_sensor/light_sensor.c ****       return handleInit(this, message);
  93:app/tasks/light_sensor/light_sensor.c ****     case LIGHT_SENS_TURNED_OFF_STATE:
  94:app/tasks/light_sensor/light_sensor.c ****       return handleTurnedOff(this, message);
  95:app/tasks/light_sensor/light_sensor.c ****     case LIGHT_SENS_CONTINUOUS_MEASURE_STATE:
  96:app/tasks/light_sensor/light_sensor.c ****       return handleContinuousMeasure(this, message);
  97:app/tasks/light_sensor/light_sensor.c ****     case LIGHT_SENS_OUT_OF_RANGE_STATE:
  98:app/tasks/light_sensor/light_sensor.c ****       return handleOutOfRange(this, message);
  99:app/tasks/light_sensor/light_sensor.c ****   }
 100:app/tasks/light_sensor/light_sensor.c **** 
 101:app/tasks/light_sensor/light_sensor.c ****   return osOK;
 102:app/tasks/light_sensor/light_sensor.c **** }
 103:app/tasks/light_sensor/light_sensor.c **** 
 104:app/tasks/light_sensor/light_sensor.c **** /**
 105:app/tasks/light_sensor/light_sensor.c ****  * @brief Initializes the sensor, configures I2C, writes default settings, and transitions to the T
 106:app/tasks/light_sensor/light_sensor.c ****  */
 107:app/tasks/light_sensor/light_sensor.c **** static osStatus_t handleInit(LIGHT_SENS_Actor_t *this, message_t *message) {
  42              		.loc 1 107 76 view -0
  43              		.cfi_startproc
  44              		@ args = 0, pretend = 0, frame = 16
  45              		@ frame_needed = 0, uses_anonymous_args = 0
  46              		.loc 1 107 76 is_stmt 0 view .LVU1
  47 0000 F0B5     		push	{r4, r5, r6, r7, lr}
  48              	.LCFI0:
  49              		.cfi_def_cfa_offset 20
  50              		.cfi_offset 4, -20
  51              		.cfi_offset 5, -16
  52              		.cfi_offset 6, -12
ARM GAS  /tmp/ccOYh7Oz.s 			page 4


  53              		.cfi_offset 7, -8
  54              		.cfi_offset 14, -4
  55 0002 85B0     		sub	sp, sp, #20
  56              	.LCFI1:
  57              		.cfi_def_cfa_offset 40
 108:app/tasks/light_sensor/light_sensor.c ****   if (GLOBAL_CMD_INITIALIZE == message->event) {
  58              		.loc 1 108 3 is_stmt 1 view .LVU2
  59              		.loc 1 108 39 is_stmt 0 view .LVU3
  60 0004 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
  61              		.loc 1 108 6 view .LVU4
  62 0006 C52B     		cmp	r3, #197
  63 0008 03D0     		beq	.L6
 109:app/tasks/light_sensor/light_sensor.c ****     // init the driver (io)
 110:app/tasks/light_sensor/light_sensor.c ****     osStatus_t ioStatus = OPT3001_InitIO(LIGHT_SENS_I2C_ADDRESS, I2C_WriteReg, I2C_ReadReg);
 111:app/tasks/light_sensor/light_sensor.c **** 
 112:app/tasks/light_sensor/light_sensor.c ****     if (ioStatus != osOK) return osError;
 113:app/tasks/light_sensor/light_sensor.c **** 
 114:app/tasks/light_sensor/light_sensor.c ****     // test read device id
 115:app/tasks/light_sensor/light_sensor.c ****     uint16_t opt3001Id = 0x0000;
 116:app/tasks/light_sensor/light_sensor.c ****     ioStatus = OPT3001_ReadDeviceID(&opt3001Id);
 117:app/tasks/light_sensor/light_sensor.c **** 
 118:app/tasks/light_sensor/light_sensor.c ****     if (ioStatus != osOK) return osError;
 119:app/tasks/light_sensor/light_sensor.c **** 
 120:app/tasks/light_sensor/light_sensor.c ****     #ifdef DEBUG
 121:app/tasks/light_sensor/light_sensor.c ****       fprintf(stdout, "OPT3001 ID: %x\n", opt3001Id);
 122:app/tasks/light_sensor/light_sensor.c ****     #endif
 123:app/tasks/light_sensor/light_sensor.c **** 
 124:app/tasks/light_sensor/light_sensor.c ****     // write default config (OPT3001 remains in turned off state)
 125:app/tasks/light_sensor/light_sensor.c ****     uint16_t opt3001Config = OPT3001_CONFIG_DEFAULT;
 126:app/tasks/light_sensor/light_sensor.c **** 
 127:app/tasks/light_sensor/light_sensor.c ****     ioStatus = OPT3001_WriteConfig(opt3001Config);
 128:app/tasks/light_sensor/light_sensor.c **** 
 129:app/tasks/light_sensor/light_sensor.c ****     if (ioStatus != osOK) return osError;
 130:app/tasks/light_sensor/light_sensor.c **** 
 131:app/tasks/light_sensor/light_sensor.c ****     // TODO read it from NOR flash (implement settings manager)
 132:app/tasks/light_sensor/light_sensor.c ****     // set high limit and minimal low limit so that the sensor never triggers the interrupt on low 
 133:app/tasks/light_sensor/light_sensor.c ****     ioStatus = OPT3001_WriteHighLimit(this->highLimit);
 134:app/tasks/light_sensor/light_sensor.c ****     if (ioStatus != osOK) return osError;
 135:app/tasks/light_sensor/light_sensor.c **** 
 136:app/tasks/light_sensor/light_sensor.c ****     ioStatus = OPT3001_WriteLowLimit(OPT3001_CONFIG_LIMIT_MIN);
 137:app/tasks/light_sensor/light_sensor.c ****     if (ioStatus != osOK) return osError;
 138:app/tasks/light_sensor/light_sensor.c **** 
 139:app/tasks/light_sensor/light_sensor.c ****     // publish to event manager that the sensor is initialized
 140:app/tasks/light_sensor/light_sensor.c ****     osMessageQueueId_t evManagerQueue = ACTORS_LIST_SystemRegistry[EV_MANAGER_ACTOR_ID]->osMessageQ
 141:app/tasks/light_sensor/light_sensor.c ****     osMessageQueuePut(evManagerQueue, &(message_t){GLOBAL_INITIALIZE_SUCCESS, .payload.value = LIGH
 142:app/tasks/light_sensor/light_sensor.c **** 
 143:app/tasks/light_sensor/light_sensor.c ****     fprintf(stdout, "Light sensor %ul initialized\n", LIGHT_SENSOR_ACTOR_ID);
 144:app/tasks/light_sensor/light_sensor.c ****     TO_STATE(this, LIGHT_SENS_TURNED_OFF_STATE);
 145:app/tasks/light_sensor/light_sensor.c ****   }
 146:app/tasks/light_sensor/light_sensor.c **** 
 147:app/tasks/light_sensor/light_sensor.c ****   return osOK;
  64              		.loc 1 147 10 view .LVU5
  65 000a 0024     		movs	r4, #0
  66              	.LVL1:
  67              	.L1:
 148:app/tasks/light_sensor/light_sensor.c **** }
  68              		.loc 1 148 1 view .LVU6
ARM GAS  /tmp/ccOYh7Oz.s 			page 5


  69 000c 2046     		mov	r0, r4
  70 000e 05B0     		add	sp, sp, #20
  71              	.LCFI2:
  72              		.cfi_remember_state
  73              		.cfi_def_cfa_offset 20
  74              		@ sp needed
  75 0010 F0BD     		pop	{r4, r5, r6, r7, pc}
  76              	.LVL2:
  77              	.L6:
  78              	.LCFI3:
  79              		.cfi_restore_state
  80              		.loc 1 148 1 view .LVU7
  81 0012 0546     		mov	r5, r0
  82              	.LBB2:
 110:app/tasks/light_sensor/light_sensor.c **** 
  83              		.loc 1 110 5 is_stmt 1 view .LVU8
 110:app/tasks/light_sensor/light_sensor.c **** 
  84              		.loc 1 110 27 is_stmt 0 view .LVU9
  85 0014 244A     		ldr	r2, .L7
  86 0016 2549     		ldr	r1, .L7+4
  87              	.LVL3:
 110:app/tasks/light_sensor/light_sensor.c **** 
  88              		.loc 1 110 27 view .LVU10
  89 0018 8A20     		movs	r0, #138
  90              	.LVL4:
 110:app/tasks/light_sensor/light_sensor.c **** 
  91              		.loc 1 110 27 view .LVU11
  92 001a FFF7FEFF 		bl	OPT3001_InitIO
  93              	.LVL5:
 112:app/tasks/light_sensor/light_sensor.c **** 
  94              		.loc 1 112 5 is_stmt 1 view .LVU12
 112:app/tasks/light_sensor/light_sensor.c **** 
  95              		.loc 1 112 8 is_stmt 0 view .LVU13
  96 001e 0028     		cmp	r0, #0
  97 0020 3ED1     		bne	.L3
 115:app/tasks/light_sensor/light_sensor.c ****     ioStatus = OPT3001_ReadDeviceID(&opt3001Id);
  98              		.loc 1 115 5 is_stmt 1 view .LVU14
 115:app/tasks/light_sensor/light_sensor.c ****     ioStatus = OPT3001_ReadDeviceID(&opt3001Id);
  99              		.loc 1 115 14 is_stmt 0 view .LVU15
 100 0022 0023     		movs	r3, #0
 101 0024 ADF80230 		strh	r3, [sp, #2]	@ movhi
 116:app/tasks/light_sensor/light_sensor.c **** 
 102              		.loc 1 116 5 is_stmt 1 view .LVU16
 116:app/tasks/light_sensor/light_sensor.c **** 
 103              		.loc 1 116 16 is_stmt 0 view .LVU17
 104 0028 0DF10200 		add	r0, sp, #2
 105              	.LVL6:
 116:app/tasks/light_sensor/light_sensor.c **** 
 106              		.loc 1 116 16 view .LVU18
 107 002c FFF7FEFF 		bl	OPT3001_ReadDeviceID
 108              	.LVL7:
 118:app/tasks/light_sensor/light_sensor.c **** 
 109              		.loc 1 118 5 is_stmt 1 view .LVU19
 118:app/tasks/light_sensor/light_sensor.c **** 
 110              		.loc 1 118 8 is_stmt 0 view .LVU20
 111 0030 0028     		cmp	r0, #0
 112 0032 35D1     		bne	.L3
ARM GAS  /tmp/ccOYh7Oz.s 			page 6


 121:app/tasks/light_sensor/light_sensor.c ****     #endif
 113              		.loc 1 121 7 is_stmt 1 view .LVU21
 121:app/tasks/light_sensor/light_sensor.c ****     #endif
 114              		.loc 1 121 15 is_stmt 0 view .LVU22
 115 0034 1E4B     		ldr	r3, .L7+8
 116 0036 1B68     		ldr	r3, [r3]
 121:app/tasks/light_sensor/light_sensor.c ****     #endif
 117              		.loc 1 121 7 view .LVU23
 118 0038 BDF80220 		ldrh	r2, [sp, #2]
 119 003c 1D49     		ldr	r1, .L7+12
 120 003e 9868     		ldr	r0, [r3, #8]
 121              	.LVL8:
 121:app/tasks/light_sensor/light_sensor.c ****     #endif
 122              		.loc 1 121 7 view .LVU24
 123 0040 FFF7FEFF 		bl	fprintf
 124              	.LVL9:
 125:app/tasks/light_sensor/light_sensor.c **** 
 125              		.loc 1 125 5 is_stmt 1 view .LVU25
 127:app/tasks/light_sensor/light_sensor.c **** 
 126              		.loc 1 127 5 view .LVU26
 127:app/tasks/light_sensor/light_sensor.c **** 
 127              		.loc 1 127 16 is_stmt 0 view .LVU27
 128 0044 4CF61000 		movw	r0, #51216
 129 0048 FFF7FEFF 		bl	OPT3001_WriteConfig
 130              	.LVL10:
 129:app/tasks/light_sensor/light_sensor.c **** 
 131              		.loc 1 129 5 is_stmt 1 view .LVU28
 129:app/tasks/light_sensor/light_sensor.c **** 
 132              		.loc 1 129 8 is_stmt 0 view .LVU29
 133 004c 40BB     		cbnz	r0, .L3
 133:app/tasks/light_sensor/light_sensor.c ****     if (ioStatus != osOK) return osError;
 134              		.loc 1 133 5 is_stmt 1 view .LVU30
 133:app/tasks/light_sensor/light_sensor.c ****     if (ioStatus != osOK) return osError;
 135              		.loc 1 133 16 is_stmt 0 view .LVU31
 136 004e A88A     		ldrh	r0, [r5, #20]
 137              	.LVL11:
 133:app/tasks/light_sensor/light_sensor.c ****     if (ioStatus != osOK) return osError;
 138              		.loc 1 133 16 view .LVU32
 139 0050 FFF7FEFF 		bl	OPT3001_WriteHighLimit
 140              	.LVL12:
 134:app/tasks/light_sensor/light_sensor.c **** 
 141              		.loc 1 134 5 is_stmt 1 view .LVU33
 134:app/tasks/light_sensor/light_sensor.c **** 
 142              		.loc 1 134 8 is_stmt 0 view .LVU34
 143 0054 20BB     		cbnz	r0, .L3
 136:app/tasks/light_sensor/light_sensor.c ****     if (ioStatus != osOK) return osError;
 144              		.loc 1 136 5 is_stmt 1 view .LVU35
 136:app/tasks/light_sensor/light_sensor.c ****     if (ioStatus != osOK) return osError;
 145              		.loc 1 136 16 is_stmt 0 view .LVU36
 146 0056 FFF7FEFF 		bl	OPT3001_WriteLowLimit
 147              	.LVL13:
 137:app/tasks/light_sensor/light_sensor.c **** 
 148              		.loc 1 137 5 is_stmt 1 view .LVU37
 137:app/tasks/light_sensor/light_sensor.c **** 
 149              		.loc 1 137 8 is_stmt 0 view .LVU38
 150 005a 0446     		mov	r4, r0
 151 005c 00BB     		cbnz	r0, .L3
ARM GAS  /tmp/ccOYh7Oz.s 			page 7


 140:app/tasks/light_sensor/light_sensor.c ****     osMessageQueuePut(evManagerQueue, &(message_t){GLOBAL_INITIALIZE_SUCCESS, .payload.value = LIGH
 152              		.loc 1 140 5 is_stmt 1 view .LVU39
 140:app/tasks/light_sensor/light_sensor.c ****     osMessageQueuePut(evManagerQueue, &(message_t){GLOBAL_INITIALIZE_SUCCESS, .payload.value = LIGH
 153              		.loc 1 140 67 is_stmt 0 view .LVU40
 154 005e 164B     		ldr	r3, .L7+16
 155 0060 5B68     		ldr	r3, [r3, #4]
 140:app/tasks/light_sensor/light_sensor.c ****     osMessageQueuePut(evManagerQueue, &(message_t){GLOBAL_INITIALIZE_SUCCESS, .payload.value = LIGH
 156              		.loc 1 140 24 view .LVU41
 157 0062 9868     		ldr	r0, [r3, #8]
 158              	.LVL14:
 141:app/tasks/light_sensor/light_sensor.c **** 
 159              		.loc 1 141 5 is_stmt 1 view .LVU42
 141:app/tasks/light_sensor/light_sensor.c **** 
 160              		.loc 1 141 51 is_stmt 0 view .LVU43
 161 0064 0022     		movs	r2, #0
 162 0066 0192     		str	r2, [sp, #4]
 163 0068 0292     		str	r2, [sp, #8]
 164 006a 0392     		str	r2, [sp, #12]
 165 006c C623     		movs	r3, #198
 166 006e 8DF80430 		strb	r3, [sp, #4]
 167 0072 0727     		movs	r7, #7
 168 0074 0297     		str	r7, [sp, #8]
 141:app/tasks/light_sensor/light_sensor.c **** 
 169              		.loc 1 141 5 view .LVU44
 170 0076 1346     		mov	r3, r2
 171 0078 01A9     		add	r1, sp, #4
 172 007a FFF7FEFF 		bl	osMessageQueuePut
 173              	.LVL15:
 143:app/tasks/light_sensor/light_sensor.c ****     TO_STATE(this, LIGHT_SENS_TURNED_OFF_STATE);
 174              		.loc 1 143 5 is_stmt 1 view .LVU45
 143:app/tasks/light_sensor/light_sensor.c ****     TO_STATE(this, LIGHT_SENS_TURNED_OFF_STATE);
 175              		.loc 1 143 13 is_stmt 0 view .LVU46
 176 007e 0C4E     		ldr	r6, .L7+8
 177 0080 3368     		ldr	r3, [r6]
 143:app/tasks/light_sensor/light_sensor.c ****     TO_STATE(this, LIGHT_SENS_TURNED_OFF_STATE);
 178              		.loc 1 143 5 view .LVU47
 179 0082 3A46     		mov	r2, r7
 180 0084 0D49     		ldr	r1, .L7+20
 181 0086 9868     		ldr	r0, [r3, #8]
 182 0088 FFF7FEFF 		bl	fprintf
 183              	.LVL16:
 144:app/tasks/light_sensor/light_sensor.c ****   }
 184              		.loc 1 144 5 is_stmt 1 view .LVU48
 144:app/tasks/light_sensor/light_sensor.c ****   }
 185              		.loc 1 144 5 view .LVU49
 186 008c 0123     		movs	r3, #1
 187 008e 2B74     		strb	r3, [r5, #16]
 144:app/tasks/light_sensor/light_sensor.c ****   }
 188              		.loc 1 144 5 view .LVU50
 189 0090 3068     		ldr	r0, [r6]
 190 0092 0B4B     		ldr	r3, .L7+24
 191 0094 2A68     		ldr	r2, [r5]
 192 0096 0B49     		ldr	r1, .L7+28
 193 0098 8068     		ldr	r0, [r0, #8]
 194 009a FFF7FEFF 		bl	fprintf
 195              	.LVL17:
 144:app/tasks/light_sensor/light_sensor.c ****   }
ARM GAS  /tmp/ccOYh7Oz.s 			page 8


 196              		.loc 1 144 5 view .LVU51
 144:app/tasks/light_sensor/light_sensor.c ****   }
 197              		.loc 1 144 48 view .LVU52
 198 009e B5E7     		b	.L1
 199              	.LVL18:
 200              	.L3:
 112:app/tasks/light_sensor/light_sensor.c **** 
 201              		.loc 1 112 34 is_stmt 0 discriminator 2 view .LVU53
 202 00a0 4FF0FF34 		mov	r4, #-1
 203 00a4 B2E7     		b	.L1
 204              	.L8:
 205 00a6 00BF     		.align	2
 206              	.L7:
 207 00a8 00000000 		.word	I2C_ReadReg
 208 00ac 00000000 		.word	I2C_WriteReg
 209 00b0 00000000 		.word	_impure_ptr
 210 00b4 00000000 		.word	.LC0
 211 00b8 00000000 		.word	ACTORS_LIST_SystemRegistry
 212 00bc 10000000 		.word	.LC1
 213 00c0 30000000 		.word	.LC2
 214 00c4 4C000000 		.word	.LC3
 215              	.LBE2:
 216              		.cfi_endproc
 217              	.LFE142:
 219              		.section	.rodata.handleOutOfRange.str1.4,"aMS",%progbits,1
 220              		.align	2
 221              	.LC4:
 222 0000 4C494748 		.ascii	"LIGHT_SENS_OUT_OF_RANGE_STATE\000"
 222      545F5345 
 222      4E535F4F 
 222      55545F4F 
 222      465F5241 
 223 001e 0000     		.align	2
 224              	.LC5:
 225 0020 4C494748 		.ascii	"LIGHT_SENS_CONTINUOUS_MEASURE_STATE\000"
 225      545F5345 
 225      4E535F43 
 225      4F4E5449 
 225      4E554F55 
 226              		.section	.text.handleOutOfRange,"ax",%progbits
 227              		.align	1
 228              		.syntax unified
 229              		.thumb
 230              		.thumb_func
 231              		.fpu fpv4-sp-d16
 233              	handleOutOfRange:
 234              	.LVL19:
 235              	.LFB145:
 149:app/tasks/light_sensor/light_sensor.c **** 
 150:app/tasks/light_sensor/light_sensor.c **** /**
 151:app/tasks/light_sensor/light_sensor.c ****  * @brief Perform single-shot measurements, set limits, or switch to continuous measurement mode.
 152:app/tasks/light_sensor/light_sensor.c ****  */
 153:app/tasks/light_sensor/light_sensor.c **** static osStatus_t handleTurnedOff(LIGHT_SENS_Actor_t *this, message_t *message) {
 154:app/tasks/light_sensor/light_sensor.c ****   osStatus_t ioStatus;
 155:app/tasks/light_sensor/light_sensor.c **** 
 156:app/tasks/light_sensor/light_sensor.c ****   switch (message->event) {
 157:app/tasks/light_sensor/light_sensor.c ****     case LIGHT_SENS_SINGLE_SHOT_READ:
ARM GAS  /tmp/ccOYh7Oz.s 			page 9


 158:app/tasks/light_sensor/light_sensor.c ****       // set single shot mode
 159:app/tasks/light_sensor/light_sensor.c ****       ioStatus = OPT3001_WriteConfig(OPT3001_CONFIG_RANGE_NUMBER_AUTO_SCALE | \
 160:app/tasks/light_sensor/light_sensor.c ****                                     OPT3001_CONFIG_CONVERSION_TIME_800_MS | \
 161:app/tasks/light_sensor/light_sensor.c ****                                     OPT3001_CONFIG_MODE_SINGLE_SHOT | \
 162:app/tasks/light_sensor/light_sensor.c ****                                     OPT3001_CONFIG_LATCH_ENABLED);
 163:app/tasks/light_sensor/light_sensor.c **** 
 164:app/tasks/light_sensor/light_sensor.c ****       if (ioStatus != osOK) return osError;
 165:app/tasks/light_sensor/light_sensor.c **** 
 166:app/tasks/light_sensor/light_sensor.c ****       // wait for the sensor to finish the measurement
 167:app/tasks/light_sensor/light_sensor.c ****       osDelay(1000); // TODO replace with 800ms
 168:app/tasks/light_sensor/light_sensor.c **** 
 169:app/tasks/light_sensor/light_sensor.c ****       // read the measured rawLux
 170:app/tasks/light_sensor/light_sensor.c ****       ioStatus = OPT3001_ReadResultRawLux(&this->rawLux);
 171:app/tasks/light_sensor/light_sensor.c **** 
 172:app/tasks/light_sensor/light_sensor.c ****       if (ioStatus != osOK) return osError;
 173:app/tasks/light_sensor/light_sensor.c **** 
 174:app/tasks/light_sensor/light_sensor.c ****       // convert rawLux to lux for debug
 175:app/tasks/light_sensor/light_sensor.c ****       fprintf(stdout, "OPT3001 milli Lux: %ld\n", OPT3001_RawToMilliLux(this->rawLux));
 176:app/tasks/light_sensor/light_sensor.c **** 
 177:app/tasks/light_sensor/light_sensor.c ****       // remains in turned off state after successful read, opt3001 turns off automatically after s
 178:app/tasks/light_sensor/light_sensor.c ****       TO_STATE(this, LIGHT_SENS_TURNED_OFF_STATE);
 179:app/tasks/light_sensor/light_sensor.c ****       return osOK;
 180:app/tasks/light_sensor/light_sensor.c ****     case GLOBAL_CMD_START_CONTINUOUS_SENSING:
 181:app/tasks/light_sensor/light_sensor.c ****       // set continuous measurements mode
 182:app/tasks/light_sensor/light_sensor.c ****       ioStatus = OPT3001_WriteConfig(OPT3001_CONFIG_RANGE_NUMBER_AUTO_SCALE | \
 183:app/tasks/light_sensor/light_sensor.c ****                                     OPT3001_CONFIG_CONVERSION_TIME_800_MS | \
 184:app/tasks/light_sensor/light_sensor.c ****                                     OPT3001_CONFIG_MODE_CONTINUOUS | \
 185:app/tasks/light_sensor/light_sensor.c ****                                     OPT3001_CONFIG_FAULT_COUNT_4 | \
 186:app/tasks/light_sensor/light_sensor.c ****                                     OPT3001_CONFIG_LATCH_ENABLED);
 187:app/tasks/light_sensor/light_sensor.c **** 
 188:app/tasks/light_sensor/light_sensor.c ****       if (ioStatus != osOK) return osError;
 189:app/tasks/light_sensor/light_sensor.c **** 
 190:app/tasks/light_sensor/light_sensor.c ****       TO_STATE(this, LIGHT_SENS_CONTINUOUS_MEASURE_STATE);
 191:app/tasks/light_sensor/light_sensor.c ****       return osOK;
 192:app/tasks/light_sensor/light_sensor.c ****     case LIGHT_SENS_SET_LIMIT:
 193:app/tasks/light_sensor/light_sensor.c ****       // set high limit from message payload
 194:app/tasks/light_sensor/light_sensor.c ****       this->highLimit = message->payload.value;
 195:app/tasks/light_sensor/light_sensor.c ****       ioStatus = OPT3001_WriteHighLimit(this->highLimit);
 196:app/tasks/light_sensor/light_sensor.c **** 
 197:app/tasks/light_sensor/light_sensor.c ****       if (ioStatus != osOK) return osError;
 198:app/tasks/light_sensor/light_sensor.c **** 
 199:app/tasks/light_sensor/light_sensor.c ****       TO_STATE(this, LIGHT_SENS_TURNED_OFF_STATE);
 200:app/tasks/light_sensor/light_sensor.c ****       return osOK;
 201:app/tasks/light_sensor/light_sensor.c ****   }
 202:app/tasks/light_sensor/light_sensor.c **** 
 203:app/tasks/light_sensor/light_sensor.c ****   return osOK;
 204:app/tasks/light_sensor/light_sensor.c **** };
 205:app/tasks/light_sensor/light_sensor.c **** 
 206:app/tasks/light_sensor/light_sensor.c **** /**
 207:app/tasks/light_sensor/light_sensor.c ****  * @brief Cron read sensor data periodically, handle limit interrupts, or turn off the sensor.
 208:app/tasks/light_sensor/light_sensor.c ****  */
 209:app/tasks/light_sensor/light_sensor.c **** static osStatus_t handleContinuousMeasure(LIGHT_SENS_Actor_t *this, message_t *message) {
 210:app/tasks/light_sensor/light_sensor.c ****   osStatus_t ioStatus;
 211:app/tasks/light_sensor/light_sensor.c **** 
 212:app/tasks/light_sensor/light_sensor.c ****   switch (message->event) {
 213:app/tasks/light_sensor/light_sensor.c ****     case GLOBAL_WAKE_N_READ:
 214:app/tasks/light_sensor/light_sensor.c ****       // read the measured rawLux on RTC cron
ARM GAS  /tmp/ccOYh7Oz.s 			page 10


 215:app/tasks/light_sensor/light_sensor.c ****       ioStatus = OPT3001_ReadResultRawLux(&this->rawLux);
 216:app/tasks/light_sensor/light_sensor.c ****       if (ioStatus != osOK) return osError;
 217:app/tasks/light_sensor/light_sensor.c **** 
 218:app/tasks/light_sensor/light_sensor.c ****       #ifdef DEBUG
 219:app/tasks/light_sensor/light_sensor.c ****         fprintf(stdout, "milliLux %lu\n", OPT3001_RawToMilliLux(this->rawLux));
 220:app/tasks/light_sensor/light_sensor.c ****       #endif
 221:app/tasks/light_sensor/light_sensor.c **** 
 222:app/tasks/light_sensor/light_sensor.c ****       // publish to event manager that lux measurement is ready with the pointer to the LIGHT actor
 223:app/tasks/light_sensor/light_sensor.c ****       osMessageQueueId_t evManagerQueue = ACTORS_LIST_SystemRegistry[EV_MANAGER_ACTOR_ID]->osMessag
 224:app/tasks/light_sensor/light_sensor.c ****       osMessageQueuePut(evManagerQueue, &(message_t){GLOBAL_LIGHT_MEASUREMENTS_READY, .payload.ptr 
 225:app/tasks/light_sensor/light_sensor.c **** 
 226:app/tasks/light_sensor/light_sensor.c ****       TO_STATE(this, LIGHT_SENS_CONTINUOUS_MEASURE_STATE);
 227:app/tasks/light_sensor/light_sensor.c ****       return osOK;
 228:app/tasks/light_sensor/light_sensor.c ****     case LIGHT_SENS_TURN_OFF:
 229:app/tasks/light_sensor/light_sensor.c ****       // turn off the sensor
 230:app/tasks/light_sensor/light_sensor.c ****       ioStatus = OPT3001_WriteConfig(OPT3001_CONFIG_DEFAULT | OPT3001_CONFIG_MODE_SHUTDOWN);
 231:app/tasks/light_sensor/light_sensor.c **** 
 232:app/tasks/light_sensor/light_sensor.c ****       if (ioStatus != osOK) return osError;
 233:app/tasks/light_sensor/light_sensor.c **** 
 234:app/tasks/light_sensor/light_sensor.c ****       TO_STATE(this, LIGHT_SENS_TURNED_OFF_STATE);
 235:app/tasks/light_sensor/light_sensor.c ****       return osOK;
 236:app/tasks/light_sensor/light_sensor.c ****     case LIGHT_SENS_LIMIT_INT:
 237:app/tasks/light_sensor/light_sensor.c ****       // read the measured rawLux overvalue
 238:app/tasks/light_sensor/light_sensor.c ****       ioStatus = OPT3001_ReadResultRawLux(&this->rawLux);
 239:app/tasks/light_sensor/light_sensor.c ****       if (ioStatus != osOK) return osError;
 240:app/tasks/light_sensor/light_sensor.c **** 
 241:app/tasks/light_sensor/light_sensor.c ****       // TODO emit to event manager LIGHT_SENS_LIMIT_INT with this->rawLux payload
 242:app/tasks/light_sensor/light_sensor.c **** 
 243:app/tasks/light_sensor/light_sensor.c ****       // swap limits to wait for lux returning below the high limit
 244:app/tasks/light_sensor/light_sensor.c ****       ioStatus = OPT3001_WriteHighLimit(OPT3001_CONFIG_LIMIT_MAX)
 245:app/tasks/light_sensor/light_sensor.c ****       | OPT3001_WriteLowLimit(this->highLimit);
 246:app/tasks/light_sensor/light_sensor.c ****       if (ioStatus != osOK) return osError;
 247:app/tasks/light_sensor/light_sensor.c **** 
 248:app/tasks/light_sensor/light_sensor.c ****       TO_STATE(this, LIGHT_SENS_OUT_OF_RANGE_STATE);
 249:app/tasks/light_sensor/light_sensor.c ****       return osOK;
 250:app/tasks/light_sensor/light_sensor.c ****   }
 251:app/tasks/light_sensor/light_sensor.c **** 
 252:app/tasks/light_sensor/light_sensor.c ****   return osOK;
 253:app/tasks/light_sensor/light_sensor.c **** }
 254:app/tasks/light_sensor/light_sensor.c **** 
 255:app/tasks/light_sensor/light_sensor.c **** /**
 256:app/tasks/light_sensor/light_sensor.c ****  * @brief Handle limit interrupts, or turn off the sensor.
 257:app/tasks/light_sensor/light_sensor.c ****  * Continuing proceed Cron read even if out of range
 258:app/tasks/light_sensor/light_sensor.c ****  */
 259:app/tasks/light_sensor/light_sensor.c **** static osStatus_t handleOutOfRange(LIGHT_SENS_Actor_t *this, message_t *message) {
 236              		.loc 1 259 82 is_stmt 1 view -0
 237              		.cfi_startproc
 238              		@ args = 0, pretend = 0, frame = 0
 239              		@ frame_needed = 0, uses_anonymous_args = 0
 240              		.loc 1 259 82 is_stmt 0 view .LVU55
 241 0000 38B5     		push	{r3, r4, r5, lr}
 242              	.LCFI4:
 243              		.cfi_def_cfa_offset 16
 244              		.cfi_offset 3, -16
 245              		.cfi_offset 4, -12
 246              		.cfi_offset 5, -8
 247              		.cfi_offset 14, -4
ARM GAS  /tmp/ccOYh7Oz.s 			page 11


 248 0002 0446     		mov	r4, r0
 260:app/tasks/light_sensor/light_sensor.c ****   osStatus_t ioStatus;
 249              		.loc 1 260 3 is_stmt 1 view .LVU56
 261:app/tasks/light_sensor/light_sensor.c **** 
 262:app/tasks/light_sensor/light_sensor.c ****   switch (message->event) {
 250              		.loc 1 262 3 view .LVU57
 251              		.loc 1 262 18 is_stmt 0 view .LVU58
 252 0004 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
 253              		.loc 1 262 3 view .LVU59
 254 0006 DD2B     		cmp	r3, #221
 255 0008 17D0     		beq	.L10
 256 000a DE2B     		cmp	r3, #222
 257 000c 26D0     		beq	.L11
 258 000e C72B     		cmp	r3, #199
 259 0010 02D0     		beq	.L19
 260 0012 0025     		movs	r5, #0
 261              	.LVL20:
 262              	.L9:
 263:app/tasks/light_sensor/light_sensor.c ****     case GLOBAL_WAKE_N_READ:
 264:app/tasks/light_sensor/light_sensor.c ****       // still read the measured rawLux on RTC cron
 265:app/tasks/light_sensor/light_sensor.c ****       ioStatus = OPT3001_ReadResultRawLux(&this->rawLux);
 266:app/tasks/light_sensor/light_sensor.c ****       if (ioStatus != osOK) return osError;
 267:app/tasks/light_sensor/light_sensor.c **** 
 268:app/tasks/light_sensor/light_sensor.c ****       TO_STATE(this, LIGHT_SENS_OUT_OF_RANGE_STATE);
 269:app/tasks/light_sensor/light_sensor.c ****       return osOK;
 270:app/tasks/light_sensor/light_sensor.c ****     case LIGHT_SENS_TURN_OFF:
 271:app/tasks/light_sensor/light_sensor.c ****       // turn off the sensor
 272:app/tasks/light_sensor/light_sensor.c ****       ioStatus = OPT3001_WriteConfig(OPT3001_CONFIG_DEFAULT | OPT3001_CONFIG_MODE_SHUTDOWN);
 273:app/tasks/light_sensor/light_sensor.c **** 
 274:app/tasks/light_sensor/light_sensor.c ****       if (ioStatus != osOK) return osError;
 275:app/tasks/light_sensor/light_sensor.c **** 
 276:app/tasks/light_sensor/light_sensor.c ****       TO_STATE(this, LIGHT_SENS_TURNED_OFF_STATE);
 277:app/tasks/light_sensor/light_sensor.c ****       return osOK;
 278:app/tasks/light_sensor/light_sensor.c ****     case LIGHT_SENS_LIMIT_INT:
 279:app/tasks/light_sensor/light_sensor.c ****       // read the measured rawLux OK overvalue
 280:app/tasks/light_sensor/light_sensor.c ****       ioStatus = OPT3001_ReadResultRawLux(&this->rawLux);
 281:app/tasks/light_sensor/light_sensor.c ****       if (ioStatus != osOK) return osError;
 282:app/tasks/light_sensor/light_sensor.c ****       // TODO emit to event manager LIGHT_SENS_LIMIT_INT with this->rawLux payload, handle that thi
 283:app/tasks/light_sensor/light_sensor.c **** 
 284:app/tasks/light_sensor/light_sensor.c ****       // swap limits back to normal
 285:app/tasks/light_sensor/light_sensor.c ****       ioStatus = OPT3001_WriteHighLimit(this->highLimit)
 286:app/tasks/light_sensor/light_sensor.c ****                | OPT3001_WriteLowLimit(OPT3001_CONFIG_LIMIT_MIN);
 287:app/tasks/light_sensor/light_sensor.c ****       if (ioStatus != osOK) return osError;
 288:app/tasks/light_sensor/light_sensor.c **** 
 289:app/tasks/light_sensor/light_sensor.c ****       // back to continuous measure state
 290:app/tasks/light_sensor/light_sensor.c ****       TO_STATE(this, LIGHT_SENS_CONTINUOUS_MEASURE_STATE);
 291:app/tasks/light_sensor/light_sensor.c ****       return osOK;
 292:app/tasks/light_sensor/light_sensor.c ****   }
 293:app/tasks/light_sensor/light_sensor.c **** 
 294:app/tasks/light_sensor/light_sensor.c ****   return osOK;
 295:app/tasks/light_sensor/light_sensor.c **** }
 263              		.loc 1 295 1 view .LVU60
 264 0014 2846     		mov	r0, r5
 265 0016 38BD     		pop	{r3, r4, r5, pc}
 266              	.LVL21:
 267              	.L19:
 265:app/tasks/light_sensor/light_sensor.c ****       if (ioStatus != osOK) return osError;
ARM GAS  /tmp/ccOYh7Oz.s 			page 12


 268              		.loc 1 265 7 is_stmt 1 view .LVU61
 265:app/tasks/light_sensor/light_sensor.c ****       if (ioStatus != osOK) return osError;
 269              		.loc 1 265 18 is_stmt 0 view .LVU62
 270 0018 1230     		adds	r0, r0, #18
 271              	.LVL22:
 265:app/tasks/light_sensor/light_sensor.c ****       if (ioStatus != osOK) return osError;
 272              		.loc 1 265 18 view .LVU63
 273 001a FFF7FEFF 		bl	OPT3001_ReadResultRawLux
 274              	.LVL23:
 266:app/tasks/light_sensor/light_sensor.c **** 
 275              		.loc 1 266 7 is_stmt 1 view .LVU64
 266:app/tasks/light_sensor/light_sensor.c **** 
 276              		.loc 1 266 10 is_stmt 0 view .LVU65
 277 001e 0546     		mov	r5, r0
 278 0020 0028     		cmp	r0, #0
 279 0022 33D1     		bne	.L14
 268:app/tasks/light_sensor/light_sensor.c ****       return osOK;
 280              		.loc 1 268 7 is_stmt 1 view .LVU66
 268:app/tasks/light_sensor/light_sensor.c ****       return osOK;
 281              		.loc 1 268 7 view .LVU67
 282 0024 0323     		movs	r3, #3
 283 0026 2374     		strb	r3, [r4, #16]
 268:app/tasks/light_sensor/light_sensor.c ****       return osOK;
 284              		.loc 1 268 7 view .LVU68
 285 0028 1E4B     		ldr	r3, .L20
 286 002a 1868     		ldr	r0, [r3]
 287              	.LVL24:
 268:app/tasks/light_sensor/light_sensor.c ****       return osOK;
 288              		.loc 1 268 7 is_stmt 0 view .LVU69
 289 002c 1E4B     		ldr	r3, .L20+4
 290 002e 2268     		ldr	r2, [r4]
 291 0030 1E49     		ldr	r1, .L20+8
 292 0032 8068     		ldr	r0, [r0, #8]
 293 0034 FFF7FEFF 		bl	fprintf
 294              	.LVL25:
 268:app/tasks/light_sensor/light_sensor.c ****       return osOK;
 295              		.loc 1 268 7 is_stmt 1 view .LVU70
 268:app/tasks/light_sensor/light_sensor.c ****       return osOK;
 296              		.loc 1 268 52 view .LVU71
 269:app/tasks/light_sensor/light_sensor.c ****     case LIGHT_SENS_TURN_OFF:
 297              		.loc 1 269 7 view .LVU72
 269:app/tasks/light_sensor/light_sensor.c ****     case LIGHT_SENS_TURN_OFF:
 298              		.loc 1 269 14 is_stmt 0 view .LVU73
 299 0038 ECE7     		b	.L9
 300              	.LVL26:
 301              	.L10:
 272:app/tasks/light_sensor/light_sensor.c **** 
 302              		.loc 1 272 7 is_stmt 1 view .LVU74
 272:app/tasks/light_sensor/light_sensor.c **** 
 303              		.loc 1 272 18 is_stmt 0 view .LVU75
 304 003a 4CF61000 		movw	r0, #51216
 305              	.LVL27:
 272:app/tasks/light_sensor/light_sensor.c **** 
 306              		.loc 1 272 18 view .LVU76
 307 003e FFF7FEFF 		bl	OPT3001_WriteConfig
 308              	.LVL28:
 274:app/tasks/light_sensor/light_sensor.c **** 
ARM GAS  /tmp/ccOYh7Oz.s 			page 13


 309              		.loc 1 274 7 is_stmt 1 view .LVU77
 274:app/tasks/light_sensor/light_sensor.c **** 
 310              		.loc 1 274 10 is_stmt 0 view .LVU78
 311 0042 0546     		mov	r5, r0
 312 0044 28BB     		cbnz	r0, .L15
 276:app/tasks/light_sensor/light_sensor.c ****       return osOK;
 313              		.loc 1 276 7 is_stmt 1 view .LVU79
 276:app/tasks/light_sensor/light_sensor.c ****       return osOK;
 314              		.loc 1 276 7 view .LVU80
 315 0046 0123     		movs	r3, #1
 316 0048 2374     		strb	r3, [r4, #16]
 276:app/tasks/light_sensor/light_sensor.c ****       return osOK;
 317              		.loc 1 276 7 view .LVU81
 318 004a 164B     		ldr	r3, .L20
 319 004c 1868     		ldr	r0, [r3]
 320              	.LVL29:
 276:app/tasks/light_sensor/light_sensor.c ****       return osOK;
 321              		.loc 1 276 7 is_stmt 0 view .LVU82
 322 004e 184B     		ldr	r3, .L20+12
 323 0050 2268     		ldr	r2, [r4]
 324 0052 1649     		ldr	r1, .L20+8
 325 0054 8068     		ldr	r0, [r0, #8]
 326 0056 FFF7FEFF 		bl	fprintf
 327              	.LVL30:
 276:app/tasks/light_sensor/light_sensor.c ****       return osOK;
 328              		.loc 1 276 7 is_stmt 1 view .LVU83
 276:app/tasks/light_sensor/light_sensor.c ****       return osOK;
 329              		.loc 1 276 50 view .LVU84
 277:app/tasks/light_sensor/light_sensor.c ****     case LIGHT_SENS_LIMIT_INT:
 330              		.loc 1 277 7 view .LVU85
 277:app/tasks/light_sensor/light_sensor.c ****     case LIGHT_SENS_LIMIT_INT:
 331              		.loc 1 277 14 is_stmt 0 view .LVU86
 332 005a DBE7     		b	.L9
 333              	.LVL31:
 334              	.L11:
 280:app/tasks/light_sensor/light_sensor.c ****       if (ioStatus != osOK) return osError;
 335              		.loc 1 280 7 is_stmt 1 view .LVU87
 280:app/tasks/light_sensor/light_sensor.c ****       if (ioStatus != osOK) return osError;
 336              		.loc 1 280 18 is_stmt 0 view .LVU88
 337 005c 1230     		adds	r0, r0, #18
 338              	.LVL32:
 280:app/tasks/light_sensor/light_sensor.c ****       if (ioStatus != osOK) return osError;
 339              		.loc 1 280 18 view .LVU89
 340 005e FFF7FEFF 		bl	OPT3001_ReadResultRawLux
 341              	.LVL33:
 281:app/tasks/light_sensor/light_sensor.c ****       // TODO emit to event manager LIGHT_SENS_LIMIT_INT with this->rawLux payload, handle that thi
 342              		.loc 1 281 7 is_stmt 1 view .LVU90
 281:app/tasks/light_sensor/light_sensor.c ****       // TODO emit to event manager LIGHT_SENS_LIMIT_INT with this->rawLux payload, handle that thi
 343              		.loc 1 281 10 is_stmt 0 view .LVU91
 344 0062 C8B9     		cbnz	r0, .L16
 285:app/tasks/light_sensor/light_sensor.c ****                | OPT3001_WriteLowLimit(OPT3001_CONFIG_LIMIT_MIN);
 345              		.loc 1 285 7 is_stmt 1 view .LVU92
 285:app/tasks/light_sensor/light_sensor.c ****                | OPT3001_WriteLowLimit(OPT3001_CONFIG_LIMIT_MIN);
 346              		.loc 1 285 18 is_stmt 0 view .LVU93
 347 0064 A08A     		ldrh	r0, [r4, #20]
 348              	.LVL34:
 285:app/tasks/light_sensor/light_sensor.c ****                | OPT3001_WriteLowLimit(OPT3001_CONFIG_LIMIT_MIN);
ARM GAS  /tmp/ccOYh7Oz.s 			page 14


 349              		.loc 1 285 18 view .LVU94
 350 0066 FFF7FEFF 		bl	OPT3001_WriteHighLimit
 351              	.LVL35:
 352 006a 0546     		mov	r5, r0
 286:app/tasks/light_sensor/light_sensor.c ****       if (ioStatus != osOK) return osError;
 353              		.loc 1 286 18 view .LVU95
 354 006c 0020     		movs	r0, #0
 355 006e FFF7FEFF 		bl	OPT3001_WriteLowLimit
 356              	.LVL36:
 287:app/tasks/light_sensor/light_sensor.c **** 
 357              		.loc 1 287 7 is_stmt 1 view .LVU96
 287:app/tasks/light_sensor/light_sensor.c **** 
 358              		.loc 1 287 10 is_stmt 0 view .LVU97
 359 0072 0543     		orrs	r5, r5, r0
 360              	.LVL37:
 287:app/tasks/light_sensor/light_sensor.c **** 
 361              		.loc 1 287 10 view .LVU98
 362 0074 13D1     		bne	.L17
 290:app/tasks/light_sensor/light_sensor.c ****       return osOK;
 363              		.loc 1 290 7 is_stmt 1 view .LVU99
 290:app/tasks/light_sensor/light_sensor.c ****       return osOK;
 364              		.loc 1 290 7 view .LVU100
 365 0076 0223     		movs	r3, #2
 366 0078 2374     		strb	r3, [r4, #16]
 290:app/tasks/light_sensor/light_sensor.c ****       return osOK;
 367              		.loc 1 290 7 view .LVU101
 368 007a 0A4B     		ldr	r3, .L20
 369 007c 1868     		ldr	r0, [r3]
 370 007e 0D4B     		ldr	r3, .L20+16
 371 0080 2268     		ldr	r2, [r4]
 372 0082 0A49     		ldr	r1, .L20+8
 373 0084 8068     		ldr	r0, [r0, #8]
 374 0086 FFF7FEFF 		bl	fprintf
 375              	.LVL38:
 290:app/tasks/light_sensor/light_sensor.c ****       return osOK;
 376              		.loc 1 290 7 view .LVU102
 290:app/tasks/light_sensor/light_sensor.c ****       return osOK;
 377              		.loc 1 290 58 view .LVU103
 291:app/tasks/light_sensor/light_sensor.c ****   }
 378              		.loc 1 291 7 view .LVU104
 291:app/tasks/light_sensor/light_sensor.c ****   }
 379              		.loc 1 291 14 is_stmt 0 view .LVU105
 380 008a C3E7     		b	.L9
 381              	.LVL39:
 382              	.L14:
 266:app/tasks/light_sensor/light_sensor.c **** 
 383              		.loc 1 266 36 view .LVU106
 384 008c 4FF0FF35 		mov	r5, #-1
 385 0090 C0E7     		b	.L9
 386              	.L15:
 274:app/tasks/light_sensor/light_sensor.c **** 
 387              		.loc 1 274 36 view .LVU107
 388 0092 4FF0FF35 		mov	r5, #-1
 389 0096 BDE7     		b	.L9
 390              	.L16:
 281:app/tasks/light_sensor/light_sensor.c ****       // TODO emit to event manager LIGHT_SENS_LIMIT_INT with this->rawLux payload, handle that thi
 391              		.loc 1 281 36 view .LVU108
ARM GAS  /tmp/ccOYh7Oz.s 			page 15


 392 0098 4FF0FF35 		mov	r5, #-1
 393 009c BAE7     		b	.L9
 394              	.LVL40:
 395              	.L17:
 287:app/tasks/light_sensor/light_sensor.c **** 
 396              		.loc 1 287 36 view .LVU109
 397 009e 4FF0FF35 		mov	r5, #-1
 398              	.LVL41:
 287:app/tasks/light_sensor/light_sensor.c **** 
 399              		.loc 1 287 36 view .LVU110
 400 00a2 B7E7     		b	.L9
 401              	.L21:
 402              		.align	2
 403              	.L20:
 404 00a4 00000000 		.word	_impure_ptr
 405 00a8 00000000 		.word	.LC4
 406 00ac 4C000000 		.word	.LC3
 407 00b0 30000000 		.word	.LC2
 408 00b4 20000000 		.word	.LC5
 409              		.cfi_endproc
 410              	.LFE145:
 412              		.section	.rodata.handleTurnedOff.str1.4,"aMS",%progbits,1
 413              		.align	2
 414              	.LC6:
 415 0000 4F505433 		.ascii	"OPT3001 milli Lux: %ld\012\000"
 415      30303120 
 415      6D696C6C 
 415      69204C75 
 415      783A2025 
 416              		.section	.text.handleTurnedOff,"ax",%progbits
 417              		.align	1
 418              		.syntax unified
 419              		.thumb
 420              		.thumb_func
 421              		.fpu fpv4-sp-d16
 423              	handleTurnedOff:
 424              	.LVL42:
 425              	.LFB143:
 153:app/tasks/light_sensor/light_sensor.c ****   osStatus_t ioStatus;
 426              		.loc 1 153 81 is_stmt 1 view -0
 427              		.cfi_startproc
 428              		@ args = 0, pretend = 0, frame = 0
 429              		@ frame_needed = 0, uses_anonymous_args = 0
 153:app/tasks/light_sensor/light_sensor.c ****   osStatus_t ioStatus;
 430              		.loc 1 153 81 is_stmt 0 view .LVU112
 431 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 432              	.LCFI5:
 433              		.cfi_def_cfa_offset 24
 434              		.cfi_offset 3, -24
 435              		.cfi_offset 4, -20
 436              		.cfi_offset 5, -16
 437              		.cfi_offset 6, -12
 438              		.cfi_offset 7, -8
 439              		.cfi_offset 14, -4
 440 0002 0446     		mov	r4, r0
 154:app/tasks/light_sensor/light_sensor.c **** 
 441              		.loc 1 154 3 is_stmt 1 view .LVU113
ARM GAS  /tmp/ccOYh7Oz.s 			page 16


 156:app/tasks/light_sensor/light_sensor.c ****     case LIGHT_SENS_SINGLE_SHOT_READ:
 442              		.loc 1 156 3 view .LVU114
 156:app/tasks/light_sensor/light_sensor.c ****     case LIGHT_SENS_SINGLE_SHOT_READ:
 443              		.loc 1 156 18 is_stmt 0 view .LVU115
 444 0004 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
 156:app/tasks/light_sensor/light_sensor.c ****     case LIGHT_SENS_SINGLE_SHOT_READ:
 445              		.loc 1 156 3 view .LVU116
 446 0006 DA2B     		cmp	r3, #218
 447 0008 06D0     		beq	.L23
 448 000a DC2B     		cmp	r3, #220
 449 000c 3BD0     		beq	.L24
 450 000e CF2B     		cmp	r3, #207
 451 0010 28D0     		beq	.L25
 452 0012 0025     		movs	r5, #0
 453              	.LVL43:
 454              	.L22:
 204:app/tasks/light_sensor/light_sensor.c **** 
 455              		.loc 1 204 1 view .LVU117
 456 0014 2846     		mov	r0, r5
 457 0016 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 458              	.LVL44:
 459              	.L23:
 159:app/tasks/light_sensor/light_sensor.c ****                                     OPT3001_CONFIG_CONVERSION_TIME_800_MS | \
 460              		.loc 1 159 7 is_stmt 1 view .LVU118
 159:app/tasks/light_sensor/light_sensor.c ****                                     OPT3001_CONFIG_CONVERSION_TIME_800_MS | \
 461              		.loc 1 159 18 is_stmt 0 view .LVU119
 462 0018 4CF61020 		movw	r0, #51728
 463              	.LVL45:
 159:app/tasks/light_sensor/light_sensor.c ****                                     OPT3001_CONFIG_CONVERSION_TIME_800_MS | \
 464              		.loc 1 159 18 view .LVU120
 465 001c FFF7FEFF 		bl	OPT3001_WriteConfig
 466              	.LVL46:
 164:app/tasks/light_sensor/light_sensor.c **** 
 467              		.loc 1 164 7 is_stmt 1 view .LVU121
 164:app/tasks/light_sensor/light_sensor.c **** 
 468              		.loc 1 164 10 is_stmt 0 view .LVU122
 469 0020 0028     		cmp	r0, #0
 470 0022 41D1     		bne	.L27
 167:app/tasks/light_sensor/light_sensor.c **** 
 471              		.loc 1 167 7 is_stmt 1 view .LVU123
 472 0024 4FF47A70 		mov	r0, #1000
 473              	.LVL47:
 167:app/tasks/light_sensor/light_sensor.c **** 
 474              		.loc 1 167 7 is_stmt 0 view .LVU124
 475 0028 FFF7FEFF 		bl	osDelay
 476              	.LVL48:
 170:app/tasks/light_sensor/light_sensor.c **** 
 477              		.loc 1 170 7 is_stmt 1 view .LVU125
 170:app/tasks/light_sensor/light_sensor.c **** 
 478              		.loc 1 170 18 is_stmt 0 view .LVU126
 479 002c 04F11200 		add	r0, r4, #18
 480 0030 FFF7FEFF 		bl	OPT3001_ReadResultRawLux
 481              	.LVL49:
 172:app/tasks/light_sensor/light_sensor.c **** 
 482              		.loc 1 172 7 is_stmt 1 view .LVU127
 172:app/tasks/light_sensor/light_sensor.c **** 
 483              		.loc 1 172 10 is_stmt 0 view .LVU128
ARM GAS  /tmp/ccOYh7Oz.s 			page 17


 484 0034 0546     		mov	r5, r0
 485 0036 0028     		cmp	r0, #0
 486 0038 39D1     		bne	.L28
 175:app/tasks/light_sensor/light_sensor.c **** 
 487              		.loc 1 175 7 is_stmt 1 view .LVU129
 175:app/tasks/light_sensor/light_sensor.c **** 
 488              		.loc 1 175 15 is_stmt 0 view .LVU130
 489 003a 214E     		ldr	r6, .L32
 490 003c 3368     		ldr	r3, [r6]
 491 003e 9F68     		ldr	r7, [r3, #8]
 175:app/tasks/light_sensor/light_sensor.c **** 
 492              		.loc 1 175 7 view .LVU131
 493 0040 608A     		ldrh	r0, [r4, #18]
 494              	.LVL50:
 175:app/tasks/light_sensor/light_sensor.c **** 
 495              		.loc 1 175 7 view .LVU132
 496 0042 FFF7FEFF 		bl	OPT3001_RawToMilliLux
 497              	.LVL51:
 498 0046 0246     		mov	r2, r0
 499 0048 1E49     		ldr	r1, .L32+4
 500 004a 3846     		mov	r0, r7
 501 004c FFF7FEFF 		bl	fprintf
 502              	.LVL52:
 178:app/tasks/light_sensor/light_sensor.c ****       return osOK;
 503              		.loc 1 178 7 is_stmt 1 view .LVU133
 178:app/tasks/light_sensor/light_sensor.c ****       return osOK;
 504              		.loc 1 178 7 view .LVU134
 505 0050 0123     		movs	r3, #1
 506 0052 2374     		strb	r3, [r4, #16]
 178:app/tasks/light_sensor/light_sensor.c ****       return osOK;
 507              		.loc 1 178 7 view .LVU135
 508 0054 3068     		ldr	r0, [r6]
 509 0056 1C4B     		ldr	r3, .L32+8
 510 0058 2268     		ldr	r2, [r4]
 511 005a 1C49     		ldr	r1, .L32+12
 512 005c 8068     		ldr	r0, [r0, #8]
 513 005e FFF7FEFF 		bl	fprintf
 514              	.LVL53:
 178:app/tasks/light_sensor/light_sensor.c ****       return osOK;
 515              		.loc 1 178 7 view .LVU136
 178:app/tasks/light_sensor/light_sensor.c ****       return osOK;
 516              		.loc 1 178 50 view .LVU137
 179:app/tasks/light_sensor/light_sensor.c ****     case GLOBAL_CMD_START_CONTINUOUS_SENSING:
 517              		.loc 1 179 7 view .LVU138
 179:app/tasks/light_sensor/light_sensor.c ****     case GLOBAL_CMD_START_CONTINUOUS_SENSING:
 518              		.loc 1 179 14 is_stmt 0 view .LVU139
 519 0062 D7E7     		b	.L22
 520              	.LVL54:
 521              	.L25:
 182:app/tasks/light_sensor/light_sensor.c ****                                     OPT3001_CONFIG_CONVERSION_TIME_800_MS | \
 522              		.loc 1 182 7 is_stmt 1 view .LVU140
 182:app/tasks/light_sensor/light_sensor.c ****                                     OPT3001_CONFIG_CONVERSION_TIME_800_MS | \
 523              		.loc 1 182 18 is_stmt 0 view .LVU141
 524 0064 4CF61260 		movw	r0, #52754
 525              	.LVL55:
 182:app/tasks/light_sensor/light_sensor.c ****                                     OPT3001_CONFIG_CONVERSION_TIME_800_MS | \
 526              		.loc 1 182 18 view .LVU142
ARM GAS  /tmp/ccOYh7Oz.s 			page 18


 527 0068 FFF7FEFF 		bl	OPT3001_WriteConfig
 528              	.LVL56:
 188:app/tasks/light_sensor/light_sensor.c **** 
 529              		.loc 1 188 7 is_stmt 1 view .LVU143
 188:app/tasks/light_sensor/light_sensor.c **** 
 530              		.loc 1 188 10 is_stmt 0 view .LVU144
 531 006c 0546     		mov	r5, r0
 532 006e 08BB     		cbnz	r0, .L29
 190:app/tasks/light_sensor/light_sensor.c ****       return osOK;
 533              		.loc 1 190 7 is_stmt 1 view .LVU145
 190:app/tasks/light_sensor/light_sensor.c ****       return osOK;
 534              		.loc 1 190 7 view .LVU146
 535 0070 0223     		movs	r3, #2
 536 0072 2374     		strb	r3, [r4, #16]
 190:app/tasks/light_sensor/light_sensor.c ****       return osOK;
 537              		.loc 1 190 7 view .LVU147
 538 0074 124B     		ldr	r3, .L32
 539 0076 1868     		ldr	r0, [r3]
 540              	.LVL57:
 190:app/tasks/light_sensor/light_sensor.c ****       return osOK;
 541              		.loc 1 190 7 is_stmt 0 view .LVU148
 542 0078 154B     		ldr	r3, .L32+16
 543 007a 2268     		ldr	r2, [r4]
 544 007c 1349     		ldr	r1, .L32+12
 545 007e 8068     		ldr	r0, [r0, #8]
 546 0080 FFF7FEFF 		bl	fprintf
 547              	.LVL58:
 190:app/tasks/light_sensor/light_sensor.c ****       return osOK;
 548              		.loc 1 190 7 is_stmt 1 view .LVU149
 190:app/tasks/light_sensor/light_sensor.c ****       return osOK;
 549              		.loc 1 190 58 view .LVU150
 191:app/tasks/light_sensor/light_sensor.c ****     case LIGHT_SENS_SET_LIMIT:
 550              		.loc 1 191 7 view .LVU151
 191:app/tasks/light_sensor/light_sensor.c ****     case LIGHT_SENS_SET_LIMIT:
 551              		.loc 1 191 14 is_stmt 0 view .LVU152
 552 0084 C6E7     		b	.L22
 553              	.LVL59:
 554              	.L24:
 194:app/tasks/light_sensor/light_sensor.c ****       ioStatus = OPT3001_WriteHighLimit(this->highLimit);
 555              		.loc 1 194 7 is_stmt 1 view .LVU153
 194:app/tasks/light_sensor/light_sensor.c ****       ioStatus = OPT3001_WriteHighLimit(this->highLimit);
 556              		.loc 1 194 23 is_stmt 0 view .LVU154
 557 0086 8888     		ldrh	r0, [r1, #4]
 558              	.LVL60:
 194:app/tasks/light_sensor/light_sensor.c ****       ioStatus = OPT3001_WriteHighLimit(this->highLimit);
 559              		.loc 1 194 23 view .LVU155
 560 0088 A082     		strh	r0, [r4, #20]	@ movhi
 195:app/tasks/light_sensor/light_sensor.c **** 
 561              		.loc 1 195 7 is_stmt 1 view .LVU156
 195:app/tasks/light_sensor/light_sensor.c **** 
 562              		.loc 1 195 18 is_stmt 0 view .LVU157
 563 008a FFF7FEFF 		bl	OPT3001_WriteHighLimit
 564              	.LVL61:
 197:app/tasks/light_sensor/light_sensor.c **** 
 565              		.loc 1 197 7 is_stmt 1 view .LVU158
 197:app/tasks/light_sensor/light_sensor.c **** 
 566              		.loc 1 197 10 is_stmt 0 view .LVU159
ARM GAS  /tmp/ccOYh7Oz.s 			page 19


 567 008e 0546     		mov	r5, r0
 568 0090 98B9     		cbnz	r0, .L30
 199:app/tasks/light_sensor/light_sensor.c ****       return osOK;
 569              		.loc 1 199 7 is_stmt 1 view .LVU160
 199:app/tasks/light_sensor/light_sensor.c ****       return osOK;
 570              		.loc 1 199 7 view .LVU161
 571 0092 0123     		movs	r3, #1
 572 0094 2374     		strb	r3, [r4, #16]
 199:app/tasks/light_sensor/light_sensor.c ****       return osOK;
 573              		.loc 1 199 7 view .LVU162
 574 0096 0A4B     		ldr	r3, .L32
 575 0098 1868     		ldr	r0, [r3]
 576              	.LVL62:
 199:app/tasks/light_sensor/light_sensor.c ****       return osOK;
 577              		.loc 1 199 7 is_stmt 0 view .LVU163
 578 009a 0B4B     		ldr	r3, .L32+8
 579 009c 2268     		ldr	r2, [r4]
 580 009e 0B49     		ldr	r1, .L32+12
 581 00a0 8068     		ldr	r0, [r0, #8]
 582 00a2 FFF7FEFF 		bl	fprintf
 583              	.LVL63:
 199:app/tasks/light_sensor/light_sensor.c ****       return osOK;
 584              		.loc 1 199 7 is_stmt 1 view .LVU164
 199:app/tasks/light_sensor/light_sensor.c ****       return osOK;
 585              		.loc 1 199 50 view .LVU165
 200:app/tasks/light_sensor/light_sensor.c ****   }
 586              		.loc 1 200 7 view .LVU166
 200:app/tasks/light_sensor/light_sensor.c ****   }
 587              		.loc 1 200 14 is_stmt 0 view .LVU167
 588 00a6 B5E7     		b	.L22
 589              	.LVL64:
 590              	.L27:
 164:app/tasks/light_sensor/light_sensor.c **** 
 591              		.loc 1 164 36 view .LVU168
 592 00a8 4FF0FF35 		mov	r5, #-1
 593 00ac B2E7     		b	.L22
 594              	.L28:
 172:app/tasks/light_sensor/light_sensor.c **** 
 595              		.loc 1 172 36 view .LVU169
 596 00ae 4FF0FF35 		mov	r5, #-1
 597 00b2 AFE7     		b	.L22
 598              	.L29:
 188:app/tasks/light_sensor/light_sensor.c **** 
 599              		.loc 1 188 36 view .LVU170
 600 00b4 4FF0FF35 		mov	r5, #-1
 601 00b8 ACE7     		b	.L22
 602              	.L30:
 197:app/tasks/light_sensor/light_sensor.c **** 
 603              		.loc 1 197 36 view .LVU171
 604 00ba 4FF0FF35 		mov	r5, #-1
 605 00be A9E7     		b	.L22
 606              	.L33:
 607              		.align	2
 608              	.L32:
 609 00c0 00000000 		.word	_impure_ptr
 610 00c4 00000000 		.word	.LC6
 611 00c8 30000000 		.word	.LC2
ARM GAS  /tmp/ccOYh7Oz.s 			page 20


 612 00cc 4C000000 		.word	.LC3
 613 00d0 20000000 		.word	.LC5
 614              		.cfi_endproc
 615              	.LFE143:
 617              		.section	.rodata.handleContinuousMeasure.str1.4,"aMS",%progbits,1
 618              		.align	2
 619              	.LC7:
 620 0000 6D696C6C 		.ascii	"milliLux %lu\012\000"
 620      694C7578 
 620      20256C75 
 620      0A00
 621              		.section	.text.handleContinuousMeasure,"ax",%progbits
 622              		.align	1
 623              		.syntax unified
 624              		.thumb
 625              		.thumb_func
 626              		.fpu fpv4-sp-d16
 628              	handleContinuousMeasure:
 629              	.LVL65:
 630              	.LFB144:
 209:app/tasks/light_sensor/light_sensor.c ****   osStatus_t ioStatus;
 631              		.loc 1 209 89 is_stmt 1 view -0
 632              		.cfi_startproc
 633              		@ args = 0, pretend = 0, frame = 16
 634              		@ frame_needed = 0, uses_anonymous_args = 0
 209:app/tasks/light_sensor/light_sensor.c ****   osStatus_t ioStatus;
 635              		.loc 1 209 89 is_stmt 0 view .LVU173
 636 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 637              	.LCFI6:
 638              		.cfi_def_cfa_offset 20
 639              		.cfi_offset 4, -20
 640              		.cfi_offset 5, -16
 641              		.cfi_offset 6, -12
 642              		.cfi_offset 7, -8
 643              		.cfi_offset 14, -4
 644 0002 85B0     		sub	sp, sp, #20
 645              	.LCFI7:
 646              		.cfi_def_cfa_offset 40
 647 0004 0446     		mov	r4, r0
 210:app/tasks/light_sensor/light_sensor.c **** 
 648              		.loc 1 210 3 is_stmt 1 view .LVU174
 212:app/tasks/light_sensor/light_sensor.c ****     case GLOBAL_WAKE_N_READ:
 649              		.loc 1 212 3 view .LVU175
 212:app/tasks/light_sensor/light_sensor.c ****     case GLOBAL_WAKE_N_READ:
 650              		.loc 1 212 18 is_stmt 0 view .LVU176
 651 0006 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
 212:app/tasks/light_sensor/light_sensor.c ****     case GLOBAL_WAKE_N_READ:
 652              		.loc 1 212 3 view .LVU177
 653 0008 DD2B     		cmp	r3, #221
 654 000a 33D0     		beq	.L35
 655 000c DE2B     		cmp	r3, #222
 656 000e 45D0     		beq	.L36
 657 0010 C72B     		cmp	r3, #199
 658 0012 03D0     		beq	.L45
 659 0014 0025     		movs	r5, #0
 660              	.LVL66:
 661              	.L34:
ARM GAS  /tmp/ccOYh7Oz.s 			page 21


 253:app/tasks/light_sensor/light_sensor.c **** 
 662              		.loc 1 253 1 view .LVU178
 663 0016 2846     		mov	r0, r5
 664 0018 05B0     		add	sp, sp, #20
 665              	.LCFI8:
 666              		.cfi_remember_state
 667              		.cfi_def_cfa_offset 20
 668              		@ sp needed
 669 001a F0BD     		pop	{r4, r5, r6, r7, pc}
 670              	.LVL67:
 671              	.L45:
 672              	.LCFI9:
 673              		.cfi_restore_state
 674              	.LBB3:
 215:app/tasks/light_sensor/light_sensor.c ****       if (ioStatus != osOK) return osError;
 675              		.loc 1 215 7 is_stmt 1 view .LVU179
 215:app/tasks/light_sensor/light_sensor.c ****       if (ioStatus != osOK) return osError;
 676              		.loc 1 215 18 is_stmt 0 view .LVU180
 677 001c 1230     		adds	r0, r0, #18
 678              	.LVL68:
 215:app/tasks/light_sensor/light_sensor.c ****       if (ioStatus != osOK) return osError;
 679              		.loc 1 215 18 view .LVU181
 680 001e FFF7FEFF 		bl	OPT3001_ReadResultRawLux
 681              	.LVL69:
 216:app/tasks/light_sensor/light_sensor.c **** 
 682              		.loc 1 216 7 is_stmt 1 view .LVU182
 216:app/tasks/light_sensor/light_sensor.c **** 
 683              		.loc 1 216 10 is_stmt 0 view .LVU183
 684 0022 0546     		mov	r5, r0
 685 0024 10B1     		cbz	r0, .L46
 216:app/tasks/light_sensor/light_sensor.c **** 
 686              		.loc 1 216 36 view .LVU184
 687 0026 4FF0FF35 		mov	r5, #-1
 688 002a F4E7     		b	.L34
 689              	.L46:
 219:app/tasks/light_sensor/light_sensor.c ****       #endif
 690              		.loc 1 219 9 is_stmt 1 view .LVU185
 219:app/tasks/light_sensor/light_sensor.c ****       #endif
 691              		.loc 1 219 17 is_stmt 0 view .LVU186
 692 002c 2B4E     		ldr	r6, .L50
 693 002e 3368     		ldr	r3, [r6]
 694 0030 9F68     		ldr	r7, [r3, #8]
 219:app/tasks/light_sensor/light_sensor.c ****       #endif
 695              		.loc 1 219 9 view .LVU187
 696 0032 608A     		ldrh	r0, [r4, #18]
 697              	.LVL70:
 219:app/tasks/light_sensor/light_sensor.c ****       #endif
 698              		.loc 1 219 9 view .LVU188
 699 0034 FFF7FEFF 		bl	OPT3001_RawToMilliLux
 700              	.LVL71:
 701 0038 0246     		mov	r2, r0
 702 003a 2949     		ldr	r1, .L50+4
 703 003c 3846     		mov	r0, r7
 704 003e FFF7FEFF 		bl	fprintf
 705              	.LVL72:
 223:app/tasks/light_sensor/light_sensor.c ****       osMessageQueuePut(evManagerQueue, &(message_t){GLOBAL_LIGHT_MEASUREMENTS_READY, .payload.ptr 
 706              		.loc 1 223 7 is_stmt 1 view .LVU189
ARM GAS  /tmp/ccOYh7Oz.s 			page 22


 223:app/tasks/light_sensor/light_sensor.c ****       osMessageQueuePut(evManagerQueue, &(message_t){GLOBAL_LIGHT_MEASUREMENTS_READY, .payload.ptr 
 707              		.loc 1 223 69 is_stmt 0 view .LVU190
 708 0042 284B     		ldr	r3, .L50+8
 709 0044 5B68     		ldr	r3, [r3, #4]
 223:app/tasks/light_sensor/light_sensor.c ****       osMessageQueuePut(evManagerQueue, &(message_t){GLOBAL_LIGHT_MEASUREMENTS_READY, .payload.ptr 
 710              		.loc 1 223 26 view .LVU191
 711 0046 9868     		ldr	r0, [r3, #8]
 712              	.LVL73:
 224:app/tasks/light_sensor/light_sensor.c **** 
 713              		.loc 1 224 7 is_stmt 1 view .LVU192
 224:app/tasks/light_sensor/light_sensor.c **** 
 714              		.loc 1 224 53 is_stmt 0 view .LVU193
 715 0048 0022     		movs	r2, #0
 716 004a 0192     		str	r2, [sp, #4]
 717 004c 0292     		str	r2, [sp, #8]
 718 004e 0392     		str	r2, [sp, #12]
 719 0050 C923     		movs	r3, #201
 720 0052 8DF80430 		strb	r3, [sp, #4]
 721 0056 0294     		str	r4, [sp, #8]
 224:app/tasks/light_sensor/light_sensor.c **** 
 722              		.loc 1 224 7 view .LVU194
 723 0058 1346     		mov	r3, r2
 724 005a 01A9     		add	r1, sp, #4
 725 005c FFF7FEFF 		bl	osMessageQueuePut
 726              	.LVL74:
 226:app/tasks/light_sensor/light_sensor.c ****       return osOK;
 727              		.loc 1 226 7 is_stmt 1 view .LVU195
 226:app/tasks/light_sensor/light_sensor.c ****       return osOK;
 728              		.loc 1 226 7 view .LVU196
 729 0060 0223     		movs	r3, #2
 730 0062 2374     		strb	r3, [r4, #16]
 226:app/tasks/light_sensor/light_sensor.c ****       return osOK;
 731              		.loc 1 226 7 view .LVU197
 732 0064 3068     		ldr	r0, [r6]
 733 0066 204B     		ldr	r3, .L50+12
 734 0068 2268     		ldr	r2, [r4]
 735 006a 2049     		ldr	r1, .L50+16
 736 006c 8068     		ldr	r0, [r0, #8]
 737 006e FFF7FEFF 		bl	fprintf
 738              	.LVL75:
 226:app/tasks/light_sensor/light_sensor.c ****       return osOK;
 739              		.loc 1 226 7 view .LVU198
 226:app/tasks/light_sensor/light_sensor.c ****       return osOK;
 740              		.loc 1 226 58 view .LVU199
 227:app/tasks/light_sensor/light_sensor.c ****     case LIGHT_SENS_TURN_OFF:
 741              		.loc 1 227 7 view .LVU200
 227:app/tasks/light_sensor/light_sensor.c ****     case LIGHT_SENS_TURN_OFF:
 742              		.loc 1 227 14 is_stmt 0 view .LVU201
 743 0072 D0E7     		b	.L34
 744              	.LVL76:
 745              	.L35:
 230:app/tasks/light_sensor/light_sensor.c **** 
 746              		.loc 1 230 7 is_stmt 1 view .LVU202
 230:app/tasks/light_sensor/light_sensor.c **** 
 747              		.loc 1 230 18 is_stmt 0 view .LVU203
 748 0074 4CF61000 		movw	r0, #51216
 749              	.LVL77:
ARM GAS  /tmp/ccOYh7Oz.s 			page 23


 230:app/tasks/light_sensor/light_sensor.c **** 
 750              		.loc 1 230 18 view .LVU204
 751 0078 FFF7FEFF 		bl	OPT3001_WriteConfig
 752              	.LVL78:
 232:app/tasks/light_sensor/light_sensor.c **** 
 753              		.loc 1 232 7 is_stmt 1 view .LVU205
 232:app/tasks/light_sensor/light_sensor.c **** 
 754              		.loc 1 232 10 is_stmt 0 view .LVU206
 755 007c 0546     		mov	r5, r0
 756 007e 10B1     		cbz	r0, .L47
 232:app/tasks/light_sensor/light_sensor.c **** 
 757              		.loc 1 232 36 view .LVU207
 758 0080 4FF0FF35 		mov	r5, #-1
 759 0084 C7E7     		b	.L34
 760              	.L47:
 234:app/tasks/light_sensor/light_sensor.c ****       return osOK;
 761              		.loc 1 234 7 is_stmt 1 view .LVU208
 234:app/tasks/light_sensor/light_sensor.c ****       return osOK;
 762              		.loc 1 234 7 view .LVU209
 763 0086 0123     		movs	r3, #1
 764 0088 2374     		strb	r3, [r4, #16]
 234:app/tasks/light_sensor/light_sensor.c ****       return osOK;
 765              		.loc 1 234 7 view .LVU210
 766 008a 144B     		ldr	r3, .L50
 767 008c 1868     		ldr	r0, [r3]
 768              	.LVL79:
 234:app/tasks/light_sensor/light_sensor.c ****       return osOK;
 769              		.loc 1 234 7 is_stmt 0 view .LVU211
 770 008e 184B     		ldr	r3, .L50+20
 771 0090 2268     		ldr	r2, [r4]
 772 0092 1649     		ldr	r1, .L50+16
 773 0094 8068     		ldr	r0, [r0, #8]
 774 0096 FFF7FEFF 		bl	fprintf
 775              	.LVL80:
 234:app/tasks/light_sensor/light_sensor.c ****       return osOK;
 776              		.loc 1 234 7 is_stmt 1 view .LVU212
 234:app/tasks/light_sensor/light_sensor.c ****       return osOK;
 777              		.loc 1 234 50 view .LVU213
 235:app/tasks/light_sensor/light_sensor.c ****     case LIGHT_SENS_LIMIT_INT:
 778              		.loc 1 235 7 view .LVU214
 235:app/tasks/light_sensor/light_sensor.c ****     case LIGHT_SENS_LIMIT_INT:
 779              		.loc 1 235 14 is_stmt 0 view .LVU215
 780 009a BCE7     		b	.L34
 781              	.LVL81:
 782              	.L36:
 238:app/tasks/light_sensor/light_sensor.c ****       if (ioStatus != osOK) return osError;
 783              		.loc 1 238 7 is_stmt 1 view .LVU216
 238:app/tasks/light_sensor/light_sensor.c ****       if (ioStatus != osOK) return osError;
 784              		.loc 1 238 18 is_stmt 0 view .LVU217
 785 009c 1230     		adds	r0, r0, #18
 786              	.LVL82:
 238:app/tasks/light_sensor/light_sensor.c ****       if (ioStatus != osOK) return osError;
 787              		.loc 1 238 18 view .LVU218
 788 009e FFF7FEFF 		bl	OPT3001_ReadResultRawLux
 789              	.LVL83:
 239:app/tasks/light_sensor/light_sensor.c **** 
 790              		.loc 1 239 7 is_stmt 1 view .LVU219
ARM GAS  /tmp/ccOYh7Oz.s 			page 24


 239:app/tasks/light_sensor/light_sensor.c **** 
 791              		.loc 1 239 10 is_stmt 0 view .LVU220
 792 00a2 10B1     		cbz	r0, .L48
 239:app/tasks/light_sensor/light_sensor.c **** 
 793              		.loc 1 239 36 view .LVU221
 794 00a4 4FF0FF35 		mov	r5, #-1
 795 00a8 B5E7     		b	.L34
 796              	.L48:
 244:app/tasks/light_sensor/light_sensor.c ****       | OPT3001_WriteLowLimit(this->highLimit);
 797              		.loc 1 244 7 is_stmt 1 view .LVU222
 244:app/tasks/light_sensor/light_sensor.c ****       | OPT3001_WriteLowLimit(this->highLimit);
 798              		.loc 1 244 18 is_stmt 0 view .LVU223
 799 00aa 4FF6FF70 		movw	r0, #65535
 800              	.LVL84:
 244:app/tasks/light_sensor/light_sensor.c ****       | OPT3001_WriteLowLimit(this->highLimit);
 801              		.loc 1 244 18 view .LVU224
 802 00ae FFF7FEFF 		bl	OPT3001_WriteHighLimit
 803              	.LVL85:
 804 00b2 0546     		mov	r5, r0
 245:app/tasks/light_sensor/light_sensor.c ****       if (ioStatus != osOK) return osError;
 805              		.loc 1 245 9 view .LVU225
 806 00b4 A08A     		ldrh	r0, [r4, #20]
 807 00b6 FFF7FEFF 		bl	OPT3001_WriteLowLimit
 808              	.LVL86:
 246:app/tasks/light_sensor/light_sensor.c **** 
 809              		.loc 1 246 7 is_stmt 1 view .LVU226
 246:app/tasks/light_sensor/light_sensor.c **** 
 810              		.loc 1 246 10 is_stmt 0 view .LVU227
 811 00ba 0543     		orrs	r5, r5, r0
 812              	.LVL87:
 246:app/tasks/light_sensor/light_sensor.c **** 
 813              		.loc 1 246 10 view .LVU228
 814 00bc 02D0     		beq	.L49
 246:app/tasks/light_sensor/light_sensor.c **** 
 815              		.loc 1 246 36 view .LVU229
 816 00be 4FF0FF35 		mov	r5, #-1
 817              	.LVL88:
 246:app/tasks/light_sensor/light_sensor.c **** 
 818              		.loc 1 246 36 view .LVU230
 819 00c2 A8E7     		b	.L34
 820              	.LVL89:
 821              	.L49:
 248:app/tasks/light_sensor/light_sensor.c ****       return osOK;
 822              		.loc 1 248 7 is_stmt 1 view .LVU231
 248:app/tasks/light_sensor/light_sensor.c ****       return osOK;
 823              		.loc 1 248 7 view .LVU232
 824 00c4 0323     		movs	r3, #3
 825 00c6 2374     		strb	r3, [r4, #16]
 248:app/tasks/light_sensor/light_sensor.c ****       return osOK;
 826              		.loc 1 248 7 view .LVU233
 827 00c8 044B     		ldr	r3, .L50
 828 00ca 1868     		ldr	r0, [r3]
 829 00cc 094B     		ldr	r3, .L50+24
 830 00ce 2268     		ldr	r2, [r4]
 831 00d0 0649     		ldr	r1, .L50+16
 832 00d2 8068     		ldr	r0, [r0, #8]
 833 00d4 FFF7FEFF 		bl	fprintf
ARM GAS  /tmp/ccOYh7Oz.s 			page 25


 834              	.LVL90:
 248:app/tasks/light_sensor/light_sensor.c ****       return osOK;
 835              		.loc 1 248 7 view .LVU234
 248:app/tasks/light_sensor/light_sensor.c ****       return osOK;
 836              		.loc 1 248 52 view .LVU235
 249:app/tasks/light_sensor/light_sensor.c ****   }
 837              		.loc 1 249 7 view .LVU236
 249:app/tasks/light_sensor/light_sensor.c ****   }
 838              		.loc 1 249 14 is_stmt 0 view .LVU237
 839 00d8 9DE7     		b	.L34
 840              	.L51:
 841 00da 00BF     		.align	2
 842              	.L50:
 843 00dc 00000000 		.word	_impure_ptr
 844 00e0 00000000 		.word	.LC7
 845 00e4 00000000 		.word	ACTORS_LIST_SystemRegistry
 846 00e8 20000000 		.word	.LC5
 847 00ec 4C000000 		.word	.LC3
 848 00f0 30000000 		.word	.LC2
 849 00f4 00000000 		.word	.LC4
 850              	.LBE3:
 851              		.cfi_endproc
 852              	.LFE144:
 854              		.section	.text.handleLightSensorFSM,"ax",%progbits
 855              		.align	1
 856              		.syntax unified
 857              		.thumb
 858              		.thumb_func
 859              		.fpu fpv4-sp-d16
 861              	handleLightSensorFSM:
 862              	.LVL91:
 863              	.LFB141:
  89:app/tasks/light_sensor/light_sensor.c ****   switch (this->state) {
 864              		.loc 1 89 86 is_stmt 1 view -0
 865              		.cfi_startproc
 866              		@ args = 0, pretend = 0, frame = 0
 867              		@ frame_needed = 0, uses_anonymous_args = 0
  89:app/tasks/light_sensor/light_sensor.c ****   switch (this->state) {
 868              		.loc 1 89 86 is_stmt 0 view .LVU239
 869 0000 08B5     		push	{r3, lr}
 870              	.LCFI10:
 871              		.cfi_def_cfa_offset 8
 872              		.cfi_offset 3, -8
 873              		.cfi_offset 14, -4
  90:app/tasks/light_sensor/light_sensor.c ****     case LIGHT_SENS_NO_STATE:
 874              		.loc 1 90 3 is_stmt 1 view .LVU240
  90:app/tasks/light_sensor/light_sensor.c ****     case LIGHT_SENS_NO_STATE:
 875              		.loc 1 90 15 is_stmt 0 view .LVU241
 876 0002 037C     		ldrb	r3, [r0, #16]	@ zero_extendqisi2
  90:app/tasks/light_sensor/light_sensor.c ****     case LIGHT_SENS_NO_STATE:
 877              		.loc 1 90 3 view .LVU242
 878 0004 032B     		cmp	r3, #3
 879 0006 0FD8     		bhi	.L59
 880 0008 DFE803F0 		tbb	[pc, r3]
 881              	.L55:
 882 000c 02       		.byte	(.L58-.L55)/2
 883 000d 05       		.byte	(.L57-.L55)/2
ARM GAS  /tmp/ccOYh7Oz.s 			page 26


 884 000e 08       		.byte	(.L56-.L55)/2
 885 000f 0B       		.byte	(.L54-.L55)/2
 886              		.p2align 1
 887              	.L58:
  92:app/tasks/light_sensor/light_sensor.c ****     case LIGHT_SENS_TURNED_OFF_STATE:
 888              		.loc 1 92 7 is_stmt 1 view .LVU243
  92:app/tasks/light_sensor/light_sensor.c ****     case LIGHT_SENS_TURNED_OFF_STATE:
 889              		.loc 1 92 14 is_stmt 0 view .LVU244
 890 0010 FFF7FEFF 		bl	handleInit
 891              	.LVL92:
 892              	.L52:
 102:app/tasks/light_sensor/light_sensor.c **** 
 893              		.loc 1 102 1 view .LVU245
 894 0014 08BD     		pop	{r3, pc}
 895              	.LVL93:
 896              	.L57:
  94:app/tasks/light_sensor/light_sensor.c ****     case LIGHT_SENS_CONTINUOUS_MEASURE_STATE:
 897              		.loc 1 94 7 is_stmt 1 view .LVU246
  94:app/tasks/light_sensor/light_sensor.c ****     case LIGHT_SENS_CONTINUOUS_MEASURE_STATE:
 898              		.loc 1 94 14 is_stmt 0 view .LVU247
 899 0016 FFF7FEFF 		bl	handleTurnedOff
 900              	.LVL94:
  94:app/tasks/light_sensor/light_sensor.c ****     case LIGHT_SENS_CONTINUOUS_MEASURE_STATE:
 901              		.loc 1 94 14 view .LVU248
 902 001a FBE7     		b	.L52
 903              	.LVL95:
 904              	.L56:
  96:app/tasks/light_sensor/light_sensor.c ****     case LIGHT_SENS_OUT_OF_RANGE_STATE:
 905              		.loc 1 96 7 is_stmt 1 view .LVU249
  96:app/tasks/light_sensor/light_sensor.c ****     case LIGHT_SENS_OUT_OF_RANGE_STATE:
 906              		.loc 1 96 14 is_stmt 0 view .LVU250
 907 001c FFF7FEFF 		bl	handleContinuousMeasure
 908              	.LVL96:
  96:app/tasks/light_sensor/light_sensor.c ****     case LIGHT_SENS_OUT_OF_RANGE_STATE:
 909              		.loc 1 96 14 view .LVU251
 910 0020 F8E7     		b	.L52
 911              	.LVL97:
 912              	.L54:
  98:app/tasks/light_sensor/light_sensor.c ****   }
 913              		.loc 1 98 7 is_stmt 1 view .LVU252
  98:app/tasks/light_sensor/light_sensor.c ****   }
 914              		.loc 1 98 14 is_stmt 0 view .LVU253
 915 0022 FFF7FEFF 		bl	handleOutOfRange
 916              	.LVL98:
  98:app/tasks/light_sensor/light_sensor.c ****   }
 917              		.loc 1 98 14 view .LVU254
 918 0026 F5E7     		b	.L52
 919              	.LVL99:
 920              	.L59:
  90:app/tasks/light_sensor/light_sensor.c ****     case LIGHT_SENS_NO_STATE:
 921              		.loc 1 90 3 view .LVU255
 922 0028 0020     		movs	r0, #0
 923              	.LVL100:
  90:app/tasks/light_sensor/light_sensor.c ****     case LIGHT_SENS_NO_STATE:
 924              		.loc 1 90 3 view .LVU256
 925 002a F3E7     		b	.L52
 926              		.cfi_endproc
ARM GAS  /tmp/ccOYh7Oz.s 			page 27


 927              	.LFE141:
 929              		.section	.rodata.LIGHT_SENS_Task.str1.4,"aMS",%progbits,1
 930              		.align	2
 931              	.LC8:
 932 0000 6C696768 		.ascii	"lightSensorTask\000"
 932      7453656E 
 932      736F7254 
 932      61736B00 
 933              		.align	2
 934              	.LC9:
 935 0010 5461736B 		.ascii	"Task %s started\012\000"
 935      20257320 
 935      73746172 
 935      7465640A 
 935      00
 936 0021 000000   		.align	2
 937              	.LC10:
 938 0024 25733A20 		.ascii	"%s: Error handling event %u in state %ul\012\000"
 938      4572726F 
 938      72206861 
 938      6E646C69 
 938      6E672065 
 939 004e 0000     		.align	2
 940              	.LC11:
 941 0050 4C494748 		.ascii	"LIGHT_SENS_STATE_ERROR\000"
 941      545F5345 
 941      4E535F53 
 941      54415445 
 941      5F455252 
 942              		.section	.text.LIGHT_SENS_Task,"ax",%progbits
 943              		.align	1
 944              		.global	LIGHT_SENS_Task
 945              		.syntax unified
 946              		.thumb
 947              		.thumb_func
 948              		.fpu fpv4-sp-d16
 950              	LIGHT_SENS_Task:
 951              	.LVL101:
 952              	.LFB140:
  68:app/tasks/light_sensor/light_sensor.c ****   (void) argument; // Avoid unused parameter warning
 953              		.loc 1 68 38 is_stmt 1 view -0
 954              		.cfi_startproc
 955              		@ args = 0, pretend = 0, frame = 24
 956              		@ frame_needed = 0, uses_anonymous_args = 0
  68:app/tasks/light_sensor/light_sensor.c ****   (void) argument; // Avoid unused parameter warning
 957              		.loc 1 68 38 is_stmt 0 view .LVU258
 958 0000 30B5     		push	{r4, r5, lr}
 959              	.LCFI11:
 960              		.cfi_def_cfa_offset 12
 961              		.cfi_offset 4, -12
 962              		.cfi_offset 5, -8
 963              		.cfi_offset 14, -4
 964 0002 89B0     		sub	sp, sp, #36
 965              	.LCFI12:
 966              		.cfi_def_cfa_offset 48
  69:app/tasks/light_sensor/light_sensor.c ****   message_t msg;
 967              		.loc 1 69 3 is_stmt 1 view .LVU259
ARM GAS  /tmp/ccOYh7Oz.s 			page 28


  70:app/tasks/light_sensor/light_sensor.c **** 
 968              		.loc 1 70 3 view .LVU260
  72:app/tasks/light_sensor/light_sensor.c **** 
 969              		.loc 1 72 3 view .LVU261
  72:app/tasks/light_sensor/light_sensor.c **** 
 970              		.loc 1 72 11 is_stmt 0 view .LVU262
 971 0004 1E4B     		ldr	r3, .L66
 972 0006 1B68     		ldr	r3, [r3]
  72:app/tasks/light_sensor/light_sensor.c **** 
 973              		.loc 1 72 3 view .LVU263
 974 0008 1E4A     		ldr	r2, .L66+4
 975 000a 1F49     		ldr	r1, .L66+8
 976 000c 9868     		ldr	r0, [r3, #8]
 977              	.LVL102:
  72:app/tasks/light_sensor/light_sensor.c **** 
 978              		.loc 1 72 3 view .LVU264
 979 000e FFF7FEFF 		bl	fprintf
 980              	.LVL103:
 981              	.L62:
  74:app/tasks/light_sensor/light_sensor.c ****     // Wait for messages from the queue
 982              		.loc 1 74 3 is_stmt 1 view .LVU265
  76:app/tasks/light_sensor/light_sensor.c ****       osStatus_t handleMessageStatus = LIGHT_SENS_Actor.super.messageHandler((actor_t *) &LIGHT_SEN
 983              		.loc 1 76 5 view .LVU266
  76:app/tasks/light_sensor/light_sensor.c ****       osStatus_t handleMessageStatus = LIGHT_SENS_Actor.super.messageHandler((actor_t *) &LIGHT_SEN
 984              		.loc 1 76 9 is_stmt 0 view .LVU267
 985 0012 4FF0FF33 		mov	r3, #-1
 986 0016 0022     		movs	r2, #0
 987 0018 02A9     		add	r1, sp, #8
 988 001a 1C48     		ldr	r0, .L66+12
 989 001c 8068     		ldr	r0, [r0, #8]
 990 001e FFF7FEFF 		bl	osMessageQueueGet
 991              	.LVL104:
  76:app/tasks/light_sensor/light_sensor.c ****       osStatus_t handleMessageStatus = LIGHT_SENS_Actor.super.messageHandler((actor_t *) &LIGHT_SEN
 992              		.loc 1 76 8 view .LVU268
 993 0022 0028     		cmp	r0, #0
 994 0024 F5D1     		bne	.L62
 995              	.LBB4:
  77:app/tasks/light_sensor/light_sensor.c **** 
 996              		.loc 1 77 7 is_stmt 1 view .LVU269
  77:app/tasks/light_sensor/light_sensor.c **** 
 997              		.loc 1 77 62 is_stmt 0 view .LVU270
 998 0026 1948     		ldr	r0, .L66+12
 999 0028 C368     		ldr	r3, [r0, #12]
  77:app/tasks/light_sensor/light_sensor.c **** 
 1000              		.loc 1 77 40 view .LVU271
 1001 002a 02A9     		add	r1, sp, #8
 1002 002c 9847     		blx	r3
 1003              	.LVL105:
  79:app/tasks/light_sensor/light_sensor.c ****         fprintf(stderr,  "%s: Error handling event %u in state %ul\n", lightSensorTaskDescription.n
 1004              		.loc 1 79 7 is_stmt 1 view .LVU272
  79:app/tasks/light_sensor/light_sensor.c ****         fprintf(stderr,  "%s: Error handling event %u in state %ul\n", lightSensorTaskDescription.n
 1005              		.loc 1 79 10 is_stmt 0 view .LVU273
 1006 002e 0028     		cmp	r0, #0
 1007 0030 EFD0     		beq	.L62
 1008              	.LBB5:
  80:app/tasks/light_sensor/light_sensor.c ****         osMessageQueueId_t evManagerQueue = ACTORS_LIST_SystemRegistry[EV_MANAGER_ACTOR_ID]->osMess
 1009              		.loc 1 80 9 is_stmt 1 view .LVU274
ARM GAS  /tmp/ccOYh7Oz.s 			page 29


  80:app/tasks/light_sensor/light_sensor.c ****         osMessageQueueId_t evManagerQueue = ACTORS_LIST_SystemRegistry[EV_MANAGER_ACTOR_ID]->osMess
 1010              		.loc 1 80 17 is_stmt 0 view .LVU275
 1011 0032 134D     		ldr	r5, .L66
 1012 0034 2B68     		ldr	r3, [r5]
 1013 0036 D868     		ldr	r0, [r3, #12]
 1014              	.LVL106:
  80:app/tasks/light_sensor/light_sensor.c ****         osMessageQueueId_t evManagerQueue = ACTORS_LIST_SystemRegistry[EV_MANAGER_ACTOR_ID]->osMess
 1015              		.loc 1 80 132 view .LVU276
 1016 0038 144C     		ldr	r4, .L66+12
 1017 003a 237C     		ldrb	r3, [r4, #16]	@ zero_extendqisi2
  80:app/tasks/light_sensor/light_sensor.c ****         osMessageQueueId_t evManagerQueue = ACTORS_LIST_SystemRegistry[EV_MANAGER_ACTOR_ID]->osMess
 1018              		.loc 1 80 9 view .LVU277
 1019 003c 0093     		str	r3, [sp]
 1020 003e 9DF80830 		ldrb	r3, [sp, #8]	@ zero_extendqisi2
 1021 0042 104A     		ldr	r2, .L66+4
 1022 0044 1249     		ldr	r1, .L66+16
 1023 0046 FFF7FEFF 		bl	fprintf
 1024              	.LVL107:
  81:app/tasks/light_sensor/light_sensor.c ****         osMessageQueuePut(evManagerQueue, &(message_t){GLOBAL_ERROR, .payload.value = LIGHT_SENSOR_
 1025              		.loc 1 81 9 is_stmt 1 view .LVU278
  81:app/tasks/light_sensor/light_sensor.c ****         osMessageQueuePut(evManagerQueue, &(message_t){GLOBAL_ERROR, .payload.value = LIGHT_SENSOR_
 1026              		.loc 1 81 71 is_stmt 0 view .LVU279
 1027 004a 124B     		ldr	r3, .L66+20
 1028 004c 5B68     		ldr	r3, [r3, #4]
  81:app/tasks/light_sensor/light_sensor.c ****         osMessageQueuePut(evManagerQueue, &(message_t){GLOBAL_ERROR, .payload.value = LIGHT_SENSOR_
 1029              		.loc 1 81 28 view .LVU280
 1030 004e 9868     		ldr	r0, [r3, #8]
 1031              	.LVL108:
  82:app/tasks/light_sensor/light_sensor.c ****         TO_STATE(&LIGHT_SENS_Actor, LIGHT_SENS_STATE_ERROR);
 1032              		.loc 1 82 9 is_stmt 1 view .LVU281
  82:app/tasks/light_sensor/light_sensor.c ****         TO_STATE(&LIGHT_SENS_Actor, LIGHT_SENS_STATE_ERROR);
 1033              		.loc 1 82 55 is_stmt 0 view .LVU282
 1034 0050 0022     		movs	r2, #0
 1035 0052 0592     		str	r2, [sp, #20]
 1036 0054 0692     		str	r2, [sp, #24]
 1037 0056 0792     		str	r2, [sp, #28]
 1038 0058 D223     		movs	r3, #210
 1039 005a 8DF81430 		strb	r3, [sp, #20]
 1040 005e 0723     		movs	r3, #7
 1041 0060 0693     		str	r3, [sp, #24]
  82:app/tasks/light_sensor/light_sensor.c ****         TO_STATE(&LIGHT_SENS_Actor, LIGHT_SENS_STATE_ERROR);
 1042              		.loc 1 82 9 view .LVU283
 1043 0062 1346     		mov	r3, r2
 1044 0064 05A9     		add	r1, sp, #20
 1045 0066 FFF7FEFF 		bl	osMessageQueuePut
 1046              	.LVL109:
  83:app/tasks/light_sensor/light_sensor.c ****       }
 1047              		.loc 1 83 9 is_stmt 1 view .LVU284
  83:app/tasks/light_sensor/light_sensor.c ****       }
 1048              		.loc 1 83 9 view .LVU285
 1049 006a 0423     		movs	r3, #4
 1050 006c 2374     		strb	r3, [r4, #16]
  83:app/tasks/light_sensor/light_sensor.c ****       }
 1051              		.loc 1 83 9 view .LVU286
 1052 006e 2868     		ldr	r0, [r5]
 1053 0070 094B     		ldr	r3, .L66+24
 1054 0072 2268     		ldr	r2, [r4]
ARM GAS  /tmp/ccOYh7Oz.s 			page 30


 1055 0074 0949     		ldr	r1, .L66+28
 1056 0076 8068     		ldr	r0, [r0, #8]
 1057 0078 FFF7FEFF 		bl	fprintf
 1058              	.LVL110:
  83:app/tasks/light_sensor/light_sensor.c ****       }
 1059              		.loc 1 83 9 view .LVU287
  83:app/tasks/light_sensor/light_sensor.c ****       }
 1060              		.loc 1 83 60 view .LVU288
 1061 007c C9E7     		b	.L62
 1062              	.L67:
 1063 007e 00BF     		.align	2
 1064              	.L66:
 1065 0080 00000000 		.word	_impure_ptr
 1066 0084 00000000 		.word	.LC8
 1067 0088 10000000 		.word	.LC9
 1068 008c 00000000 		.word	.LANCHOR0
 1069 0090 24000000 		.word	.LC10
 1070 0094 00000000 		.word	ACTORS_LIST_SystemRegistry
 1071 0098 50000000 		.word	.LC11
 1072 009c 4C000000 		.word	.LC3
 1073              	.LBE5:
 1074              	.LBE4:
 1075              		.cfi_endproc
 1076              	.LFE140:
 1078              		.section	.rodata.LIGHT_SENS_TaskInit.str1.4,"aMS",%progbits,1
 1079              		.align	2
 1080              	.LC12:
 1081 0000 6C696768 		.ascii	"lightSensorQueue\000"
 1081      7453656E 
 1081      736F7251 
 1081      75657565 
 1081      00
 1082              		.section	.text.LIGHT_SENS_TaskInit,"ax",%progbits
 1083              		.align	1
 1084              		.global	LIGHT_SENS_TaskInit
 1085              		.syntax unified
 1086              		.thumb
 1087              		.thumb_func
 1088              		.fpu fpv4-sp-d16
 1090              	LIGHT_SENS_TaskInit:
 1091              	.LFB139:
  54:app/tasks/light_sensor/light_sensor.c ****   LIGHT_SENS_Actor.super.osMessageQueueId = osMessageQueueNew(DEFAULT_QUEUE_SIZE, DEFAULT_QUEUE_MES
 1092              		.loc 1 54 36 view -0
 1093              		.cfi_startproc
 1094              		@ args = 0, pretend = 0, frame = 24
 1095              		@ frame_needed = 0, uses_anonymous_args = 0
 1096 0000 30B5     		push	{r4, r5, lr}
 1097              	.LCFI13:
 1098              		.cfi_def_cfa_offset 12
 1099              		.cfi_offset 4, -12
 1100              		.cfi_offset 5, -8
 1101              		.cfi_offset 14, -4
 1102 0002 87B0     		sub	sp, sp, #28
 1103              	.LCFI14:
 1104              		.cfi_def_cfa_offset 40
  55:app/tasks/light_sensor/light_sensor.c ****           .name = "lightSensorQueue"
 1105              		.loc 1 55 3 view .LVU290
ARM GAS  /tmp/ccOYh7Oz.s 			page 31


  55:app/tasks/light_sensor/light_sensor.c ****           .name = "lightSensorQueue"
 1106              		.loc 1 55 134 is_stmt 0 view .LVU291
 1107 0004 0024     		movs	r4, #0
 1108 0006 0094     		str	r4, [sp]
 1109 0008 0194     		str	r4, [sp, #4]
 1110 000a 0294     		str	r4, [sp, #8]
 1111 000c 0394     		str	r4, [sp, #12]
 1112 000e 0494     		str	r4, [sp, #16]
 1113 0010 0594     		str	r4, [sp, #20]
 1114 0012 094B     		ldr	r3, .L70
 1115 0014 0093     		str	r3, [sp]
  55:app/tasks/light_sensor/light_sensor.c ****           .name = "lightSensorQueue"
 1116              		.loc 1 55 45 view .LVU292
 1117 0016 6A46     		mov	r2, sp
 1118 0018 0C21     		movs	r1, #12
 1119 001a 0820     		movs	r0, #8
 1120 001c FFF7FEFF 		bl	osMessageQueueNew
 1121              	.LVL111:
  55:app/tasks/light_sensor/light_sensor.c ****           .name = "lightSensorQueue"
 1122              		.loc 1 55 43 view .LVU293
 1123 0020 064D     		ldr	r5, .L70+4
 1124 0022 A860     		str	r0, [r5, #8]
  58:app/tasks/light_sensor/light_sensor.c **** 
 1125              		.loc 1 58 3 is_stmt 1 view .LVU294
  58:app/tasks/light_sensor/light_sensor.c **** 
 1126              		.loc 1 58 39 is_stmt 0 view .LVU295
 1127 0024 064A     		ldr	r2, .L70+8
 1128 0026 2146     		mov	r1, r4
 1129 0028 0648     		ldr	r0, .L70+12
 1130 002a FFF7FEFF 		bl	osThreadNew
 1131              	.LVL112:
  58:app/tasks/light_sensor/light_sensor.c **** 
 1132              		.loc 1 58 37 view .LVU296
 1133 002e 6860     		str	r0, [r5, #4]
  60:app/tasks/light_sensor/light_sensor.c **** }
 1134              		.loc 1 60 3 is_stmt 1 view .LVU297
  61:app/tasks/light_sensor/light_sensor.c **** 
 1135              		.loc 1 61 1 is_stmt 0 view .LVU298
 1136 0030 2846     		mov	r0, r5
 1137 0032 07B0     		add	sp, sp, #28
 1138              	.LCFI15:
 1139              		.cfi_def_cfa_offset 12
 1140              		@ sp needed
 1141 0034 30BD     		pop	{r4, r5, pc}
 1142              	.L71:
 1143 0036 00BF     		.align	2
 1144              	.L70:
 1145 0038 00000000 		.word	.LC12
 1146 003c 00000000 		.word	.LANCHOR0
 1147 0040 00000000 		.word	.LANCHOR1
 1148 0044 00000000 		.word	LIGHT_SENS_Task
 1149              		.cfi_endproc
 1150              	.LFE139:
 1152              		.global	lightSensorTaskDescription
 1153              		.global	lightSensorTaskControlBlock
 1154              		.global	lightSensorTaskBuffer
 1155              		.global	LIGHT_SENS_Actor
ARM GAS  /tmp/ccOYh7Oz.s 			page 32


 1156              		.section	.bss.lightSensorTaskBuffer,"aw",%nobits
 1157              		.align	2
 1160              	lightSensorTaskBuffer:
 1161 0000 00000000 		.space	512
 1161      00000000 
 1161      00000000 
 1161      00000000 
 1161      00000000 
 1162              		.section	.bss.lightSensorTaskControlBlock,"aw",%nobits
 1163              		.align	2
 1166              	lightSensorTaskControlBlock:
 1167 0000 00000000 		.space	92
 1167      00000000 
 1167      00000000 
 1167      00000000 
 1167      00000000 
 1168              		.section	.data.LIGHT_SENS_Actor,"aw"
 1169              		.align	2
 1170              		.set	.LANCHOR0,. + 0
 1173              	LIGHT_SENS_Actor:
 1174 0000 07000000 		.word	7
 1175 0004 00000000 		.word	0
 1176 0008 00000000 		.word	0
 1177 000c 00000000 		.word	handleLightSensorFSM
 1178 0010 00       		.byte	0
 1179 0011 00       		.space	1
 1180 0012 0000     		.short	0
 1181 0014 FFFF     		.short	-1
 1182 0016 0000     		.space	2
 1183              		.section	.rodata.lightSensorTaskDescription,"a"
 1184              		.align	2
 1185              		.set	.LANCHOR1,. + 0
 1188              	lightSensorTaskDescription:
 1189 0000 00000000 		.word	.LC8
 1190 0004 00000000 		.space	4
 1191 0008 00000000 		.word	lightSensorTaskControlBlock
 1192 000c 5C000000 		.word	92
 1193 0010 00000000 		.word	lightSensorTaskBuffer
 1194 0014 00020000 		.word	512
 1195 0018 18000000 		.word	24
 1196 001c 00000000 		.space	8
 1196      00000000 
 1197              		.text
 1198              	.Letext0:
 1199              		.file 2 "/usr/include/newlib/machine/_default_types.h"
 1200              		.file 3 "/usr/lib/gcc/arm-none-eabi/10.3.1/include/stddef.h"
 1201              		.file 4 "/usr/include/newlib/sys/_types.h"
 1202              		.file 5 "/usr/include/newlib/sys/reent.h"
 1203              		.file 6 "/usr/include/newlib/sys/lock.h"
 1204              		.file 7 "/usr/include/newlib/sys/_stdint.h"
 1205              		.file 8 "/usr/include/newlib/sys/types.h"
 1206              		.file 9 "Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS_V2/cmsis_os2.h"
 1207              		.file 10 "app/core/actor/../../config/events_list/events_list.h"
 1208              		.file 11 "app/core/actor/../../config/actors_list/actors_list.h"
 1209              		.file 12 "app/core/actor/actor.h"
 1210              		.file 13 "Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h"
 1211              		.file 14 "Middlewares/Third_Party/FreeRTOS/Source/include/FreeRTOS.h"
ARM GAS  /tmp/ccOYh7Oz.s 			page 33


 1212              		.file 15 "app/tasks/light_sensor/light_sensor.h"
 1213              		.file 16 "app/drivers/opt3001/opt3001.h"
 1214              		.file 17 "/usr/include/newlib/stdio.h"
ARM GAS  /tmp/ccOYh7Oz.s 			page 34


DEFINED SYMBOLS
                            *ABS*:0000000000000000 light_sensor.c
     /tmp/ccOYh7Oz.s:18     .rodata.handleInit.str1.4:0000000000000000 $d
     /tmp/ccOYh7Oz.s:31     .text.handleInit:0000000000000000 $t
     /tmp/ccOYh7Oz.s:38     .text.handleInit:0000000000000000 handleInit
     /tmp/ccOYh7Oz.s:207    .text.handleInit:00000000000000a8 $d
     /tmp/ccOYh7Oz.s:220    .rodata.handleOutOfRange.str1.4:0000000000000000 $d
     /tmp/ccOYh7Oz.s:227    .text.handleOutOfRange:0000000000000000 $t
     /tmp/ccOYh7Oz.s:233    .text.handleOutOfRange:0000000000000000 handleOutOfRange
     /tmp/ccOYh7Oz.s:404    .text.handleOutOfRange:00000000000000a4 $d
     /tmp/ccOYh7Oz.s:413    .rodata.handleTurnedOff.str1.4:0000000000000000 $d
     /tmp/ccOYh7Oz.s:417    .text.handleTurnedOff:0000000000000000 $t
     /tmp/ccOYh7Oz.s:423    .text.handleTurnedOff:0000000000000000 handleTurnedOff
     /tmp/ccOYh7Oz.s:609    .text.handleTurnedOff:00000000000000c0 $d
     /tmp/ccOYh7Oz.s:618    .rodata.handleContinuousMeasure.str1.4:0000000000000000 $d
     /tmp/ccOYh7Oz.s:622    .text.handleContinuousMeasure:0000000000000000 $t
     /tmp/ccOYh7Oz.s:628    .text.handleContinuousMeasure:0000000000000000 handleContinuousMeasure
     /tmp/ccOYh7Oz.s:843    .text.handleContinuousMeasure:00000000000000dc $d
     /tmp/ccOYh7Oz.s:855    .text.handleLightSensorFSM:0000000000000000 $t
     /tmp/ccOYh7Oz.s:861    .text.handleLightSensorFSM:0000000000000000 handleLightSensorFSM
     /tmp/ccOYh7Oz.s:882    .text.handleLightSensorFSM:000000000000000c $d
     /tmp/ccOYh7Oz.s:886    .text.handleLightSensorFSM:0000000000000010 $t
     /tmp/ccOYh7Oz.s:930    .rodata.LIGHT_SENS_Task.str1.4:0000000000000000 $d
     /tmp/ccOYh7Oz.s:943    .text.LIGHT_SENS_Task:0000000000000000 $t
     /tmp/ccOYh7Oz.s:950    .text.LIGHT_SENS_Task:0000000000000000 LIGHT_SENS_Task
     /tmp/ccOYh7Oz.s:1065   .text.LIGHT_SENS_Task:0000000000000080 $d
     /tmp/ccOYh7Oz.s:1079   .rodata.LIGHT_SENS_TaskInit.str1.4:0000000000000000 $d
     /tmp/ccOYh7Oz.s:1083   .text.LIGHT_SENS_TaskInit:0000000000000000 $t
     /tmp/ccOYh7Oz.s:1090   .text.LIGHT_SENS_TaskInit:0000000000000000 LIGHT_SENS_TaskInit
     /tmp/ccOYh7Oz.s:1145   .text.LIGHT_SENS_TaskInit:0000000000000038 $d
     /tmp/ccOYh7Oz.s:1188   .rodata.lightSensorTaskDescription:0000000000000000 lightSensorTaskDescription
     /tmp/ccOYh7Oz.s:1166   .bss.lightSensorTaskControlBlock:0000000000000000 lightSensorTaskControlBlock
     /tmp/ccOYh7Oz.s:1160   .bss.lightSensorTaskBuffer:0000000000000000 lightSensorTaskBuffer
     /tmp/ccOYh7Oz.s:1173   .data.LIGHT_SENS_Actor:0000000000000000 LIGHT_SENS_Actor
     /tmp/ccOYh7Oz.s:1157   .bss.lightSensorTaskBuffer:0000000000000000 $d
     /tmp/ccOYh7Oz.s:1163   .bss.lightSensorTaskControlBlock:0000000000000000 $d
     /tmp/ccOYh7Oz.s:1169   .data.LIGHT_SENS_Actor:0000000000000000 $d
     /tmp/ccOYh7Oz.s:1184   .rodata.lightSensorTaskDescription:0000000000000000 $d

UNDEFINED SYMBOLS
OPT3001_InitIO
OPT3001_ReadDeviceID
fprintf
OPT3001_WriteConfig
OPT3001_WriteHighLimit
OPT3001_WriteLowLimit
osMessageQueuePut
I2C_ReadReg
I2C_WriteReg
_impure_ptr
ACTORS_LIST_SystemRegistry
OPT3001_ReadResultRawLux
osDelay
OPT3001_RawToMilliLux
osMessageQueueGet
osMessageQueueNew
osThreadNew
ARM GAS  /tmp/ccOYh7Oz.s 			page 35


