ARM GAS  /tmp/ccc9MKwa.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"memory.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.handleMemoryFSM,"ax",%progbits
  18              		.align	1
  19              		.arch armv7e-m
  20              		.syntax unified
  21              		.thumb
  22              		.thumb_func
  23              		.fpu fpv4-sp-d16
  25              	handleMemoryFSM:
  26              	.LVL0:
  27              	.LFB142:
  28              		.file 1 "app/tasks/memory/memory.c"
   1:app/tasks/memory/memory.c **** /*!
   2:app/tasks/memory/memory.c ****  * @file memory.c
   3:app/tasks/memory/memory.c ****  * @brief implementation of memory
   4:app/tasks/memory/memory.c ****  *
   5:app/tasks/memory/memory.c ****  * Detailed description of the implementation file.
   6:app/tasks/memory/memory.c ****  *
   7:app/tasks/memory/memory.c ****  * @date 14/08/2024
   8:app/tasks/memory/memory.c ****  * @author artempolisskyi
   9:app/tasks/memory/memory.c ****  */
  10:app/tasks/memory/memory.c **** 
  11:app/tasks/memory/memory.c **** #include "memory.h"
  12:app/tasks/memory/memory.c **** #include "usbd_msc.h"
  13:app/tasks/memory/memory.c **** 
  14:app/tasks/memory/memory.c **** static osStatus_t handleMemoryFSM(MEMORY_Actor_t *this, message_t *message);
  15:app/tasks/memory/memory.c **** 
  16:app/tasks/memory/memory.c **** extern actor_t* ACTORS_LIST_SystemRegistry[MAX_ACTORS];
  17:app/tasks/memory/memory.c **** extern uint8_t FAT12_BootSector[FAT12_BOOT_SECTOR_SIZE];
  18:app/tasks/memory/memory.c **** 
  19:app/tasks/memory/memory.c **** extern USBD_StorageTypeDef USBD_Storage_Interface_fops_FS;
  20:app/tasks/memory/memory.c **** 
  21:app/tasks/memory/memory.c **** //uint8_t dummyToRead[512] = {0};
  22:app/tasks/memory/memory.c **** 
  23:app/tasks/memory/memory.c **** /**
  24:app/tasks/memory/memory.c ****  * @brief Memory actor struct representing NOR Flash storage
  25:app/tasks/memory/memory.c ****  * @extends actor_t
  26:app/tasks/memory/memory.c ****  */
  27:app/tasks/memory/memory.c **** MEMORY_Actor_t MEMORY_Actor = {
  28:app/tasks/memory/memory.c ****         .super = {
  29:app/tasks/memory/memory.c ****                 .actorId = MEMORY_ACTOR_ID,
  30:app/tasks/memory/memory.c ****                 .messageHandler = (messageHandler_t) handleMemoryFSM,
ARM GAS  /tmp/ccc9MKwa.s 			page 2


  31:app/tasks/memory/memory.c ****                 .osMessageQueueId = NULL,
  32:app/tasks/memory/memory.c ****                 .osThreadId = NULL,
  33:app/tasks/memory/memory.c ****         },
  34:app/tasks/memory/memory.c ****         .state = MEMORY_NO_STATE
  35:app/tasks/memory/memory.c **** };
  36:app/tasks/memory/memory.c **** 
  37:app/tasks/memory/memory.c **** // task description required for static task creation
  38:app/tasks/memory/memory.c **** uint32_t memoryTaskBuffer[DEFAULT_TASK_STACK_SIZE_WORDS];
  39:app/tasks/memory/memory.c **** StaticTask_t memoryTaskControlBlock;
  40:app/tasks/memory/memory.c **** const osThreadAttr_t memoryTaskDescription = {
  41:app/tasks/memory/memory.c ****         .name = "memoryTask",
  42:app/tasks/memory/memory.c ****         .cb_mem = &memoryTaskControlBlock,
  43:app/tasks/memory/memory.c ****         .cb_size = sizeof(memoryTaskControlBlock),
  44:app/tasks/memory/memory.c ****         .stack_mem = &memoryTaskBuffer[0],
  45:app/tasks/memory/memory.c ****         .stack_size = sizeof(memoryTaskBuffer),
  46:app/tasks/memory/memory.c ****         .priority = (osPriority_t) osPriorityNormal,
  47:app/tasks/memory/memory.c **** };
  48:app/tasks/memory/memory.c **** 
  49:app/tasks/memory/memory.c **** W25Q_HandleTypeDef MEMORY_W25QHandle = {
  50:app/tasks/memory/memory.c ****         .hqspi = &hqspi,
  51:app/tasks/memory/memory.c ****         .geometry = {
  52:app/tasks/memory/memory.c ****                 .flashSize      = W25Q64JV_FLASH_SIZE,
  53:app/tasks/memory/memory.c ****                 .sectorSize     = W25Q64JV_SECTOR_SIZE,
  54:app/tasks/memory/memory.c ****                 .subSectorSize  = W25Q64JV_SUBSECTOR_SIZE,
  55:app/tasks/memory/memory.c ****                 .pageSize       = W25Q64JV_PAGE_SIZE,
  56:app/tasks/memory/memory.c ****                 .blockSize32K   = W25Q64JV_BLOCK_SIZE_32K,
  57:app/tasks/memory/memory.c ****                 .blockSize64K   = W25Q64JV_BLOCK_SIZE_64K
  58:app/tasks/memory/memory.c ****         },
  59:app/tasks/memory/memory.c ****         .status.status1Reg      = 0x00,
  60:app/tasks/memory/memory.c ****         .busyWaitCycles         = FLASH_BUSY_WAIT_CYCLES
  61:app/tasks/memory/memory.c **** };
  62:app/tasks/memory/memory.c **** 
  63:app/tasks/memory/memory.c **** /**
  64:app/tasks/memory/memory.c ****  * @brief Initializes the Memory Sensor task.
  65:app/tasks/memory/memory.c ****  * @return {actor_t*} - pointer to the actor base struct
  66:app/tasks/memory/memory.c ****  */
  67:app/tasks/memory/memory.c **** actor_t* MEMORY_TaskInit(void) {
  68:app/tasks/memory/memory.c ****   MEMORY_Actor.super.osMessageQueueId = osMessageQueueNew(DEFAULT_QUEUE_SIZE, DEFAULT_QUEUE_MESSAGE
  69:app/tasks/memory/memory.c ****           .name = "memoryQueue"
  70:app/tasks/memory/memory.c ****   });
  71:app/tasks/memory/memory.c ****   MEMORY_Actor.super.osThreadId = osThreadNew(MEMORY_Task, NULL, &memoryTaskDescription);
  72:app/tasks/memory/memory.c **** 
  73:app/tasks/memory/memory.c ****   return (actor_t*) &MEMORY_Actor;
  74:app/tasks/memory/memory.c **** }
  75:app/tasks/memory/memory.c **** 
  76:app/tasks/memory/memory.c **** /**
  77:app/tasks/memory/memory.c ****  * @brief Memory (NOR Flash) task
  78:app/tasks/memory/memory.c ****  * Waits for message from the queue and proceed it in FSM
  79:app/tasks/memory/memory.c ****  * Enters ERROR state if message handling failed
  80:app/tasks/memory/memory.c ****  */
  81:app/tasks/memory/memory.c **** void MEMORY_Task(void *argument) {
  82:app/tasks/memory/memory.c ****   (void) argument; // Avoid unused parameter warning
  83:app/tasks/memory/memory.c ****   message_t msg;
  84:app/tasks/memory/memory.c **** 
  85:app/tasks/memory/memory.c **** //  HAL_StatusTypeDef status = HAL_OK;
  86:app/tasks/memory/memory.c **** //  uint8_t id[W25Q_ID_SIZE] = {0x00, 0x00 };
  87:app/tasks/memory/memory.c **** //  const char *dummyToWrite = "Hello, World!";
ARM GAS  /tmp/ccc9MKwa.s 			page 3


  88:app/tasks/memory/memory.c **** //
  89:app/tasks/memory/memory.c **** //  status = W25Q_EraseSector(&MEMORY_W25QHandle, 0);
  90:app/tasks/memory/memory.c **** //  if (status != HAL_OK) {
  91:app/tasks/memory/memory.c **** //    fprintf(stderr, "memory error");
  92:app/tasks/memory/memory.c **** //  }
  93:app/tasks/memory/memory.c **** //
  94:app/tasks/memory/memory.c **** //  status = W25Q_WritePageData(&MEMORY_W25QHandle, (uint8_t *)dummyToWrite, 0, 13);
  95:app/tasks/memory/memory.c **** //  if (status != HAL_OK) {
  96:app/tasks/memory/memory.c **** //    fprintf(stderr, "memory error");
  97:app/tasks/memory/memory.c **** //  }
  98:app/tasks/memory/memory.c **** //
  99:app/tasks/memory/memory.c **** //  status = W25Q_ReadData(&MEMORY_W25QHandle, dummyToRead, 0, 16);
 100:app/tasks/memory/memory.c **** //  if (status != HAL_OK) {
 101:app/tasks/memory/memory.c **** //    fprintf(stderr, "memory error");
 102:app/tasks/memory/memory.c **** //  }
 103:app/tasks/memory/memory.c **** //
 104:app/tasks/memory/memory.c **** //  status = W25Q_ReadStatusReg(&MEMORY_W25QHandle);
 105:app/tasks/memory/memory.c **** 
 106:app/tasks/memory/memory.c ****   // init usb msd TODO move to more suitable place
 107:app/tasks/memory/memory.c ****   HAL_StatusTypeDef status = W25Q_EraseChip(&MEMORY_W25QHandle);
 108:app/tasks/memory/memory.c ****   if (status != HAL_OK)
 109:app/tasks/memory/memory.c ****     fprintf(stderr, "memory error");
 110:app/tasks/memory/memory.c **** 
 111:app/tasks/memory/memory.c ****   status = W25Q_WriteData(&MEMORY_W25QHandle, FAT12_BootSector, 0, FAT12_BOOT_SECTOR_SIZE);
 112:app/tasks/memory/memory.c ****   if (status != HAL_OK)
 113:app/tasks/memory/memory.c ****     fprintf(stderr, "memory error");
 114:app/tasks/memory/memory.c **** 
 115:app/tasks/memory/memory.c **** 
 116:app/tasks/memory/memory.c **** //  status = W25Q_ReadData(&MEMORY_W25QHandle, dummyToRead, 0, 512);
 117:app/tasks/memory/memory.c **** //  if (status != HAL_OK) {
 118:app/tasks/memory/memory.c **** //    fprintf(stderr, "memory error");
 119:app/tasks/memory/memory.c **** //  }
 120:app/tasks/memory/memory.c **** 
 121:app/tasks/memory/memory.c **** 
 122:app/tasks/memory/memory.c ****   #ifdef DEBUG
 123:app/tasks/memory/memory.c ****     fprintf(stdout, "Memory task initialized\n");
 124:app/tasks/memory/memory.c ****   #endif
 125:app/tasks/memory/memory.c **** 
 126:app/tasks/memory/memory.c ****   for (;;) {
 127:app/tasks/memory/memory.c ****     // Wait for messages from the queue
 128:app/tasks/memory/memory.c ****     if (osMessageQueueGet(MEMORY_Actor.super.osMessageQueueId, &msg, NULL, osWaitForever) == osOK) 
 129:app/tasks/memory/memory.c ****       osStatus_t status = MEMORY_Actor.super.messageHandler((actor_t *) &MEMORY_Actor, &msg);
 130:app/tasks/memory/memory.c **** 
 131:app/tasks/memory/memory.c ****       if (status != osOK) {
 132:app/tasks/memory/memory.c ****         osMessageQueueId_t evManagerQueue = ACTORS_LIST_SystemRegistry[EV_MANAGER_ACTOR_ID]->osMess
 133:app/tasks/memory/memory.c ****         osMessageQueuePut(evManagerQueue, &(message_t){GLOBAL_ERROR, .payload.value = MEMORY_ACTOR_
 134:app/tasks/memory/memory.c ****         TO_STATE(&MEMORY_Actor, MEMORY_STATE_ERROR);
 135:app/tasks/memory/memory.c ****       }
 136:app/tasks/memory/memory.c ****     }
 137:app/tasks/memory/memory.c ****   }
 138:app/tasks/memory/memory.c **** }
 139:app/tasks/memory/memory.c **** 
 140:app/tasks/memory/memory.c **** static osStatus_t handleMemoryFSM(MEMORY_Actor_t *this, message_t *message) {
  29              		.loc 1 140 77 view -0
  30              		.cfi_startproc
  31              		@ args = 0, pretend = 0, frame = 0
  32              		@ frame_needed = 0, uses_anonymous_args = 0
ARM GAS  /tmp/ccc9MKwa.s 			page 4


  33              		@ link register save eliminated.
 141:app/tasks/memory/memory.c ****   return osOK;
  34              		.loc 1 141 3 view .LVU1
 142:app/tasks/memory/memory.c **** }
  35              		.loc 1 142 1 is_stmt 0 view .LVU2
  36 0000 0020     		movs	r0, #0
  37              	.LVL1:
  38              		.loc 1 142 1 view .LVU3
  39 0002 7047     		bx	lr
  40              		.cfi_endproc
  41              	.LFE142:
  43              		.section	.rodata.MEMORY_Task.str1.4,"aMS",%progbits,1
  44              		.align	2
  45              	.LC0:
  46 0000 6D656D6F 		.ascii	"memory error\000"
  46      72792065 
  46      72726F72 
  46      00
  47 000d 000000   		.align	2
  48              	.LC1:
  49 0010 4D656D6F 		.ascii	"Memory task initialized\012\000"
  49      72792074 
  49      61736B20 
  49      696E6974 
  49      69616C69 
  50 0029 000000   		.align	2
  51              	.LC2:
  52 002c 4D454D4F 		.ascii	"MEMORY_STATE_ERROR\000"
  52      52595F53 
  52      54415445 
  52      5F455252 
  52      4F5200
  53 003f 00       		.align	2
  54              	.LC3:
  55 0040 256C753A 		.ascii	"%lu: %s\012\000"
  55      2025730A 
  55      00
  56              		.section	.text.MEMORY_Task,"ax",%progbits
  57              		.align	1
  58              		.global	MEMORY_Task
  59              		.syntax unified
  60              		.thumb
  61              		.thumb_func
  62              		.fpu fpv4-sp-d16
  64              	MEMORY_Task:
  65              	.LVL2:
  66              	.LFB141:
  81:app/tasks/memory/memory.c ****   (void) argument; // Avoid unused parameter warning
  67              		.loc 1 81 34 is_stmt 1 view -0
  68              		.cfi_startproc
  69              		@ args = 0, pretend = 0, frame = 24
  70              		@ frame_needed = 0, uses_anonymous_args = 0
  81:app/tasks/memory/memory.c ****   (void) argument; // Avoid unused parameter warning
  71              		.loc 1 81 34 is_stmt 0 view .LVU5
  72 0000 00B5     		push	{lr}
  73              	.LCFI0:
  74              		.cfi_def_cfa_offset 4
ARM GAS  /tmp/ccc9MKwa.s 			page 5


  75              		.cfi_offset 14, -4
  76 0002 87B0     		sub	sp, sp, #28
  77              	.LCFI1:
  78              		.cfi_def_cfa_offset 32
  82:app/tasks/memory/memory.c ****   message_t msg;
  79              		.loc 1 82 3 is_stmt 1 view .LVU6
  83:app/tasks/memory/memory.c **** 
  80              		.loc 1 83 3 view .LVU7
 107:app/tasks/memory/memory.c ****   if (status != HAL_OK)
  81              		.loc 1 107 3 view .LVU8
 107:app/tasks/memory/memory.c ****   if (status != HAL_OK)
  82              		.loc 1 107 30 is_stmt 0 view .LVU9
  83 0004 2948     		ldr	r0, .L11
  84              	.LVL3:
 107:app/tasks/memory/memory.c ****   if (status != HAL_OK)
  85              		.loc 1 107 30 view .LVU10
  86 0006 FFF7FEFF 		bl	W25Q_EraseChip
  87              	.LVL4:
 108:app/tasks/memory/memory.c ****     fprintf(stderr, "memory error");
  88              		.loc 1 108 3 is_stmt 1 view .LVU11
 108:app/tasks/memory/memory.c ****     fprintf(stderr, "memory error");
  89              		.loc 1 108 6 is_stmt 0 view .LVU12
  90 000a 0028     		cmp	r0, #0
  91 000c 3CD1     		bne	.L9
  92              	.LVL5:
  93              	.L3:
 111:app/tasks/memory/memory.c ****   if (status != HAL_OK)
  94              		.loc 1 111 3 is_stmt 1 view .LVU13
 111:app/tasks/memory/memory.c ****   if (status != HAL_OK)
  95              		.loc 1 111 12 is_stmt 0 view .LVU14
  96 000e 4FF49053 		mov	r3, #4608
  97 0012 0022     		movs	r2, #0
  98 0014 2649     		ldr	r1, .L11+4
  99 0016 2548     		ldr	r0, .L11
 100 0018 FFF7FEFF 		bl	W25Q_WriteData
 101              	.LVL6:
 112:app/tasks/memory/memory.c ****     fprintf(stderr, "memory error");
 102              		.loc 1 112 3 is_stmt 1 view .LVU15
 112:app/tasks/memory/memory.c ****     fprintf(stderr, "memory error");
 103              		.loc 1 112 6 is_stmt 0 view .LVU16
 104 001c 0028     		cmp	r0, #0
 105 001e 3CD1     		bne	.L10
 106              	.LVL7:
 107              	.L4:
 123:app/tasks/memory/memory.c ****   #endif
 108              		.loc 1 123 5 is_stmt 1 view .LVU17
 123:app/tasks/memory/memory.c ****   #endif
 109              		.loc 1 123 13 is_stmt 0 view .LVU18
 110 0020 244B     		ldr	r3, .L11+8
 111 0022 1B68     		ldr	r3, [r3]
 123:app/tasks/memory/memory.c ****   #endif
 112              		.loc 1 123 5 view .LVU19
 113 0024 9B68     		ldr	r3, [r3, #8]
 114 0026 1822     		movs	r2, #24
 115 0028 0121     		movs	r1, #1
 116 002a 2348     		ldr	r0, .L11+12
 117 002c FFF7FEFF 		bl	fwrite
ARM GAS  /tmp/ccc9MKwa.s 			page 6


 118              	.LVL8:
 119              	.L5:
 126:app/tasks/memory/memory.c ****     // Wait for messages from the queue
 120              		.loc 1 126 3 is_stmt 1 view .LVU20
 128:app/tasks/memory/memory.c ****       osStatus_t status = MEMORY_Actor.super.messageHandler((actor_t *) &MEMORY_Actor, &msg);
 121              		.loc 1 128 5 view .LVU21
 128:app/tasks/memory/memory.c ****       osStatus_t status = MEMORY_Actor.super.messageHandler((actor_t *) &MEMORY_Actor, &msg);
 122              		.loc 1 128 9 is_stmt 0 view .LVU22
 123 0030 4FF0FF33 		mov	r3, #-1
 124 0034 0022     		movs	r2, #0
 125 0036 6946     		mov	r1, sp
 126 0038 2048     		ldr	r0, .L11+16
 127 003a 8068     		ldr	r0, [r0, #8]
 128 003c FFF7FEFF 		bl	osMessageQueueGet
 129              	.LVL9:
 128:app/tasks/memory/memory.c ****       osStatus_t status = MEMORY_Actor.super.messageHandler((actor_t *) &MEMORY_Actor, &msg);
 130              		.loc 1 128 8 view .LVU23
 131 0040 0028     		cmp	r0, #0
 132 0042 F5D1     		bne	.L5
 133              	.LBB2:
 129:app/tasks/memory/memory.c **** 
 134              		.loc 1 129 7 is_stmt 1 view .LVU24
 129:app/tasks/memory/memory.c **** 
 135              		.loc 1 129 45 is_stmt 0 view .LVU25
 136 0044 1D48     		ldr	r0, .L11+16
 137 0046 C368     		ldr	r3, [r0, #12]
 129:app/tasks/memory/memory.c **** 
 138              		.loc 1 129 27 view .LVU26
 139 0048 6946     		mov	r1, sp
 140 004a 9847     		blx	r3
 141              	.LVL10:
 131:app/tasks/memory/memory.c ****         osMessageQueueId_t evManagerQueue = ACTORS_LIST_SystemRegistry[EV_MANAGER_ACTOR_ID]->osMess
 142              		.loc 1 131 7 is_stmt 1 view .LVU27
 131:app/tasks/memory/memory.c ****         osMessageQueueId_t evManagerQueue = ACTORS_LIST_SystemRegistry[EV_MANAGER_ACTOR_ID]->osMess
 143              		.loc 1 131 10 is_stmt 0 view .LVU28
 144 004c 0028     		cmp	r0, #0
 145 004e EFD0     		beq	.L5
 146              	.LBB3:
 132:app/tasks/memory/memory.c ****         osMessageQueuePut(evManagerQueue, &(message_t){GLOBAL_ERROR, .payload.value = MEMORY_ACTOR_
 147              		.loc 1 132 9 is_stmt 1 view .LVU29
 132:app/tasks/memory/memory.c ****         osMessageQueuePut(evManagerQueue, &(message_t){GLOBAL_ERROR, .payload.value = MEMORY_ACTOR_
 148              		.loc 1 132 71 is_stmt 0 view .LVU30
 149 0050 1B4B     		ldr	r3, .L11+20
 150 0052 5B68     		ldr	r3, [r3, #4]
 132:app/tasks/memory/memory.c ****         osMessageQueuePut(evManagerQueue, &(message_t){GLOBAL_ERROR, .payload.value = MEMORY_ACTOR_
 151              		.loc 1 132 28 view .LVU31
 152 0054 9868     		ldr	r0, [r3, #8]
 153              	.LVL11:
 133:app/tasks/memory/memory.c ****         TO_STATE(&MEMORY_Actor, MEMORY_STATE_ERROR);
 154              		.loc 1 133 9 is_stmt 1 view .LVU32
 133:app/tasks/memory/memory.c ****         TO_STATE(&MEMORY_Actor, MEMORY_STATE_ERROR);
 155              		.loc 1 133 55 is_stmt 0 view .LVU33
 156 0056 0022     		movs	r2, #0
 157 0058 0392     		str	r2, [sp, #12]
 158 005a 0492     		str	r2, [sp, #16]
 159 005c 0592     		str	r2, [sp, #20]
 160 005e 0C23     		movs	r3, #12
ARM GAS  /tmp/ccc9MKwa.s 			page 7


 161 0060 8DF80C30 		strb	r3, [sp, #12]
 162 0064 0823     		movs	r3, #8
 163 0066 0493     		str	r3, [sp, #16]
 133:app/tasks/memory/memory.c ****         TO_STATE(&MEMORY_Actor, MEMORY_STATE_ERROR);
 164              		.loc 1 133 9 view .LVU34
 165 0068 1346     		mov	r3, r2
 166 006a 03A9     		add	r1, sp, #12
 167 006c FFF7FEFF 		bl	osMessageQueuePut
 168              	.LVL12:
 134:app/tasks/memory/memory.c ****       }
 169              		.loc 1 134 9 is_stmt 1 view .LVU35
 134:app/tasks/memory/memory.c ****       }
 170              		.loc 1 134 9 view .LVU36
 171 0070 124A     		ldr	r2, .L11+16
 172 0072 0123     		movs	r3, #1
 173 0074 1374     		strb	r3, [r2, #16]
 134:app/tasks/memory/memory.c ****       }
 174              		.loc 1 134 9 view .LVU37
 175 0076 0F4B     		ldr	r3, .L11+8
 176 0078 1868     		ldr	r0, [r3]
 177 007a 124B     		ldr	r3, .L11+24
 178 007c 1268     		ldr	r2, [r2]
 179 007e 1249     		ldr	r1, .L11+28
 180 0080 8068     		ldr	r0, [r0, #8]
 181 0082 FFF7FEFF 		bl	fprintf
 182              	.LVL13:
 134:app/tasks/memory/memory.c ****       }
 183              		.loc 1 134 9 view .LVU38
 134:app/tasks/memory/memory.c ****       }
 184              		.loc 1 134 52 view .LVU39
 185 0086 D3E7     		b	.L5
 186              	.LVL14:
 187              	.L9:
 134:app/tasks/memory/memory.c ****       }
 188              		.loc 1 134 52 is_stmt 0 view .LVU40
 189              	.LBE3:
 190              	.LBE2:
 109:app/tasks/memory/memory.c **** 
 191              		.loc 1 109 5 is_stmt 1 view .LVU41
 109:app/tasks/memory/memory.c **** 
 192              		.loc 1 109 13 is_stmt 0 view .LVU42
 193 0088 0A4B     		ldr	r3, .L11+8
 194 008a 1B68     		ldr	r3, [r3]
 109:app/tasks/memory/memory.c **** 
 195              		.loc 1 109 5 view .LVU43
 196 008c DB68     		ldr	r3, [r3, #12]
 197 008e 0C22     		movs	r2, #12
 198 0090 0121     		movs	r1, #1
 199 0092 0E48     		ldr	r0, .L11+32
 200              	.LVL15:
 109:app/tasks/memory/memory.c **** 
 201              		.loc 1 109 5 view .LVU44
 202 0094 FFF7FEFF 		bl	fwrite
 203              	.LVL16:
 204 0098 B9E7     		b	.L3
 205              	.LVL17:
 206              	.L10:
ARM GAS  /tmp/ccc9MKwa.s 			page 8


 113:app/tasks/memory/memory.c **** 
 207              		.loc 1 113 5 is_stmt 1 view .LVU45
 113:app/tasks/memory/memory.c **** 
 208              		.loc 1 113 13 is_stmt 0 view .LVU46
 209 009a 064B     		ldr	r3, .L11+8
 210 009c 1B68     		ldr	r3, [r3]
 113:app/tasks/memory/memory.c **** 
 211              		.loc 1 113 5 view .LVU47
 212 009e DB68     		ldr	r3, [r3, #12]
 213 00a0 0C22     		movs	r2, #12
 214 00a2 0121     		movs	r1, #1
 215 00a4 0948     		ldr	r0, .L11+32
 216              	.LVL18:
 113:app/tasks/memory/memory.c **** 
 217              		.loc 1 113 5 view .LVU48
 218 00a6 FFF7FEFF 		bl	fwrite
 219              	.LVL19:
 220 00aa B9E7     		b	.L4
 221              	.L12:
 222              		.align	2
 223              	.L11:
 224 00ac 00000000 		.word	.LANCHOR0
 225 00b0 00000000 		.word	FAT12_BootSector
 226 00b4 00000000 		.word	_impure_ptr
 227 00b8 10000000 		.word	.LC1
 228 00bc 00000000 		.word	.LANCHOR1
 229 00c0 00000000 		.word	ACTORS_LIST_SystemRegistry
 230 00c4 2C000000 		.word	.LC2
 231 00c8 40000000 		.word	.LC3
 232 00cc 00000000 		.word	.LC0
 233              		.cfi_endproc
 234              	.LFE141:
 236              		.section	.rodata.MEMORY_TaskInit.str1.4,"aMS",%progbits,1
 237              		.align	2
 238              	.LC4:
 239 0000 6D656D6F 		.ascii	"memoryQueue\000"
 239      72795175 
 239      65756500 
 240              		.section	.text.MEMORY_TaskInit,"ax",%progbits
 241              		.align	1
 242              		.global	MEMORY_TaskInit
 243              		.syntax unified
 244              		.thumb
 245              		.thumb_func
 246              		.fpu fpv4-sp-d16
 248              	MEMORY_TaskInit:
 249              	.LFB140:
  67:app/tasks/memory/memory.c ****   MEMORY_Actor.super.osMessageQueueId = osMessageQueueNew(DEFAULT_QUEUE_SIZE, DEFAULT_QUEUE_MESSAGE
 250              		.loc 1 67 32 is_stmt 1 view -0
 251              		.cfi_startproc
 252              		@ args = 0, pretend = 0, frame = 24
 253              		@ frame_needed = 0, uses_anonymous_args = 0
 254 0000 30B5     		push	{r4, r5, lr}
 255              	.LCFI2:
 256              		.cfi_def_cfa_offset 12
 257              		.cfi_offset 4, -12
 258              		.cfi_offset 5, -8
ARM GAS  /tmp/ccc9MKwa.s 			page 9


 259              		.cfi_offset 14, -4
 260 0002 87B0     		sub	sp, sp, #28
 261              	.LCFI3:
 262              		.cfi_def_cfa_offset 40
  68:app/tasks/memory/memory.c ****           .name = "memoryQueue"
 263              		.loc 1 68 3 view .LVU50
  68:app/tasks/memory/memory.c ****           .name = "memoryQueue"
 264              		.loc 1 68 130 is_stmt 0 view .LVU51
 265 0004 0024     		movs	r4, #0
 266 0006 0094     		str	r4, [sp]
 267 0008 0194     		str	r4, [sp, #4]
 268 000a 0294     		str	r4, [sp, #8]
 269 000c 0394     		str	r4, [sp, #12]
 270 000e 0494     		str	r4, [sp, #16]
 271 0010 0594     		str	r4, [sp, #20]
 272 0012 094B     		ldr	r3, .L15
 273 0014 0093     		str	r3, [sp]
  68:app/tasks/memory/memory.c ****           .name = "memoryQueue"
 274              		.loc 1 68 41 view .LVU52
 275 0016 6A46     		mov	r2, sp
 276 0018 0C21     		movs	r1, #12
 277 001a 0820     		movs	r0, #8
 278 001c FFF7FEFF 		bl	osMessageQueueNew
 279              	.LVL20:
  68:app/tasks/memory/memory.c ****           .name = "memoryQueue"
 280              		.loc 1 68 39 view .LVU53
 281 0020 064D     		ldr	r5, .L15+4
 282 0022 A860     		str	r0, [r5, #8]
  71:app/tasks/memory/memory.c **** 
 283              		.loc 1 71 3 is_stmt 1 view .LVU54
  71:app/tasks/memory/memory.c **** 
 284              		.loc 1 71 35 is_stmt 0 view .LVU55
 285 0024 064A     		ldr	r2, .L15+8
 286 0026 2146     		mov	r1, r4
 287 0028 0648     		ldr	r0, .L15+12
 288 002a FFF7FEFF 		bl	osThreadNew
 289              	.LVL21:
  71:app/tasks/memory/memory.c **** 
 290              		.loc 1 71 33 view .LVU56
 291 002e 6860     		str	r0, [r5, #4]
  73:app/tasks/memory/memory.c **** }
 292              		.loc 1 73 3 is_stmt 1 view .LVU57
  74:app/tasks/memory/memory.c **** 
 293              		.loc 1 74 1 is_stmt 0 view .LVU58
 294 0030 2846     		mov	r0, r5
 295 0032 07B0     		add	sp, sp, #28
 296              	.LCFI4:
 297              		.cfi_def_cfa_offset 12
 298              		@ sp needed
 299 0034 30BD     		pop	{r4, r5, pc}
 300              	.L16:
 301 0036 00BF     		.align	2
 302              	.L15:
 303 0038 00000000 		.word	.LC4
 304 003c 00000000 		.word	.LANCHOR1
 305 0040 00000000 		.word	.LANCHOR2
 306 0044 00000000 		.word	MEMORY_Task
ARM GAS  /tmp/ccc9MKwa.s 			page 10


 307              		.cfi_endproc
 308              	.LFE140:
 310              		.section	.rodata.HAL_GPIO_EXTI_Callback.str1.4,"aMS",%progbits,1
 311              		.align	2
 312              	.LC5:
 313 0000 55534220 		.ascii	"USB connected\012\000"
 313      636F6E6E 
 313      65637465 
 313      640A00
 314 000f 00       		.align	2
 315              	.LC6:
 316 0010 55534220 		.ascii	"USB disconnected\012\000"
 316      64697363 
 316      6F6E6E65 
 316      63746564 
 316      0A00
 317 0022 0000     		.align	2
 318              	.LC7:
 319 0024 4E464320 		.ascii	"NFC GPO Interrupt\012\000"
 319      47504F20 
 319      496E7465 
 319      72727570 
 319      740A00
 320              		.section	.text.HAL_GPIO_EXTI_Callback,"ax",%progbits
 321              		.align	1
 322              		.global	HAL_GPIO_EXTI_Callback
 323              		.syntax unified
 324              		.thumb
 325              		.thumb_func
 326              		.fpu fpv4-sp-d16
 328              	HAL_GPIO_EXTI_Callback:
 329              	.LVL22:
 330              	.LFB143:
 143:app/tasks/memory/memory.c **** 
 144:app/tasks/memory/memory.c **** // TODO move to more suitable place
 145:app/tasks/memory/memory.c **** void HAL_GPIO_EXTI_Callback(uint16_t GPIO_Pin) {
 331              		.loc 1 145 48 is_stmt 1 view -0
 332              		.cfi_startproc
 333              		@ args = 0, pretend = 0, frame = 40
 334              		@ frame_needed = 0, uses_anonymous_args = 0
 335              		.loc 1 145 48 is_stmt 0 view .LVU60
 336 0000 30B5     		push	{r4, r5, lr}
 337              	.LCFI5:
 338              		.cfi_def_cfa_offset 12
 339              		.cfi_offset 4, -12
 340              		.cfi_offset 5, -8
 341              		.cfi_offset 14, -4
 342 0002 8BB0     		sub	sp, sp, #44
 343              	.LCFI6:
 344              		.cfi_def_cfa_offset 56
 345 0004 0446     		mov	r4, r0
 146:app/tasks/memory/memory.c ****   if (GPIO_Pin == USB_VBUS_SENSE_Pin) {
 346              		.loc 1 146 3 is_stmt 1 view .LVU61
 347              		.loc 1 146 6 is_stmt 0 view .LVU62
 348 0006 B0F5807F 		cmp	r0, #256
 349 000a 03D0     		beq	.L22
 350              	.LVL23:
ARM GAS  /tmp/ccc9MKwa.s 			page 11


 351              	.L18:
 147:app/tasks/memory/memory.c ****     GPIO_PinState usbVBusPin = HAL_GPIO_ReadPin(USB_VBUS_SENSE_GPIO_Port, USB_VBUS_SENSE_Pin);
 148:app/tasks/memory/memory.c ****     osMessageQueueId_t evManagerQueue = ACTORS_LIST_SystemRegistry[EV_MANAGER_ACTOR_ID]->osMessageQ
 149:app/tasks/memory/memory.c **** 
 150:app/tasks/memory/memory.c ****     if (usbVBusPin == GPIO_PIN_SET) {
 151:app/tasks/memory/memory.c ****       osMessageQueuePut(evManagerQueue, &(message_t) {USB_CONNECTED}, 0, 0);
 152:app/tasks/memory/memory.c ****       #if DEBUG
 153:app/tasks/memory/memory.c ****             fprintf(stdout, "USB connected\n");
 154:app/tasks/memory/memory.c ****       #endif
 155:app/tasks/memory/memory.c ****     } else {
 156:app/tasks/memory/memory.c ****       osMessageQueuePut(evManagerQueue, &(message_t) {USB_DISCONNECTED}, 0, 0);
 157:app/tasks/memory/memory.c ****       #if DEBUG
 158:app/tasks/memory/memory.c ****             fprintf(stdout, "USB disconnected\n");
 159:app/tasks/memory/memory.c ****       #endif
 160:app/tasks/memory/memory.c ****     }
 161:app/tasks/memory/memory.c ****   }
 162:app/tasks/memory/memory.c **** 
 163:app/tasks/memory/memory.c ****   if (GPIO_Pin == _NFC_INT_Pin) {
 352              		.loc 1 163 3 is_stmt 1 view .LVU63
 353              		.loc 1 163 6 is_stmt 0 view .LVU64
 354 000c 012C     		cmp	r4, #1
 355 000e 36D0     		beq	.L23
 356              	.L17:
 164:app/tasks/memory/memory.c ****     #ifdef DEBUG
 165:app/tasks/memory/memory.c ****         fprintf(stdout, "NFC GPO Interrupt\n");
 166:app/tasks/memory/memory.c ****     #endif
 167:app/tasks/memory/memory.c ****     osMessageQueuePut(NFC_Actor.super.osMessageQueueId, &(message_t){NFC_GPO_INTERRUPT}, 0, 0);
 168:app/tasks/memory/memory.c ****   }
 169:app/tasks/memory/memory.c **** }...
 357              		.loc 1 169 1 view .LVU65
 358 0010 0BB0     		add	sp, sp, #44
 359              	.LCFI7:
 360              		.cfi_remember_state
 361              		.cfi_def_cfa_offset 12
 362              		@ sp needed
 363 0012 30BD     		pop	{r4, r5, pc}
 364              	.LVL24:
 365              	.L22:
 366              	.LCFI8:
 367              		.cfi_restore_state
 368              	.LBB4:
 147:app/tasks/memory/memory.c ****     GPIO_PinState usbVBusPin = HAL_GPIO_ReadPin(USB_VBUS_SENSE_GPIO_Port, USB_VBUS_SENSE_Pin);
 369              		.loc 1 147 5 is_stmt 1 view .LVU66
 147:app/tasks/memory/memory.c ****     GPIO_PinState usbVBusPin = HAL_GPIO_ReadPin(USB_VBUS_SENSE_GPIO_Port, USB_VBUS_SENSE_Pin);
 370              		.loc 1 147 32 is_stmt 0 view .LVU67
 371 0014 4FF48071 		mov	r1, #256
 372 0018 4FF09040 		mov	r0, #1207959552
 373              	.LVL25:
 147:app/tasks/memory/memory.c ****     GPIO_PinState usbVBusPin = HAL_GPIO_ReadPin(USB_VBUS_SENSE_GPIO_Port, USB_VBUS_SENSE_Pin);
 374              		.loc 1 147 32 view .LVU68
 375 001c FFF7FEFF 		bl	HAL_GPIO_ReadPin
 376              	.LVL26:
 148:app/tasks/memory/memory.c ****     osMessageQueueId_t evManagerQueue = ACTORS_LIST_SystemRegistry[EV_MANAGER_ACTOR_ID]->osMessageQ
 377              		.loc 1 148 5 is_stmt 1 view .LVU69
 148:app/tasks/memory/memory.c ****     osMessageQueueId_t evManagerQueue = ACTORS_LIST_SystemRegistry[EV_MANAGER_ACTOR_ID]->osMessageQ
 378              		.loc 1 148 67 is_stmt 0 view .LVU70
 379 0020 224B     		ldr	r3, .L25
ARM GAS  /tmp/ccc9MKwa.s 			page 12


 380 0022 5B68     		ldr	r3, [r3, #4]
 148:app/tasks/memory/memory.c ****     osMessageQueueId_t evManagerQueue = ACTORS_LIST_SystemRegistry[EV_MANAGER_ACTOR_ID]->osMessageQ
 381              		.loc 1 148 24 view .LVU71
 382 0024 9D68     		ldr	r5, [r3, #8]
 383              	.LVL27:
 150:app/tasks/memory/memory.c ****     if (usbVBusPin == GPIO_PIN_SET) {
 384              		.loc 1 150 5 is_stmt 1 view .LVU72
 150:app/tasks/memory/memory.c ****     if (usbVBusPin == GPIO_PIN_SET) {
 385              		.loc 1 150 8 is_stmt 0 view .LVU73
 386 0026 0128     		cmp	r0, #1
 387 0028 14D0     		beq	.L24
 388              	.LBB5:
 156:app/tasks/memory/memory.c ****       osMessageQueuePut(evManagerQueue, &(message_t) {USB_DISCONNECTED}, 0, 0);
 389              		.loc 1 156 7 is_stmt 1 view .LVU74
 156:app/tasks/memory/memory.c ****       osMessageQueuePut(evManagerQueue, &(message_t) {USB_DISCONNECTED}, 0, 0);
 390              		.loc 1 156 54 is_stmt 0 view .LVU75
 391 002a 0022     		movs	r2, #0
 392 002c 0492     		str	r2, [sp, #16]
 393 002e 0592     		str	r2, [sp, #20]
 394 0030 0692     		str	r2, [sp, #24]
 395 0032 1C23     		movs	r3, #28
 396 0034 8DF81030 		strb	r3, [sp, #16]
 156:app/tasks/memory/memory.c ****       osMessageQueuePut(evManagerQueue, &(message_t) {USB_DISCONNECTED}, 0, 0);
 397              		.loc 1 156 7 view .LVU76
 398 0038 1346     		mov	r3, r2
 399 003a 04A9     		add	r1, sp, #16
 400 003c 2846     		mov	r0, r5
 401              	.LVL28:
 156:app/tasks/memory/memory.c ****       osMessageQueuePut(evManagerQueue, &(message_t) {USB_DISCONNECTED}, 0, 0);
 402              		.loc 1 156 7 view .LVU77
 403 003e FFF7FEFF 		bl	osMessageQueuePut
 404              	.LVL29:
 158:app/tasks/memory/memory.c ****             fprintf(stdout, "USB disconnected\n");
 405              		.loc 1 158 13 is_stmt 1 view .LVU78
 158:app/tasks/memory/memory.c ****             fprintf(stdout, "USB disconnected\n");
 406              		.loc 1 158 21 is_stmt 0 view .LVU79
 407 0042 1B4B     		ldr	r3, .L25+4
 408 0044 1B68     		ldr	r3, [r3]
 158:app/tasks/memory/memory.c ****             fprintf(stdout, "USB disconnected\n");
 409              		.loc 1 158 13 view .LVU80
 410 0046 9B68     		ldr	r3, [r3, #8]
 411 0048 1122     		movs	r2, #17
 412 004a 0121     		movs	r1, #1
 413 004c 1948     		ldr	r0, .L25+8
 414 004e FFF7FEFF 		bl	fwrite
 415              	.LVL30:
 416 0052 DBE7     		b	.L18
 417              	.LVL31:
 418              	.L24:
 158:app/tasks/memory/memory.c ****             fprintf(stdout, "USB disconnected\n");
 419              		.loc 1 158 13 view .LVU81
 420              	.LBE5:
 421              	.LBB6:
 151:app/tasks/memory/memory.c ****       osMessageQueuePut(evManagerQueue, &(message_t) {USB_CONNECTED}, 0, 0);
 422              		.loc 1 151 7 is_stmt 1 view .LVU82
 151:app/tasks/memory/memory.c ****       osMessageQueuePut(evManagerQueue, &(message_t) {USB_CONNECTED}, 0, 0);
 423              		.loc 1 151 54 is_stmt 0 view .LVU83
ARM GAS  /tmp/ccc9MKwa.s 			page 13


 424 0054 0022     		movs	r2, #0
 425 0056 0192     		str	r2, [sp, #4]
 426 0058 0292     		str	r2, [sp, #8]
 427 005a 0392     		str	r2, [sp, #12]
 428 005c 1B23     		movs	r3, #27
 429 005e 8DF80430 		strb	r3, [sp, #4]
 151:app/tasks/memory/memory.c ****       osMessageQueuePut(evManagerQueue, &(message_t) {USB_CONNECTED}, 0, 0);
 430              		.loc 1 151 7 view .LVU84
 431 0062 1346     		mov	r3, r2
 432 0064 01A9     		add	r1, sp, #4
 433 0066 2846     		mov	r0, r5
 434              	.LVL32:
 151:app/tasks/memory/memory.c ****       osMessageQueuePut(evManagerQueue, &(message_t) {USB_CONNECTED}, 0, 0);
 435              		.loc 1 151 7 view .LVU85
 436 0068 FFF7FEFF 		bl	osMessageQueuePut
 437              	.LVL33:
 153:app/tasks/memory/memory.c ****             fprintf(stdout, "USB connected\n");
 438              		.loc 1 153 13 is_stmt 1 view .LVU86
 153:app/tasks/memory/memory.c ****             fprintf(stdout, "USB connected\n");
 439              		.loc 1 153 21 is_stmt 0 view .LVU87
 440 006c 104B     		ldr	r3, .L25+4
 441 006e 1B68     		ldr	r3, [r3]
 153:app/tasks/memory/memory.c ****             fprintf(stdout, "USB connected\n");
 442              		.loc 1 153 13 view .LVU88
 443 0070 9B68     		ldr	r3, [r3, #8]
 444 0072 0E22     		movs	r2, #14
 445 0074 0121     		movs	r1, #1
 446 0076 1048     		ldr	r0, .L25+12
 447 0078 FFF7FEFF 		bl	fwrite
 448              	.LVL34:
 449              	.LBE6:
 450 007c C6E7     		b	.L18
 451              	.LVL35:
 452              	.L23:
 153:app/tasks/memory/memory.c ****             fprintf(stdout, "USB connected\n");
 453              		.loc 1 153 13 view .LVU89
 454              	.LBE4:
 455              	.LBB7:
 165:app/tasks/memory/memory.c ****         fprintf(stdout, "NFC GPO Interrupt\n");
 456              		.loc 1 165 9 is_stmt 1 view .LVU90
 165:app/tasks/memory/memory.c ****         fprintf(stdout, "NFC GPO Interrupt\n");
 457              		.loc 1 165 17 is_stmt 0 view .LVU91
 458 007e 0C4B     		ldr	r3, .L25+4
 459 0080 1B68     		ldr	r3, [r3]
 165:app/tasks/memory/memory.c ****         fprintf(stdout, "NFC GPO Interrupt\n");
 460              		.loc 1 165 9 view .LVU92
 461 0082 9B68     		ldr	r3, [r3, #8]
 462 0084 1222     		movs	r2, #18
 463 0086 0121     		movs	r1, #1
 464 0088 0C48     		ldr	r0, .L25+16
 465 008a FFF7FEFF 		bl	fwrite
 466              	.LVL36:
 167:app/tasks/memory/memory.c ****     osMessageQueuePut(NFC_Actor.super.osMessageQueueId, &(message_t){NFC_GPO_INTERRUPT}, 0, 0);
 467              		.loc 1 167 5 is_stmt 1 view .LVU93
 167:app/tasks/memory/memory.c ****     osMessageQueuePut(NFC_Actor.super.osMessageQueueId, &(message_t){NFC_GPO_INTERRUPT}, 0, 0);
 468              		.loc 1 167 69 is_stmt 0 view .LVU94
 469 008e 0022     		movs	r2, #0
ARM GAS  /tmp/ccc9MKwa.s 			page 14


 470 0090 0792     		str	r2, [sp, #28]
 471 0092 0892     		str	r2, [sp, #32]
 472 0094 0992     		str	r2, [sp, #36]
 473 0096 0F23     		movs	r3, #15
 474 0098 8DF81C30 		strb	r3, [sp, #28]
 167:app/tasks/memory/memory.c ****     osMessageQueuePut(NFC_Actor.super.osMessageQueueId, &(message_t){NFC_GPO_INTERRUPT}, 0, 0);
 475              		.loc 1 167 5 view .LVU95
 476 009c 1346     		mov	r3, r2
 477 009e 07A9     		add	r1, sp, #28
 478 00a0 0748     		ldr	r0, .L25+20
 479 00a2 8068     		ldr	r0, [r0, #8]
 480 00a4 FFF7FEFF 		bl	osMessageQueuePut
 481              	.LVL37:
 482              	.LBE7:
 483              		.loc 1 169 1 view .LVU96
 484 00a8 B2E7     		b	.L17
 485              	.L26:
 486 00aa 00BF     		.align	2
 487              	.L25:
 488 00ac 00000000 		.word	ACTORS_LIST_SystemRegistry
 489 00b0 00000000 		.word	_impure_ptr
 490 00b4 10000000 		.word	.LC6
 491 00b8 00000000 		.word	.LC5
 492 00bc 24000000 		.word	.LC7
 493 00c0 00000000 		.word	NFC_Actor
 494              		.cfi_endproc
 495              	.LFE143:
 497              		.global	MEMORY_W25QHandle
 498              		.global	memoryTaskDescription
 499              		.section	.rodata.str1.4,"aMS",%progbits,1
 500              		.align	2
 501              	.LC8:
 502 0000 6D656D6F 		.ascii	"memoryTask\000"
 502      72795461 
 502      736B00
 503              		.global	memoryTaskControlBlock
 504              		.global	memoryTaskBuffer
 505              		.global	MEMORY_Actor
 506              		.section	.bss.memoryTaskBuffer,"aw",%nobits
 507              		.align	2
 510              	memoryTaskBuffer:
 511 0000 00000000 		.space	512
 511      00000000 
 511      00000000 
 511      00000000 
 511      00000000 
 512              		.section	.bss.memoryTaskControlBlock,"aw",%nobits
 513              		.align	2
 516              	memoryTaskControlBlock:
 517 0000 00000000 		.space	92
 517      00000000 
 517      00000000 
 517      00000000 
 517      00000000 
 518              		.section	.data.MEMORY_Actor,"aw"
 519              		.align	2
 520              		.set	.LANCHOR1,. + 0
ARM GAS  /tmp/ccc9MKwa.s 			page 15


 523              	MEMORY_Actor:
 524 0000 08000000 		.word	8
 525 0004 00000000 		.word	0
 526 0008 00000000 		.word	0
 527 000c 00000000 		.word	handleMemoryFSM
 528 0010 00       		.byte	0
 529 0011 000000   		.space	3
 530              		.section	.data.MEMORY_W25QHandle,"aw"
 531              		.align	2
 532              		.set	.LANCHOR0,. + 0
 535              	MEMORY_W25QHandle:
 536 0000 00000000 		.word	hqspi
 537 0004 00000000 		.space	8
 537      00000000 
 538 000c 00008000 		.word	8388608
 539 0010 00100000 		.word	4096
 540 0014 00010000 		.word	256
 541 0018 00010000 		.word	256
 542 001c 00800000 		.word	32768
 543 0020 00000100 		.word	65536
 544 0024 00       		.byte	0
 545 0025 000000   		.space	3
 546 0028 FFFFFF00 		.word	16777215
 547              		.section	.rodata.memoryTaskDescription,"a"
 548              		.align	2
 549              		.set	.LANCHOR2,. + 0
 552              	memoryTaskDescription:
 553 0000 00000000 		.word	.LC8
 554 0004 00000000 		.space	4
 555 0008 00000000 		.word	memoryTaskControlBlock
 556 000c 5C000000 		.word	92
 557 0010 00000000 		.word	memoryTaskBuffer
 558 0014 00020000 		.word	512
 559 0018 18000000 		.word	24
 560 001c 00000000 		.space	8
 560      00000000 
 561              		.text
 562              	.Letext0:
 563              		.file 2 "/usr/include/newlib/machine/_default_types.h"
 564              		.file 3 "/usr/lib/gcc/arm-none-eabi/10.3.1/include/stddef.h"
 565              		.file 4 "/usr/include/newlib/sys/_types.h"
 566              		.file 5 "/usr/include/newlib/sys/reent.h"
 567              		.file 6 "/usr/include/newlib/sys/lock.h"
 568              		.file 7 "/usr/include/newlib/sys/_stdint.h"
 569              		.file 8 "/usr/include/newlib/sys/types.h"
 570              		.file 9 "Drivers/CMSIS/Device/ST/STM32L4xx/Include/stm32l412xx.h"
 571              		.file 10 "Drivers/STM32L4xx_HAL_Driver/Inc/stm32l4xx_hal_def.h"
 572              		.file 11 "Drivers/STM32L4xx_HAL_Driver/Inc/stm32l4xx_hal_gpio.h"
 573              		.file 12 "Drivers/STM32L4xx_HAL_Driver/Inc/stm32l4xx_hal_dma.h"
 574              		.file 13 "Drivers/STM32L4xx_HAL_Driver/Inc/stm32l4xx_hal_qspi.h"
 575              		.file 14 "Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS_V2/cmsis_os2.h"
 576              		.file 15 "app/core/actor/../../config/events_list/events_list.h"
 577              		.file 16 "app/core/actor/../../config/actors_list/actors_list.h"
 578              		.file 17 "app/core/actor/actor.h"
 579              		.file 18 "Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h"
 580              		.file 19 "Middlewares/Third_Party/FreeRTOS/Source/include/FreeRTOS.h"
 581              		.file 20 "Drivers/BSP/Components/ST25DV/st25dv_reg.h"
ARM GAS  /tmp/ccc9MKwa.s 			page 16


 582              		.file 21 "Drivers/BSP/Components/ST25DV/st25dv.h"
 583              		.file 22 "app/tasks/nfc/nfc.h"
 584              		.file 23 "Core/Inc/quadspi.h"
 585              		.file 24 "app/drivers/w25q/w25q.h"
 586              		.file 25 "app/tasks/memory/memory.h"
 587              		.file 26 "/usr/include/newlib/stdio.h"
 588              		.file 27 "<built-in>"
ARM GAS  /tmp/ccc9MKwa.s 			page 17


DEFINED SYMBOLS
                            *ABS*:0000000000000000 memory.c
     /tmp/ccc9MKwa.s:18     .text.handleMemoryFSM:0000000000000000 $t
     /tmp/ccc9MKwa.s:25     .text.handleMemoryFSM:0000000000000000 handleMemoryFSM
     /tmp/ccc9MKwa.s:44     .rodata.MEMORY_Task.str1.4:0000000000000000 $d
     /tmp/ccc9MKwa.s:57     .text.MEMORY_Task:0000000000000000 $t
     /tmp/ccc9MKwa.s:64     .text.MEMORY_Task:0000000000000000 MEMORY_Task
     /tmp/ccc9MKwa.s:224    .text.MEMORY_Task:00000000000000ac $d
     /tmp/ccc9MKwa.s:237    .rodata.MEMORY_TaskInit.str1.4:0000000000000000 $d
     /tmp/ccc9MKwa.s:241    .text.MEMORY_TaskInit:0000000000000000 $t
     /tmp/ccc9MKwa.s:248    .text.MEMORY_TaskInit:0000000000000000 MEMORY_TaskInit
     /tmp/ccc9MKwa.s:303    .text.MEMORY_TaskInit:0000000000000038 $d
     /tmp/ccc9MKwa.s:311    .rodata.HAL_GPIO_EXTI_Callback.str1.4:0000000000000000 $d
     /tmp/ccc9MKwa.s:321    .text.HAL_GPIO_EXTI_Callback:0000000000000000 $t
     /tmp/ccc9MKwa.s:328    .text.HAL_GPIO_EXTI_Callback:0000000000000000 HAL_GPIO_EXTI_Callback
     /tmp/ccc9MKwa.s:488    .text.HAL_GPIO_EXTI_Callback:00000000000000ac $d
     /tmp/ccc9MKwa.s:535    .data.MEMORY_W25QHandle:0000000000000000 MEMORY_W25QHandle
     /tmp/ccc9MKwa.s:552    .rodata.memoryTaskDescription:0000000000000000 memoryTaskDescription
     /tmp/ccc9MKwa.s:500    .rodata.str1.4:0000000000000000 $d
     /tmp/ccc9MKwa.s:516    .bss.memoryTaskControlBlock:0000000000000000 memoryTaskControlBlock
     /tmp/ccc9MKwa.s:510    .bss.memoryTaskBuffer:0000000000000000 memoryTaskBuffer
     /tmp/ccc9MKwa.s:523    .data.MEMORY_Actor:0000000000000000 MEMORY_Actor
     /tmp/ccc9MKwa.s:507    .bss.memoryTaskBuffer:0000000000000000 $d
     /tmp/ccc9MKwa.s:513    .bss.memoryTaskControlBlock:0000000000000000 $d
     /tmp/ccc9MKwa.s:519    .data.MEMORY_Actor:0000000000000000 $d
     /tmp/ccc9MKwa.s:531    .data.MEMORY_W25QHandle:0000000000000000 $d
     /tmp/ccc9MKwa.s:548    .rodata.memoryTaskDescription:0000000000000000 $d

UNDEFINED SYMBOLS
W25Q_EraseChip
W25Q_WriteData
fwrite
osMessageQueueGet
osMessageQueuePut
fprintf
FAT12_BootSector
_impure_ptr
ACTORS_LIST_SystemRegistry
osMessageQueueNew
osThreadNew
HAL_GPIO_ReadPin
NFC_Actor
hqspi
